{"meta":{"title":"YCX-Blog","subtitle":"YCXçš„ä¸ªäººåšå®¢","description":"YCXçš„ä¸ªäººåšå®¢ï¼Œæ¯æ—¥(ä¸ä¸€å®š)æ›´æ–°","author":"YCX","url":"http://ycx81.github.io","root":"/"},"pages":[{"title":"","date":"2023-08-23T07:31:05.966Z","updated":"2023-08-23T07:31:05.966Z","comments":true,"path":"404/index.html","permalink":"http://ycx81.github.io/404/index.html","excerpt":"","text":"â€‹â€”title: â€˜404â€™date: 2022-07-24 16:24:02comments: falseâ€‹â€”"},{"title":"","date":"2022-07-25T07:42:39.000Z","updated":"2023-08-23T08:23:24.207Z","comments":true,"path":"about/index.html","permalink":"http://ycx81.github.io/about/index.html","excerpt":"","text":"ç¥ç§˜çš„YCXä¸æƒ³åœ¨è¿™ç•™ä¸‹ä»»ä½•æœ‰æ•ˆåœ°å€ğŸ˜œ"},{"title":"","date":"2022-07-24T13:57:54.000Z","updated":"2023-08-23T08:17:27.595Z","comments":true,"path":"categories/index.html","permalink":"http://ycx81.github.io/categories/index.html","excerpt":"","text":""},{"title":"sitemap","date":"2022-07-24T08:18:51.000Z","updated":"2023-08-23T07:31:12.980Z","comments":true,"path":"sitemap/index.html","permalink":"http://ycx81.github.io/sitemap/index.html","excerpt":"","text":""},{"title":"archives","date":"2022-07-24T08:18:22.000Z","updated":"2023-08-23T07:31:08.440Z","comments":true,"path":"archives/index.html","permalink":"http://ycx81.github.io/archives/index.html","excerpt":"","text":""},{"title":"","date":"2022-07-24T13:55:00.000Z","updated":"2023-08-23T08:16:49.305Z","comments":true,"path":"tags/index.html","permalink":"http://ycx81.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"Qtå¼€å‘å¸¸ç”¨æ§ä»¶è¯¦è§£(2)","slug":"Qtå¼€å‘å¸¸ç”¨æ§ä»¶è¯¦è§£-2","date":"2024-12-26T13:32:58.000Z","updated":"2024-12-26T13:33:48.988Z","comments":true,"path":"2024/12/26/Qtå¼€å‘å¸¸ç”¨æ§ä»¶è¯¦è§£-2/","link":"","permalink":"http://ycx81.github.io/2024/12/26/Qt%E5%BC%80%E5%8F%91%E5%B8%B8%E7%94%A8%E6%8E%A7%E4%BB%B6%E8%AF%A6%E8%A7%A3-2/","excerpt":"å‰è¨€","text":"å‰è¨€ Qtå¼€å‘å¸¸ç”¨æ§ä»¶è¯¦è§£ï¼ˆ2ï¼‰åœ¨Qtæ¡†æ¶ä¸­ï¼Œæ§ä»¶ï¼ˆWidgetsï¼‰æ˜¯æ„å»ºå›¾å½¢ç”¨æˆ·ç•Œé¢çš„åŸºçŸ³ã€‚Qtæä¾›äº†ä¸°å¯Œçš„æ§ä»¶åº“ï¼Œæ¶µç›–äº†å¸ƒå±€ç®¡ç†ã€æŒ‰é’®ã€å®¹å™¨ã€è§†å›¾ã€è¾“å…¥å’Œæ˜¾ç¤ºç­‰å„ä¸ªæ–¹é¢ï¼Œæ»¡è¶³ä¸åŒåº”ç”¨åœºæ™¯çš„éœ€æ±‚ã€‚æŒæ¡è¿™äº›å¸¸ç”¨æ§ä»¶çš„ä½¿ç”¨æ–¹æ³•å’Œæœ€ä½³å®è·µï¼Œæ˜¯é«˜æ•ˆå¼€å‘Qtåº”ç”¨ç¨‹åºçš„å…³é”®ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»Qtå¼€å‘ä¸­å¸¸ç”¨çš„æ§ä»¶ç±»åˆ«ï¼ŒåŒ…æ‹¬å¸ƒå±€ç®¡ç†å™¨å’Œç©ºç™½æ§ä»¶ã€æŒ‰é’®ä¸å®¹å™¨æ§ä»¶ã€åŸºäºæ¨¡å‹çš„è§†å›¾æ§ä»¶ã€åŸºäºé¡¹çš„è§†å›¾æ§ä»¶ã€è¾“å…¥æ§ä»¶ä»¥åŠæ˜¾ç¤ºæ§ä»¶ã€‚é€šè¿‡è¿™äº›å†…å®¹çš„å­¦ä¹ ï¼Œæ‚¨å°†èƒ½å¤Ÿæ„å»ºç¾è§‚ã€åŠŸèƒ½ä¸°å¯Œä¸”é«˜æ•ˆçš„ç”¨æˆ·ç•Œé¢ã€‚ 1. Layouts &amp; Spacers1.1 å¸ƒå±€ç®¡ç†å™¨ï¼ˆLayoutsï¼‰å¸ƒå±€ç®¡ç†å™¨ç”¨äºè‡ªåŠ¨æ’åˆ—å’Œè°ƒæ•´æ§ä»¶çš„å¤§å°ï¼Œä»¥é€‚åº”ä¸åŒçš„çª—å£å°ºå¯¸å’Œåˆ†è¾¨ç‡ã€‚Qtæä¾›äº†å¤šç§å¸ƒå±€ç®¡ç†å™¨ï¼Œæ¯ç§å¸ƒå±€ç®¡ç†å™¨é€‚ç”¨äºä¸åŒçš„å¸ƒå±€éœ€æ±‚ã€‚ å¸¸ç”¨å¸ƒå±€ç®¡ç†å™¨ QHBoxLayoutï¼šæ°´å¹³å¸ƒå±€ç®¡ç†å™¨ï¼ŒæŒ‰æ°´å¹³æ–¹å‘æ’åˆ—æ§ä»¶ã€‚ QVBoxLayoutï¼šå‚ç›´å¸ƒå±€ç®¡ç†å™¨ï¼ŒæŒ‰å‚ç›´æ–¹å‘æ’åˆ—æ§ä»¶ã€‚ QGridLayoutï¼šç½‘æ ¼å¸ƒå±€ç®¡ç†å™¨ï¼ŒæŒ‰è¡Œå’Œåˆ—æ’åˆ—æ§ä»¶ã€‚ QFormLayoutï¼šè¡¨å•å¸ƒå±€ç®¡ç†å™¨ï¼Œé€‚ç”¨äºè¡¨å•è¾“å…¥ç•Œé¢ã€‚ ç¤ºä¾‹ï¼šä½¿ç”¨QVBoxLayoutå’ŒQHBoxLayoutä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨QVBoxLayoutå’ŒQHBoxLayoutç»“åˆå¸ƒå±€ç®¡ç†å™¨æ¥è®¾è®¡ä¸€ä¸ªç®€æ´ç¾è§‚çš„ç”¨æˆ·ç•Œé¢ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940#include &lt;QApplication&gt;#include &lt;QWidget&gt;#include &lt;QPushButton&gt;#include &lt;QHBoxLayout&gt;#include &lt;QVBoxLayout&gt;#include &lt;QSpacerItem&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºä¸»çª—å£ QWidget window; window.setWindowTitle(&quot;å¸ƒå±€ç®¡ç†å™¨ç¤ºä¾‹&quot;); // åˆ›å»ºæŒ‰é’® QPushButton *button1 = new QPushButton(&quot;æŒ‰é’®1&quot;); QPushButton *button2 = new QPushButton(&quot;æŒ‰é’®2&quot;); QPushButton *button3 = new QPushButton(&quot;æŒ‰é’®3&quot;); // åˆ›å»ºæ°´å¹³å¸ƒå±€ç®¡ç†å™¨ QHBoxLayout *hLayout = new QHBoxLayout; hLayout-&gt;addWidget(button1); hLayout-&gt;addWidget(button2); // æ·»åŠ é—´éš”æ§ä»¶ï¼Œå°†button3æ¨å‘å³ä¾§ QSpacerItem *spacer = new QSpacerItem(40, 20, QSizePolicy::Expanding, QSizePolicy::Minimum); hLayout-&gt;addItem(spacer); hLayout-&gt;addWidget(button3); // åˆ›å»ºå‚ç›´å¸ƒå±€ç®¡ç†å™¨ QVBoxLayout *vLayout = new QVBoxLayout; vLayout-&gt;addLayout(hLayout); // è®¾ç½®ä¸»çª—å£çš„å¸ƒå±€ window.setLayout(vLayout); window.resize(400, 200); window.show(); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QHBoxLayoutç”¨äºæ°´å¹³æ’åˆ—æŒ‰é’®1å’ŒæŒ‰é’®2ã€‚ QSpacerItemè¢«æ·»åŠ åˆ°æ°´å¹³å¸ƒå±€ä¸­ï¼Œèµ·åˆ°å¼¹æ€§ç©ºé—´çš„ä½œç”¨ï¼Œå°†æŒ‰é’®3æ¨å‘å¸ƒå±€çš„å³ä¾§ã€‚ QVBoxLayoutå°†æ°´å¹³å¸ƒå±€åµŒå¥—åœ¨å‚ç›´å¸ƒå±€ä¸­ï¼Œç¡®ä¿ç•Œé¢åœ¨å‚ç›´æ–¹å‘ä¸Šçš„çµæ´»æ€§ã€‚ 1.2 Spacerï¼ˆé—´éš”æ§ä»¶ï¼‰é—´éš”æ§ä»¶ç”¨äºåœ¨å¸ƒå±€ä¸­æ·»åŠ å¼¹æ€§ç©ºé—´ï¼Œå¸®åŠ©æ§ä»¶ä¹‹é—´ä¿æŒé€‚å½“çš„é—´è·æˆ–å°†æ§ä»¶æ¨å‘å¸ƒå±€çš„ä¸€ä¾§ã€‚Qtæä¾›äº†ä¸¤ç§ä¸»è¦çš„é—´éš”æ§ä»¶ï¼š QSpacerItemï¼šé€šç”¨çš„é—´éš”é¡¹ï¼Œå¯ç”¨äºä»»ä½•å¸ƒå±€ä¸­ã€‚ QSpacerWidgetï¼šåŸºäºQWidgetçš„é—´éš”æ§ä»¶ï¼Œå·²åœ¨Qt 5ä¸­å¼ƒç”¨ï¼Œæ¨èä½¿ç”¨QSpacerItemã€‚ ç¤ºä¾‹ï¼šä½¿ç”¨QSpacerItemä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨QSpacerItemåœ¨å¸ƒå±€ä¸­æ·»åŠ å¼¹æ€§ç©ºé—´ï¼Œä»¥ä¼˜åŒ–æ§ä»¶çš„æ’åˆ—ã€‚ 12345678910111213141516171819202122232425262728293031323334#include &lt;QApplication&gt;#include &lt;QWidget&gt;#include &lt;QPushButton&gt;#include &lt;QHBoxLayout&gt;#include &lt;QSpacerItem&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºä¸»çª—å£ QWidget window; window.setWindowTitle(&quot;é—´éš”æ§ä»¶ç¤ºä¾‹&quot;); // åˆ›å»ºæŒ‰é’® QPushButton *buttonLeft = new QPushButton(&quot;å·¦ä¾§æŒ‰é’®&quot;); QPushButton *buttonRight = new QPushButton(&quot;å³ä¾§æŒ‰é’®&quot;); // åˆ›å»ºæ°´å¹³å¸ƒå±€ç®¡ç†å™¨ QHBoxLayout *hLayout = new QHBoxLayout; hLayout-&gt;addWidget(buttonLeft); // æ·»åŠ é—´éš”æ§ä»¶ QSpacerItem *spacer = new QSpacerItem(40, 20, QSizePolicy::Expanding, QSizePolicy::Minimum); hLayout-&gt;addItem(spacer); hLayout-&gt;addWidget(buttonRight); // è®¾ç½®ä¸»çª—å£çš„å¸ƒå±€ window.setLayout(hLayout); window.resize(400, 100); window.show(); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QSpacerItemè¢«æ·»åŠ åˆ°æ°´å¹³å¸ƒå±€ä¸­ï¼Œèµ·åˆ°å¼¹æ€§ç©ºé—´çš„ä½œç”¨ï¼Œå°†ä¸¤ä¸ªæŒ‰é’®åˆ†åˆ«æ¨å‘å¸ƒå±€çš„å·¦å³ä¸¤ä¾§ã€‚ ä½¿ç”¨é—´éš”æ§ä»¶å¯ä»¥ç¡®ä¿ç•Œé¢åœ¨ä¸åŒçª—å£å°ºå¯¸ä¸‹ä¿æŒç¾è§‚å’Œå“åº”å¼ã€‚ 1.3 å¸ƒå±€ç®¡ç†å™¨çš„æœ€ä½³å®è·µ é¿å…åœ¨æ§ä»¶ä¹‹é—´ä½¿ç”¨å›ºå®šå¤§å°ï¼šå°½é‡ä½¿ç”¨å¸ƒå±€ç®¡ç†å™¨è‡ªåŠ¨è°ƒæ•´æ§ä»¶å¤§å°ï¼Œä»¥é€‚åº”ä¸åŒçš„çª—å£å°ºå¯¸ã€‚ åˆç†ä½¿ç”¨åµŒå¥—å¸ƒå±€ï¼šé€šè¿‡åµŒå¥—ä½¿ç”¨QHBoxLayoutå’ŒQVBoxLayoutï¼Œå¯ä»¥è®¾è®¡å¤æ‚ä¸”çµæ´»çš„ç•Œé¢ã€‚ ä½¿ç”¨é—´éš”æ§ä»¶ä¼˜åŒ–å¸ƒå±€ï¼šé€‚å½“æ·»åŠ é—´éš”æ§ä»¶ï¼Œç¡®ä¿æ§ä»¶ä¹‹é—´çš„é—´è·åˆç†ï¼Œæå‡ç•Œé¢çš„ç¾è§‚æ€§ã€‚ 2. Buttons &amp; Containers2.1 æŒ‰é’®æ§ä»¶ï¼ˆButtonsï¼‰æŒ‰é’®æ˜¯ç”¨æˆ·ç•Œé¢ä¸­æœ€å¸¸ç”¨çš„æ§ä»¶ä¹‹ä¸€ï¼Œç”¨äºè§¦å‘å„ç§æ“ä½œå’Œäº‹ä»¶ã€‚Qtæä¾›äº†å¤šç§æŒ‰é’®æ§ä»¶ï¼Œæ»¡è¶³ä¸åŒçš„éœ€æ±‚ã€‚ å¸¸è§æŒ‰é’®æ§ä»¶ QPushButtonï¼šæ ‡å‡†æŒ‰é’®ï¼Œç”¨äºæ‰§è¡Œå‘½ä»¤ã€‚ QToolButtonï¼šå·¥å…·æŒ‰é’®ï¼Œé€šå¸¸ç”¨äºå·¥å…·æ ä¸­ï¼Œæ”¯æŒå›¾æ ‡æ˜¾ç¤ºã€‚ QRadioButtonï¼šå•é€‰æŒ‰é’®ï¼Œç”¨äºåœ¨å¤šä¸ªé€‰é¡¹ä¸­é€‰æ‹©ä¸€ä¸ªã€‚ QCheckBoxï¼šå¤é€‰æ¡†ï¼Œç”¨äºé€‰æ‹©æˆ–å–æ¶ˆé€‰æ‹©å¤šä¸ªé€‰é¡¹ã€‚ QCommandLinkButtonï¼šå‘½ä»¤é“¾æ¥æŒ‰é’®ï¼Œå¸¦æœ‰æè¿°æ–‡æœ¬ï¼Œç±»ä¼¼äºWindows Vistaä¸­çš„é“¾æ¥æŒ‰é’®ã€‚ ç¤ºä¾‹ï¼šä½¿ç”¨QPushButtonä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•åˆ›å»ºå’Œä½¿ç”¨QPushButtonï¼Œå¹¶å“åº”æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ã€‚ 1234567891011121314151617181920212223242526272829303132#include &lt;QApplication&gt;#include &lt;QWidget&gt;#include &lt;QPushButton&gt;#include &lt;QVBoxLayout&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºä¸»çª—å£ QWidget window; window.setWindowTitle(&quot;QPushButton ç¤ºä¾‹&quot;); // åˆ›å»ºæŒ‰é’® QPushButton *button = new QPushButton(&quot;ç‚¹å‡»æˆ‘&quot;); // åˆ›å»ºå¸ƒå±€ç®¡ç†å™¨ QVBoxLayout *vLayout = new QVBoxLayout; vLayout-&gt;addWidget(button); // è®¾ç½®ä¸»çª—å£çš„å¸ƒå±€ window.setLayout(vLayout); window.resize(200, 100); window.show(); // è¿æ¥æŒ‰é’®ç‚¹å‡»ä¿¡å·åˆ°æ§½å‡½æ•° QObject::connect(button, &amp;QPushButton::clicked, [&amp;]()&#123; qDebug() &lt;&lt; &quot;æŒ‰é’®è¢«ç‚¹å‡»äº†ï¼&quot;; &#125;); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QPushButtonç”¨äºåˆ›å»ºä¸€ä¸ªå¯ç‚¹å‡»çš„æŒ‰é’®ã€‚ é€šè¿‡QObject::connectå°†æŒ‰é’®çš„clickedä¿¡å·è¿æ¥åˆ°ä¸€ä¸ªlambdaæ§½å‡½æ•°ï¼Œå®ç°ç‚¹å‡»æŒ‰é’®æ—¶çš„å“åº”æ“ä½œã€‚ ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œæ§åˆ¶å°å°†è¾“å‡ºâ€œæŒ‰é’®è¢«ç‚¹å‡»äº†ï¼â€çš„è°ƒè¯•ä¿¡æ¯ã€‚ 2.2 å®¹å™¨æ§ä»¶ï¼ˆContainersï¼‰å®¹å™¨æ§ä»¶ç”¨äºç»„ç»‡å’Œç®¡ç†å…¶ä»–æ§ä»¶ï¼Œæä¾›åˆ†ç»„å’Œç»“æ„åŒ–ç•Œé¢çš„èƒ½åŠ›ã€‚å¸¸ç”¨çš„å®¹å™¨æ§ä»¶åŒ…æ‹¬ï¼š QGroupBoxï¼šåˆ†ç»„æ¡†ï¼Œç”¨äºåœ¨è§†è§‰ä¸Šåˆ†ç»„ç›¸å…³çš„æ§ä»¶ã€‚ QFrameï¼šæ¡†æ¶æ§ä»¶ï¼Œæä¾›å¤šç§è¾¹æ¡†æ ·å¼ã€‚ QScrollAreaï¼šæ»šåŠ¨åŒºåŸŸæ§ä»¶ï¼Œå…è®¸åœ¨æœ‰é™çš„ç©ºé—´å†…æ˜¾ç¤ºè¶…å‡ºè§†å›¾èŒƒå›´çš„å†…å®¹ã€‚ ç¤ºä¾‹ï¼šä½¿ç”¨QGroupBoxç»„ç»‡æ§ä»¶ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨QGroupBoxæ¥åˆ†ç»„ç›¸å…³çš„æŒ‰é’®æ§ä»¶ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354#include &lt;QApplication&gt;#include &lt;QWidget&gt;#include &lt;QPushButton&gt;#include &lt;QGroupBox&gt;#include &lt;QVBoxLayout&gt;#include &lt;QHBoxLayout&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºä¸»çª—å£ QWidget window; window.setWindowTitle(&quot;æŒ‰é’®ä¸å®¹å™¨æ§ä»¶ç¤ºä¾‹&quot;); // åˆ›å»ºQGroupBox QGroupBox *groupBox = new QGroupBox(&quot;æ“ä½œé€‰é¡¹&quot;); // åˆ›å»ºæŒ‰é’® QPushButton *btnStart = new QPushButton(&quot;å¼€å§‹&quot;); QPushButton *btnStop = new QPushButton(&quot;åœæ­¢&quot;); QPushButton *btnPause = new QPushButton(&quot;æš‚åœ&quot;); // è¿æ¥æŒ‰é’®ä¿¡å·åˆ°æ§½ QObject::connect(btnStart, &amp;QPushButton::clicked, []()&#123; qDebug() &lt;&lt; &quot;å¼€å§‹æŒ‰é’®è¢«ç‚¹å‡»&quot;; &#125;); QObject::connect(btnStop, &amp;QPushButton::clicked, []()&#123; qDebug() &lt;&lt; &quot;åœæ­¢æŒ‰é’®è¢«ç‚¹å‡»&quot;; &#125;); QObject::connect(btnPause, &amp;QPushButton::clicked, []()&#123; qDebug() &lt;&lt; &quot;æš‚åœæŒ‰é’®è¢«ç‚¹å‡»&quot;; &#125;); // åˆ›å»ºå¸ƒå±€ç®¡ç†å™¨ QHBoxLayout *hLayout = new QHBoxLayout; hLayout-&gt;addWidget(btnStart); hLayout-&gt;addWidget(btnStop); hLayout-&gt;addWidget(btnPause); // è®¾ç½®QGroupBoxçš„å¸ƒå±€ groupBox-&gt;setLayout(hLayout); // åˆ›å»ºä¸»å¸ƒå±€ QVBoxLayout *vLayout = new QVBoxLayout; vLayout-&gt;addWidget(groupBox); // è®¾ç½®ä¸»çª—å£çš„å¸ƒå±€ window.setLayout(vLayout); window.resize(300, 150); window.show(); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QGroupBoxç”¨äºè§†è§‰ä¸Šåˆ†ç»„â€œå¼€å§‹â€ã€â€œåœæ­¢â€å’Œâ€œæš‚åœâ€æŒ‰é’®ã€‚ æŒ‰é’®çš„ç‚¹å‡»ä¿¡å·é€šè¿‡QObject::connectè¿æ¥åˆ°lambdaæ§½å‡½æ•°ï¼Œæ‰“å°ç›¸åº”çš„è°ƒè¯•ä¿¡æ¯ã€‚ QHBoxLayoutåœ¨QGroupBoxå†…éƒ¨æ°´å¹³æ’åˆ—æŒ‰é’®ï¼Œç¡®ä¿ç•Œé¢æ•´æ´æœ‰åºã€‚ 2.3 QPushButtonçš„é«˜çº§åŠŸèƒ½è®¾ç½®å›¾æ ‡å’Œå¿«æ·é”®ï¼š å¯ä»¥ä¸ºQPushButtonè®¾ç½®å›¾æ ‡å’Œå¿«æ·é”®ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚ ç¤ºä¾‹ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435#include &lt;QApplication&gt;#include &lt;QWidget&gt;#include &lt;QPushButton&gt;#include &lt;QHBoxLayout&gt;#include &lt;QIcon&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºä¸»çª—å£ QWidget window; window.setWindowTitle(&quot;QPushButton é«˜çº§åŠŸèƒ½ç¤ºä¾‹&quot;); // åˆ›å»ºæŒ‰é’® QPushButton *btnSave = new QPushButton(&quot;ä¿å­˜&quot;); btnSave-&gt;setIcon(QIcon(&quot;:/icons/save.png&quot;)); // è®¾ç½®å›¾æ ‡ btnSave-&gt;setShortcut(QKeySequence(Qt::CTRL + Qt::Key_S)); // è®¾ç½®å¿«æ·é”® // åˆ›å»ºå¸ƒå±€ç®¡ç†å™¨ QHBoxLayout *hLayout = new QHBoxLayout; hLayout-&gt;addWidget(btnSave); // è®¾ç½®ä¸»çª—å£çš„å¸ƒå±€ window.setLayout(hLayout); window.resize(200, 100); window.show(); // è¿æ¥æŒ‰é’®ç‚¹å‡»ä¿¡å·åˆ°æ§½å‡½æ•° QObject::connect(btnSave, &amp;QPushButton::clicked, [&amp;]()&#123; qDebug() &lt;&lt; &quot;ä¿å­˜æŒ‰é’®è¢«ç‚¹å‡»&quot;; &#125;); return app.exec();&#125; è§£é‡Šï¼š ä½¿ç”¨setIconæ–¹æ³•ä¸ºæŒ‰é’®è®¾ç½®å›¾æ ‡ï¼Œæå‡ç•Œé¢çš„è§†è§‰æ•ˆæœã€‚ ä½¿ç”¨setShortcutæ–¹æ³•ä¸ºæŒ‰é’®è®¾ç½®å¿«æ·é”®ï¼Œå…è®¸ç”¨æˆ·é€šè¿‡é”®ç›˜å¿«æ·é”®è§¦å‘æŒ‰é’®æ“ä½œã€‚ å½“ç”¨æˆ·ç‚¹å‡»æŒ‰é’®æˆ–æŒ‰ä¸‹å¿«æ·é”®æ—¶ï¼Œæ§åˆ¶å°å°†è¾“å‡ºâ€œä¿å­˜æŒ‰é’®è¢«ç‚¹å‡»â€çš„è°ƒè¯•ä¿¡æ¯ã€‚ 2.4 QGroupBoxçš„é«˜çº§åº”ç”¨ç¤ºä¾‹ï¼šåµŒå¥—ä½¿ç”¨QGroupBox é€šè¿‡åµŒå¥—ä½¿ç”¨å¤šä¸ªQGroupBoxï¼Œå¯ä»¥åˆ›å»ºæ›´å¤æ‚çš„ç•Œé¢å¸ƒå±€ã€‚ ç¤ºä¾‹ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849#include &lt;QApplication&gt;#include &lt;QWidget&gt;#include &lt;QPushButton&gt;#include &lt;QGroupBox&gt;#include &lt;QVBoxLayout&gt;#include &lt;QHBoxLayout&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºä¸»çª—å£ QWidget window; window.setWindowTitle(&quot;åµŒå¥—QGroupBoxç¤ºä¾‹&quot;); // åˆ›å»ºç¬¬ä¸€ä¸ªQGroupBox QGroupBox *groupBox1 = new QGroupBox(&quot;æ–‡ä»¶æ“ä½œ&quot;); QPushButton *btnOpen = new QPushButton(&quot;æ‰“å¼€&quot;); QPushButton *btnClose = new QPushButton(&quot;å…³é—­&quot;); QHBoxLayout *hLayout1 = new QHBoxLayout; hLayout1-&gt;addWidget(btnOpen); hLayout1-&gt;addWidget(btnClose); groupBox1-&gt;setLayout(hLayout1); // åˆ›å»ºç¬¬äºŒä¸ªQGroupBox QGroupBox *groupBox2 = new QGroupBox(&quot;ç¼–è¾‘æ“ä½œ&quot;); QPushButton *btnCut = new QPushButton(&quot;å‰ªåˆ‡&quot;); QPushButton *btnCopy = new QPushButton(&quot;å¤åˆ¶&quot;); QPushButton *btnPaste = new QPushButton(&quot;ç²˜è´´&quot;); QHBoxLayout *hLayout2 = new QHBoxLayout; hLayout2-&gt;addWidget(btnCut); hLayout2-&gt;addWidget(btnCopy); hLayout2-&gt;addWidget(btnPaste); groupBox2-&gt;setLayout(hLayout2); // åˆ›å»ºä¸»å¸ƒå±€ QVBoxLayout *vLayout = new QVBoxLayout; vLayout-&gt;addWidget(groupBox1); vLayout-&gt;addWidget(groupBox2); // è®¾ç½®ä¸»çª—å£çš„å¸ƒå±€ window.setLayout(vLayout); window.resize(400, 200); window.show(); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š åˆ›å»ºäº†ä¸¤ä¸ªQGroupBoxï¼Œåˆ†åˆ«ç”¨äºâ€œæ–‡ä»¶æ“ä½œâ€å’Œâ€œç¼–è¾‘æ“ä½œâ€ã€‚ æ¯ä¸ªQGroupBoxå†…éƒ¨ä½¿ç”¨QHBoxLayoutæ°´å¹³æ’åˆ—ç›¸å…³æŒ‰é’®ï¼Œå¢å¼ºç•Œé¢çš„ç»„ç»‡æ€§å’Œå¯è¯»æ€§ã€‚ ä¸»å¸ƒå±€ä½¿ç”¨QVBoxLayoutå‚ç›´æ’åˆ—ä¸¤ä¸ªåˆ†ç»„æ¡†ï¼Œå®ç°å¤æ‚çš„ç•Œé¢å¸ƒå±€ã€‚ 2.5 å°ç»“å¸ƒå±€ç®¡ç†å™¨å’Œå®¹å™¨æ§ä»¶æ˜¯æ„å»ºç¾è§‚ä¸”å“åº”å¼ç”¨æˆ·ç•Œé¢çš„é‡è¦å·¥å…·ã€‚é€šè¿‡åˆç†ä½¿ç”¨å¸ƒå±€ç®¡ç†å™¨å’Œå®¹å™¨æ§ä»¶ï¼Œå¯ä»¥ç¡®ä¿åº”ç”¨ç¨‹åºåœ¨ä¸åŒå±å¹•å°ºå¯¸å’Œåˆ†è¾¨ç‡ä¸‹éƒ½èƒ½ä¿æŒè‰¯å¥½çš„ç”¨æˆ·ä½“éªŒã€‚åŒæ—¶ï¼Œç»“åˆæŒ‰é’®æ§ä»¶çš„ä½¿ç”¨ï¼Œèƒ½å¤Ÿåˆ›å»ºåŠŸèƒ½é½å…¨ä¸”æ˜“äºæ“ä½œçš„ç”¨æˆ·ç•Œé¢ã€‚ 3. Item Views3.1 åŸºäºæ¨¡å‹çš„è§†å›¾æ§ä»¶Qtçš„æ¨¡å‹è§†å›¾æ¶æ„ï¼ˆModel-View Architectureï¼‰æä¾›äº†ä¸€ç§é«˜æ•ˆçš„æ•°æ®ç®¡ç†å’Œæ˜¾ç¤ºæ–¹å¼ã€‚åŸºäºæ¨¡å‹çš„è§†å›¾æ§ä»¶å°†æ•°æ®å­˜å‚¨åœ¨æ¨¡å‹ä¸­ï¼Œè§†å›¾è´Ÿè´£å±•ç¤ºæ•°æ®ï¼Œæ§åˆ¶å™¨å¤„ç†ç”¨æˆ·äº¤äº’ã€‚è¿™ç§æ¶æ„ä¿ƒè¿›äº†æ•°æ®ä¸è§†å›¾çš„åˆ†ç¦»ï¼Œæé«˜äº†ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¤ç”¨æ€§ã€‚ å¸¸è§çš„åŸºäºæ¨¡å‹çš„è§†å›¾æ§ä»¶åŒ…æ‹¬ï¼š QListViewï¼šåˆ—è¡¨è§†å›¾ï¼Œç”¨äºæ˜¾ç¤ºçº¿æ€§åˆ—è¡¨æ•°æ®ã€‚ QTableViewï¼šè¡¨æ ¼è§†å›¾ï¼Œç”¨äºæ˜¾ç¤ºäºŒç»´è¡¨æ ¼æ•°æ®ã€‚ QTreeViewï¼šæ ‘å½¢è§†å›¾ï¼Œç”¨äºæ˜¾ç¤ºå±‚æ¬¡ç»“æ„æ•°æ®ã€‚ 3.2 ç¤ºä¾‹ï¼šä½¿ç”¨QListViewå±•ç¤ºæ•°æ®ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨QListViewç»“åˆQStringListModelæ¥å±•ç¤ºç®€å•çš„åˆ—è¡¨æ•°æ®ã€‚ ç¤ºä¾‹ä»£ç ï¼š 12345678910111213141516171819202122232425#include &lt;QApplication&gt;#include &lt;QListView&gt;#include &lt;QStringListModel&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºQListView QListView listView; listView.setWindowTitle(&quot;QListView ç¤ºä¾‹&quot;); // åˆ›å»ºQStringListModel QStringList data; data &lt;&lt; &quot;Apple&quot; &lt;&lt; &quot;Banana&quot; &lt;&lt; &quot;Cherry&quot; &lt;&lt; &quot;Date&quot; &lt;&lt; &quot;Elderberry&quot;; QStringListModel *model = new QStringListModel(data, &amp;listView); // è®¾ç½®æ¨¡å‹åˆ°è§†å›¾ listView.setModel(model); // æ˜¾ç¤ºè§†å›¾ listView.show(); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QListViewä½œä¸ºè§†å›¾æ§ä»¶ï¼Œè´Ÿè´£å±•ç¤ºæ•°æ®ã€‚ QStringListModelä½œä¸ºæ¨¡å‹ï¼Œå­˜å‚¨å¹¶ç®¡ç†å­—ç¬¦ä¸²åˆ—è¡¨æ•°æ®ã€‚ ä½¿ç”¨setModelæ–¹æ³•å°†æ¨¡å‹å…³è”åˆ°è§†å›¾ï¼Œè§†å›¾è‡ªåŠ¨æ›´æ–°æ˜¾ç¤ºæ•°æ®ã€‚ 3.3 ç¤ºä¾‹ï¼šä½¿ç”¨QTableViewå±•ç¤ºæ•°æ®ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨QTableViewç»“åˆQStandardItemModelæ¥å±•ç¤ºäºŒç»´è¡¨æ ¼æ•°æ®ã€‚ ç¤ºä¾‹ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435363738#include &lt;QApplication&gt;#include &lt;QTableView&gt;#include &lt;QStandardItemModel&gt;#include &lt;QStandardItem&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºQTableView QTableView tableView; tableView.setWindowTitle(&quot;QTableView ç¤ºä¾‹&quot;); // åˆ›å»ºQStandardItemModel QStandardItemModel model(3, 2); // 3è¡Œ2åˆ— model.setHeaderData(0, Qt::Horizontal, &quot;å§“å&quot;); model.setHeaderData(1, Qt::Horizontal, &quot;å¹´é¾„&quot;); // å¡«å……æ•°æ® QList&lt;QStandardItem *&gt; row1; row1 &lt;&lt; new QStandardItem(&quot;Alice&quot;) &lt;&lt; new QStandardItem(&quot;30&quot;); QList&lt;QStandardItem *&gt; row2; row2 &lt;&lt; new QStandardItem(&quot;Bob&quot;) &lt;&lt; new QStandardItem(&quot;25&quot;); QList&lt;QStandardItem *&gt; row3; row3 &lt;&lt; new QStandardItem(&quot;Charlie&quot;) &lt;&lt; new QStandardItem(&quot;35&quot;); model.appendRow(row1); model.appendRow(row2); model.appendRow(row3); // è®¾ç½®æ¨¡å‹åˆ°è§†å›¾ tableView.setModel(&amp;model); // æ˜¾ç¤ºè§†å›¾ tableView.show(); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QTableViewä½œä¸ºè§†å›¾æ§ä»¶ï¼Œè´Ÿè´£å±•ç¤ºäºŒç»´è¡¨æ ¼æ•°æ®ã€‚ QStandardItemModelä½œä¸ºæ¨¡å‹ï¼Œå­˜å‚¨å¹¶ç®¡ç†è¡¨æ ¼æ•°æ®ï¼ŒåŒ…æ‹¬è¡Œå’Œåˆ—ã€‚ ä½¿ç”¨setHeaderDataè®¾ç½®è¡¨å¤´ä¿¡æ¯ï¼Œä½¿ç”¨appendRowæ·»åŠ æ•°æ®è¡Œã€‚ è§†å›¾è‡ªåŠ¨æ˜¾ç¤ºæ¨¡å‹ä¸­çš„æ•°æ®ã€‚ 3.4 ç¤ºä¾‹ï¼šä½¿ç”¨QTreeViewå±•ç¤ºæ•°æ®ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨QTreeViewç»“åˆQStandardItemModelæ¥å±•ç¤ºå±‚æ¬¡ç»“æ„æ•°æ®ã€‚ ç¤ºä¾‹ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455#include &lt;QApplication&gt;#include &lt;QTreeView&gt;#include &lt;QStandardItemModel&gt;#include &lt;QStandardItem&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºQTreeView QTreeView treeView; treeView.setWindowTitle(&quot;QTreeView ç¤ºä¾‹&quot;); // åˆ›å»ºQStandardItemModel QStandardItemModel model; model.setHorizontalHeaderLabels(&#123;&quot;åç§°&quot;, &quot;æè¿°&quot;&#125;); // åˆ›å»ºæ ¹èŠ‚ç‚¹ QStandardItem *rootItem = model.invisibleRootItem(); // åˆ›å»ºä¸€çº§èŠ‚ç‚¹ QStandardItem *parent1 = new QStandardItem(&quot;æ–‡ä»¶&quot;); QStandardItem *parent1Desc = new QStandardItem(&quot;æ–‡ä»¶æ“ä½œ&quot;); rootItem-&gt;appendRow(&#123;parent1, parent1Desc&#125;); QStandardItem *parent2 = new QStandardItem(&quot;ç¼–è¾‘&quot;); QStandardItem *parent2Desc = new QStandardItem(&quot;ç¼–è¾‘æ“ä½œ&quot;); rootItem-&gt;appendRow(&#123;parent2, parent2Desc&#125;); // åˆ›å»ºäºŒçº§èŠ‚ç‚¹ QStandardItem *child1 = new QStandardItem(&quot;æ–°å»º&quot;); QStandardItem *child1Desc = new QStandardItem(&quot;åˆ›å»ºæ–°æ–‡ä»¶&quot;); parent1-&gt;appendRow(&#123;child1, child1Desc&#125;); QStandardItem *child2 = new QStandardItem(&quot;æ‰“å¼€&quot;); QStandardItem *child2Desc = new QStandardItem(&quot;æ‰“å¼€ç°æœ‰æ–‡ä»¶&quot;); parent1-&gt;appendRow(&#123;child2, child2Desc&#125;); QStandardItem *child3 = new QStandardItem(&quot;å¤åˆ¶&quot;); QStandardItem *child3Desc = new QStandardItem(&quot;å¤åˆ¶é€‰ä¸­å†…å®¹&quot;); parent2-&gt;appendRow(&#123;child3, child3Desc&#125;); QStandardItem *child4 = new QStandardItem(&quot;ç²˜è´´&quot;); QStandardItem *child4Desc = new QStandardItem(&quot;ç²˜è´´å†…å®¹&quot;); parent2-&gt;appendRow(&#123;child4, child4Desc&#125;); // è®¾ç½®æ¨¡å‹åˆ°è§†å›¾ treeView.setModel(&amp;model); treeView.expandAll(); // å±•å¼€æ‰€æœ‰èŠ‚ç‚¹ // æ˜¾ç¤ºè§†å›¾ treeView.show(); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QTreeViewä½œä¸ºè§†å›¾æ§ä»¶ï¼Œè´Ÿè´£å±•ç¤ºå±‚æ¬¡ç»“æ„æ•°æ®ã€‚ QStandardItemModelä½œä¸ºæ¨¡å‹ï¼Œå­˜å‚¨å¹¶ç®¡ç†æ ‘å½¢æ•°æ®ç»“æ„ã€‚ é€šè¿‡appendRowæ–¹æ³•æ·»åŠ çˆ¶èŠ‚ç‚¹å’Œå­èŠ‚ç‚¹ï¼Œæ„å»ºæ ‘å½¢ç»“æ„ã€‚ ä½¿ç”¨expandAllæ–¹æ³•å±•å¼€æ‰€æœ‰èŠ‚ç‚¹ï¼Œä¾¿äºæŸ¥çœ‹æ•°æ®ã€‚ 3.5 æ¨¡å‹è§†å›¾æ¶æ„çš„ä¼˜åŠ¿ æ•°æ®ä¸è§†å›¾åˆ†ç¦»ï¼šæ¨¡å‹è´Ÿè´£æ•°æ®ç®¡ç†ï¼Œè§†å›¾è´Ÿè´£æ•°æ®å±•ç¤ºï¼Œæé«˜äº†ä»£ç çš„æ¨¡å—åŒ–å’Œå¯ç»´æŠ¤æ€§ã€‚ çµæ´»çš„æ•°æ®å±•ç¤ºï¼šåŒä¸€ä¸ªæ¨¡å‹å¯ä»¥è¢«å¤šä¸ªè§†å›¾ä½¿ç”¨ï¼Œå¦‚ä¸€ä¸ªæ¨¡å‹å¯ä»¥åŒæ—¶è¢«QListViewå’ŒQTableViewå±•ç¤ºã€‚ é«˜æ•ˆçš„æ•°æ®æ“ä½œï¼šæ¨¡å‹è§†å›¾æ¶æ„ä¼˜åŒ–äº†å¤§è§„æ¨¡æ•°æ®çš„å¤„ç†å’Œå±•ç¤ºï¼Œæå‡äº†åº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚ 3.6 å°ç»“åŸºäºæ¨¡å‹çš„è§†å›¾æ§ä»¶æ˜¯Qtä¸­å¤„ç†å’Œå±•ç¤ºå¤æ‚æ•°æ®çš„é‡è¦å·¥å…·ã€‚é€šè¿‡ç†è§£å’Œåº”ç”¨æ¨¡å‹è§†å›¾æ¶æ„ï¼Œå¼€å‘è€…å¯ä»¥æ„å»ºé«˜æ•ˆã€çµæ´»ä¸”å¯ç»´æŠ¤çš„ç”¨æˆ·ç•Œé¢ï¼Œæ»¡è¶³ä¸åŒçš„æ•°æ®å±•ç¤ºéœ€æ±‚ã€‚ 4. Item Widgets4.1 åŸºäºé¡¹çš„è§†å›¾æ§ä»¶é™¤åŸºäºæ¨¡å‹çš„è§†å›¾æ§ä»¶å¤–ï¼ŒQtè¿˜æä¾›äº†åŸºäºé¡¹çš„è§†å›¾æ§ä»¶ï¼Œè¿™äº›æ§ä»¶æ›´åŠ ç›´è§‚å’Œæ˜“äºä½¿ç”¨ï¼Œé€‚ç”¨äºç®€å•çš„æ•°æ®å±•ç¤ºåœºæ™¯ã€‚å¸¸è§çš„åŸºäºé¡¹çš„è§†å›¾æ§ä»¶åŒ…æ‹¬ï¼š QListWidgetï¼šåˆ—è¡¨é¡¹è§†å›¾ï¼Œç»§æ‰¿è‡ªQListViewï¼Œæä¾›ç®€åŒ–çš„APIã€‚ QTreeWidgetï¼šæ ‘å½¢é¡¹è§†å›¾ï¼Œç»§æ‰¿è‡ªQTreeViewï¼Œæä¾›ç®€åŒ–çš„APIã€‚ QTableWidgetï¼šè¡¨æ ¼é¡¹è§†å›¾ï¼Œç»§æ‰¿è‡ªQTableViewï¼Œæä¾›ç®€åŒ–çš„APIã€‚ 4.2 ç¤ºä¾‹ï¼šä½¿ç”¨QListWidgetå±•ç¤ºæ•°æ®ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨QListWidgetæ¥å±•ç¤ºå’Œç®¡ç†ç®€å•çš„åˆ—è¡¨æ•°æ®ã€‚ ç¤ºä¾‹ä»£ç ï¼š 123456789101112131415161718192021222324252627282930#include &lt;QApplication&gt;#include &lt;QListWidget&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºQListWidget QListWidget listWidget; listWidget.setWindowTitle(&quot;QListWidget ç¤ºä¾‹&quot;); // æ·»åŠ åˆ—è¡¨é¡¹ listWidget.addItem(&quot;Item 1&quot;); listWidget.addItem(&quot;Item 2&quot;); listWidget.addItem(&quot;Item 3&quot;); // æ·»åŠ å¸¦æœ‰å›¾æ ‡çš„åˆ—è¡¨é¡¹ QListWidgetItem *item4 = new QListWidgetItem(QIcon(&quot;:/icons/icon.png&quot;), &quot;Item 4&quot;); listWidget.addItem(item4); // è¿æ¥åˆ—è¡¨é¡¹ç‚¹å‡»ä¿¡å·åˆ°æ§½å‡½æ•° QObject::connect(&amp;listWidget, &amp;QListWidget::itemClicked, [&amp;](QListWidgetItem *item)&#123; qDebug() &lt;&lt; &quot;ç‚¹å‡»äº†ï¼š&quot; &lt;&lt; item-&gt;text(); &#125;); // æ˜¾ç¤ºåˆ—è¡¨ listWidget.show(); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QListWidgetæä¾›äº†ä¸€ä¸ªç®€å•çš„æ¥å£æ¥ç®¡ç†åˆ—è¡¨é¡¹ï¼Œæ— éœ€æ‰‹åŠ¨åˆ›å»ºæ¨¡å‹ã€‚ ä½¿ç”¨addItemæ–¹æ³•æ·»åŠ æ–‡æœ¬é¡¹æˆ–å¸¦æœ‰å›¾æ ‡çš„é¡¹ã€‚ é€šè¿‡itemClickedä¿¡å·è¿æ¥åˆ°æ§½å‡½æ•°ï¼Œå“åº”ç”¨æˆ·çš„ç‚¹å‡»æ“ä½œã€‚ 4.3 ç¤ºä¾‹ï¼šä½¿ç”¨QTreeWidgetå±•ç¤ºæ•°æ®ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨QTreeWidgetæ¥å±•ç¤ºå’Œç®¡ç†æ ‘å½¢æ•°æ®ã€‚ ç¤ºä¾‹ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041#include &lt;QApplication&gt;#include &lt;QTreeWidget&gt;#include &lt;QTreeWidgetItem&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºQTreeWidget QTreeWidget treeWidget; treeWidget.setWindowTitle(&quot;QTreeWidget ç¤ºä¾‹&quot;); treeWidget.setColumnCount(2); treeWidget.setHeaderLabels(&#123;&quot;åç§°&quot;, &quot;æè¿°&quot;&#125;); // åˆ›å»ºæ ¹èŠ‚ç‚¹ QTreeWidgetItem *root = new QTreeWidgetItem(&amp;treeWidget); root-&gt;setText(0, &quot;æ–‡ä»¶&quot;); root-&gt;setText(1, &quot;æ–‡ä»¶æ“ä½œ&quot;); // åˆ›å»ºå­èŠ‚ç‚¹ QTreeWidgetItem *child1 = new QTreeWidgetItem(root); child1-&gt;setText(0, &quot;æ–°å»º&quot;); child1-&gt;setText(1, &quot;åˆ›å»ºæ–°æ–‡ä»¶&quot;); QTreeWidgetItem *child2 = new QTreeWidgetItem(root); child2-&gt;setText(0, &quot;æ‰“å¼€&quot;); child2-&gt;setText(1, &quot;æ‰“å¼€ç°æœ‰æ–‡ä»¶&quot;); // å±•å¼€æ‰€æœ‰èŠ‚ç‚¹ treeWidget.expandAll(); // è¿æ¥èŠ‚ç‚¹ç‚¹å‡»ä¿¡å·åˆ°æ§½å‡½æ•° QObject::connect(&amp;treeWidget, &amp;QTreeWidget::itemClicked, [&amp;](QTreeWidgetItem *item, int column)&#123; qDebug() &lt;&lt; &quot;ç‚¹å‡»äº†ï¼š&quot; &lt;&lt; item-&gt;text(0) &lt;&lt; &quot; - &quot; &lt;&lt; item-&gt;text(1); &#125;); // æ˜¾ç¤ºæ ‘å½¢è§†å›¾ treeWidget.show(); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QTreeWidgetæä¾›äº†ä¸€ä¸ªç®€åŒ–çš„æ¥å£æ¥ç®¡ç†æ ‘å½¢æ•°æ®ï¼Œæ— éœ€æ‰‹åŠ¨åˆ›å»ºæ¨¡å‹ã€‚ ä½¿ç”¨QTreeWidgetItemåˆ›å»ºæ ¹èŠ‚ç‚¹å’Œå­èŠ‚ç‚¹ï¼Œå¹¶è®¾ç½®å…¶æ–‡æœ¬å†…å®¹ã€‚ é€šè¿‡itemClickedä¿¡å·è¿æ¥åˆ°æ§½å‡½æ•°ï¼Œå“åº”ç”¨æˆ·çš„ç‚¹å‡»æ“ä½œã€‚ 4.4 ç¤ºä¾‹ï¼šä½¿ç”¨QTableWidgetå±•ç¤ºæ•°æ®ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨QTableWidgetæ¥å±•ç¤ºå’Œç®¡ç†è¡¨æ ¼æ•°æ®ã€‚ ç¤ºä¾‹ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031323334353637#include &lt;QApplication&gt;#include &lt;QTableWidget&gt;#include &lt;QTableWidgetItem&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºQTableWidget QTableWidget tableWidget; tableWidget.setWindowTitle(&quot;QTableWidget ç¤ºä¾‹&quot;); tableWidget.setRowCount(3); tableWidget.setColumnCount(2); tableWidget.setHorizontalHeaderLabels(&#123;&quot;å§“å&quot;, &quot;å¹´é¾„&quot;&#125;); // å¡«å……æ•°æ® tableWidget.setItem(0, 0, new QTableWidgetItem(&quot;Alice&quot;)); tableWidget.setItem(0, 1, new QTableWidgetItem(&quot;30&quot;)); tableWidget.setItem(1, 0, new QTableWidgetItem(&quot;Bob&quot;)); tableWidget.setItem(1, 1, new QTableWidgetItem(&quot;25&quot;)); tableWidget.setItem(2, 0, new QTableWidgetItem(&quot;Charlie&quot;)); tableWidget.setItem(2, 1, new QTableWidgetItem(&quot;35&quot;)); // è¿æ¥å•å…ƒæ ¼ç‚¹å‡»ä¿¡å·åˆ°æ§½å‡½æ•° QObject::connect(&amp;tableWidget, &amp;QTableWidget::cellClicked, [&amp;](int row, int column)&#123; QString name = tableWidget.item(row, 0)-&gt;text(); QString age = tableWidget.item(row, 1)-&gt;text(); qDebug() &lt;&lt; &quot;ç‚¹å‡»äº†ï¼š&quot; &lt;&lt; name &lt;&lt; &quot; - &quot; &lt;&lt; age; &#125;); // æ˜¾ç¤ºè¡¨æ ¼ tableWidget.show(); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QTableWidgetæä¾›äº†ä¸€ä¸ªç®€åŒ–çš„æ¥å£æ¥ç®¡ç†è¡¨æ ¼æ•°æ®ï¼Œæ— éœ€æ‰‹åŠ¨åˆ›å»ºæ¨¡å‹ã€‚ ä½¿ç”¨setItemæ–¹æ³•å¡«å……è¡¨æ ¼å•å…ƒæ ¼æ•°æ®ã€‚ é€šè¿‡cellClickedä¿¡å·è¿æ¥åˆ°æ§½å‡½æ•°ï¼Œå“åº”ç”¨æˆ·çš„ç‚¹å‡»æ“ä½œã€‚ 4.5 QTableWidgetçš„é«˜çº§åŠŸèƒ½è®¾ç½®å•å…ƒæ ¼ç¼–è¾‘å±æ€§ï¼š å¯ä»¥æ§åˆ¶å•å…ƒæ ¼çš„ç¼–è¾‘è¡Œä¸ºï¼Œå¦‚åªè¯»ã€å¯ç¼–è¾‘ç­‰ã€‚ ç¤ºä¾‹ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031323334353637#include &lt;QApplication&gt;#include &lt;QTableWidget&gt;#include &lt;QTableWidgetItem&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºQTableWidget QTableWidget tableWidget; tableWidget.setWindowTitle(&quot;QTableWidget é«˜çº§åŠŸèƒ½ç¤ºä¾‹&quot;); tableWidget.setRowCount(2); tableWidget.setColumnCount(2); tableWidget.setHorizontalHeaderLabels(&#123;&quot;åç§°&quot;, &quot;æè¿°&quot;&#125;); // åˆ›å»ºåªè¯»å•å…ƒæ ¼ QTableWidgetItem *item1 = new QTableWidgetItem(&quot;Item 1&quot;); item1-&gt;setFlags(item1-&gt;flags() &amp; ~Qt::ItemIsEditable); // è®¾ç½®ä¸ºåªè¯» tableWidget.setItem(0, 0, item1); tableWidget.setItem(0, 1, new QTableWidgetItem(&quot;Description 1&quot;)); // åˆ›å»ºå¯ç¼–è¾‘å•å…ƒæ ¼ QTableWidgetItem *item2 = new QTableWidgetItem(&quot;Item 2&quot;); item2-&gt;setFlags(item2-&gt;flags() | Qt::ItemIsEditable); // è®¾ç½®ä¸ºå¯ç¼–è¾‘ tableWidget.setItem(1, 0, item2); tableWidget.setItem(1, 1, new QTableWidgetItem(&quot;Description 2&quot;)); // è¿æ¥å•å…ƒæ ¼ç¼–è¾‘ä¿¡å·åˆ°æ§½å‡½æ•° QObject::connect(&amp;tableWidget, &amp;QTableWidget::itemChanged, [&amp;](QTableWidgetItem *item)&#123; qDebug() &lt;&lt; &quot;å•å…ƒæ ¼å†…å®¹æ›´æ”¹ï¼š&quot; &lt;&lt; item-&gt;text(); &#125;); // æ˜¾ç¤ºè¡¨æ ¼ tableWidget.show(); return app.exec();&#125; è§£é‡Šï¼š ä½¿ç”¨setFlagsæ–¹æ³•ä¿®æ”¹å•å…ƒæ ¼çš„æ ‡å¿—ï¼Œå–æ¶ˆQt::ItemIsEditableæ ‡å¿—ï¼Œå°†å•å…ƒæ ¼è®¾ç½®ä¸ºåªè¯»ã€‚ é€šè¿‡itemChangedä¿¡å·è¿æ¥åˆ°æ§½å‡½æ•°ï¼Œå®æ—¶å“åº”ç”¨æˆ·å¯¹å•å…ƒæ ¼å†…å®¹çš„ä¿®æ”¹ã€‚ 4.6 å°ç»“åŸºäºé¡¹çš„è§†å›¾æ§ä»¶å¦‚QListWidgetã€QTreeWidgetå’ŒQTableWidgetæä¾›äº†ç®€åŒ–çš„æ•°æ®å±•ç¤ºå’Œç®¡ç†æ¥å£ï¼Œé€‚ç”¨äºç®€å•æˆ–ä¸­ç­‰å¤æ‚åº¦çš„æ•°æ®å±•ç¤ºåœºæ™¯ã€‚å®ƒä»¬æ˜“äºä½¿ç”¨ï¼Œé€‚åˆå¿«é€Ÿå¼€å‘ï¼Œä½†åœ¨å¤„ç†å¤§è§„æ¨¡æ•°æ®æˆ–éœ€è¦é«˜åº¦å®šåˆ¶åŒ–çš„åœºæ™¯æ—¶ï¼ŒåŸºäºæ¨¡å‹çš„è§†å›¾æ§ä»¶æ›´ä¸ºåˆé€‚ã€‚ 5. Input Widgets5.1 è¾“å…¥æ§ä»¶æ¦‚è¿°è¾“å…¥æ§ä»¶ç”¨äºè·å–ç”¨æˆ·çš„è¾“å…¥ä¿¡æ¯ï¼Œæ˜¯ç”¨æˆ·ä¸åº”ç”¨ç¨‹åºäº¤äº’çš„ä¸»è¦æ–¹å¼ã€‚Qtæä¾›äº†å¤šç§è¾“å…¥æ§ä»¶ï¼Œæ”¯æŒæ–‡æœ¬è¾“å…¥ã€æ•°å€¼è¾“å…¥ã€é€‰æ‹©è¾“å…¥ç­‰å¤šç§å½¢å¼ã€‚ 5.2 å¸¸ç”¨è¾“å…¥æ§ä»¶ QLineEditï¼šå•è¡Œæ–‡æœ¬è¾“å…¥æ¡†ï¼Œç”¨äºæ¥æ”¶ç”¨æˆ·çš„æ–‡æœ¬è¾“å…¥ã€‚ QTextEditï¼šå¤šè¡Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œç”¨äºæ¥æ”¶å’Œæ˜¾ç¤ºå¤§é‡æ–‡æœ¬ã€‚ QSpinBoxï¼šæ•°å€¼è¾“å…¥æ¡†ï¼Œå…è®¸ç”¨æˆ·é€šè¿‡ç‚¹å‡»æŒ‰é’®æˆ–é”®ç›˜è¾“å…¥æ•´æ•°å€¼ã€‚ QDoubleSpinBoxï¼šæ•°å€¼è¾“å…¥æ¡†ï¼Œå…è®¸ç”¨æˆ·è¾“å…¥æµ®ç‚¹æ•°å€¼ã€‚ QComboBoxï¼šä¸‹æ‹‰åˆ—è¡¨æ¡†ï¼Œå…è®¸ç”¨æˆ·ä»é¢„å®šä¹‰é€‰é¡¹ä¸­é€‰æ‹©ä¸€é¡¹ã€‚ QCheckBoxï¼šå¤é€‰æ¡†ï¼Œå…è®¸ç”¨æˆ·é€‰æ‹©æˆ–å–æ¶ˆé€‰æ‹©æŸä¸ªé€‰é¡¹ã€‚ QRadioButtonï¼šå•é€‰æŒ‰é’®ï¼Œå…è®¸ç”¨æˆ·åœ¨ä¸€ç»„äº’æ–¥çš„é€‰é¡¹ä¸­é€‰æ‹©ä¸€é¡¹ã€‚ QSliderï¼šæ»‘å—æ§ä»¶ï¼Œå…è®¸ç”¨æˆ·é€šè¿‡æ‹–åŠ¨æ»‘å—é€‰æ‹©ä¸€ä¸ªèŒƒå›´å†…çš„æ•°å€¼ã€‚ QDateEditï¼šæ—¥æœŸè¾“å…¥æ¡†ï¼Œå…è®¸ç”¨æˆ·é€‰æ‹©æ—¥æœŸã€‚ QTimeEditï¼šæ—¶é—´è¾“å…¥æ¡†ï¼Œå…è®¸ç”¨æˆ·é€‰æ‹©æ—¶é—´ã€‚ 5.3 ç¤ºä¾‹ï¼šä½¿ç”¨QLineEditå’ŒQPushButtonè·å–ç”¨æˆ·è¾“å…¥ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨QLineEditè·å–ç”¨æˆ·çš„æ–‡æœ¬è¾“å…¥ï¼Œå¹¶é€šè¿‡QPushButtonè§¦å‘æ“ä½œã€‚ ç¤ºä¾‹ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950#include &lt;QApplication&gt;#include &lt;QWidget&gt;#include &lt;QLineEdit&gt;#include &lt;QPushButton&gt;#include &lt;QVBoxLayout&gt;#include &lt;QLabel&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºä¸»çª—å£ QWidget window; window.setWindowTitle(&quot;è¾“å…¥æ§ä»¶ç¤ºä¾‹&quot;); // åˆ›å»ºQLineEdit QLineEdit *lineEdit = new QLineEdit; lineEdit-&gt;setPlaceholderText(&quot;è¯·è¾“å…¥æ‚¨çš„å§“å&quot;); // åˆ›å»ºQPushButton QPushButton *btnSubmit = new QPushButton(&quot;æäº¤&quot;); // åˆ›å»ºQLabelæ˜¾ç¤ºç»“æœ QLabel *label = new QLabel(&quot;ç­‰å¾…è¾“å…¥...&quot;); // è¿æ¥æŒ‰é’®ä¿¡å·åˆ°æ§½å‡½æ•° QObject::connect(btnSubmit, &amp;QPushButton::clicked, [&amp;]()&#123; QString name = lineEdit-&gt;text(); if(!name.isEmpty()) &#123; label-&gt;setText(&quot;æ‚¨å¥½, &quot; + name + &quot;!&quot;); qDebug() &lt;&lt; &quot;ç”¨æˆ·è¾“å…¥ï¼š&quot; &lt;&lt; name; &#125; else &#123; label-&gt;setText(&quot;è¯·è¾“å…¥æ‚¨çš„å§“åã€‚&quot;); qDebug() &lt;&lt; &quot;ç”¨æˆ·æœªè¾“å…¥å§“åã€‚&quot;; &#125; &#125;); // åˆ›å»ºå¸ƒå±€ç®¡ç†å™¨ QVBoxLayout *vLayout = new QVBoxLayout; vLayout-&gt;addWidget(lineEdit); vLayout-&gt;addWidget(btnSubmit); vLayout-&gt;addWidget(label); // è®¾ç½®ä¸»çª—å£çš„å¸ƒå±€ window.setLayout(vLayout); window.resize(300, 150); window.show(); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QLineEditç”¨äºè·å–ç”¨æˆ·çš„æ–‡æœ¬è¾“å…¥ï¼Œè®¾ç½®äº†å ä½ç¬¦æç¤ºâ€œè¯·è¾“å…¥æ‚¨çš„å§“åâ€ã€‚ QPushButtonç”¨äºè§¦å‘æäº¤æ“ä½œï¼Œå½“æŒ‰é’®è¢«ç‚¹å‡»æ—¶ï¼Œè·å–QLineEditä¸­çš„æ–‡æœ¬å¹¶æ›´æ–°QLabelæ˜¾ç¤ºã€‚ é€šè¿‡QObject::connectå°†æŒ‰é’®çš„clickedä¿¡å·è¿æ¥åˆ°ä¸€ä¸ªlambdaæ§½å‡½æ•°ï¼Œå®ç°åŠ¨æ€å“åº”ç”¨æˆ·è¾“å…¥ã€‚ 5.4 ç¤ºä¾‹ï¼šä½¿ç”¨QSpinBoxå’ŒQSliderè¾“å…¥æ•°å€¼ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨QSpinBoxå’ŒQSlideræ¥è·å–å’Œå±•ç¤ºç”¨æˆ·çš„æ•°å€¼è¾“å…¥ã€‚ ç¤ºä¾‹ä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354#include &lt;QApplication&gt;#include &lt;QWidget&gt;#include &lt;QSpinBox&gt;#include &lt;QSlider&gt;#include &lt;QLabel&gt;#include &lt;QVBoxLayout&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºä¸»çª—å£ QWidget window; window.setWindowTitle(&quot;æ•°å€¼è¾“å…¥æ§ä»¶ç¤ºä¾‹&quot;); // åˆ›å»ºQSpinBox QSpinBox *spinBox = new QSpinBox; spinBox-&gt;setRange(0, 100); spinBox-&gt;setValue(50); // åˆ›å»ºQSlider QSlider *slider = new QSlider(Qt::Horizontal); slider-&gt;setRange(0, 100); slider-&gt;setValue(50); // åˆ›å»ºQLabelæ˜¾ç¤ºæ•°å€¼ QLabel *label = new QLabel(&quot;å½“å‰å€¼: 50&quot;); // è¿æ¥SpinBoxå’ŒSliderçš„å€¼å˜åŒ–ä¿¡å·åˆ°æ§½ QObject::connect(spinBox, QOverload&lt;int&gt;::of(&amp;QSpinBox::valueChanged), [&amp;](int value)&#123; slider-&gt;setValue(value); label-&gt;setText(&quot;å½“å‰å€¼: &quot; + QString::number(value)); qDebug() &lt;&lt; &quot;SpinBoxå€¼å˜åŒ–:&quot; &lt;&lt; value; &#125;); QObject::connect(slider, &amp;QSlider::valueChanged, [&amp;](int value)&#123; spinBox-&gt;setValue(value); label-&gt;setText(&quot;å½“å‰å€¼: &quot; + QString::number(value)); qDebug() &lt;&lt; &quot;Sliderå€¼å˜åŒ–:&quot; &lt;&lt; value; &#125;); // åˆ›å»ºå¸ƒå±€ç®¡ç†å™¨ QVBoxLayout *vLayout = new QVBoxLayout; vLayout-&gt;addWidget(spinBox); vLayout-&gt;addWidget(slider); vLayout-&gt;addWidget(label); // è®¾ç½®ä¸»çª—å£çš„å¸ƒå±€ window.setLayout(vLayout); window.resize(300, 200); window.show(); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QSpinBoxå’ŒQSlideréƒ½ç”¨äºè·å–ç”¨æˆ·çš„æ•°å€¼è¾“å…¥ï¼ŒèŒƒå›´è®¾ç½®ä¸º0åˆ°100ï¼Œåˆå§‹å€¼ä¸º50ã€‚ å½“ç”¨æˆ·åœ¨SpinBoxæˆ–Sliderä¸­æ”¹å˜æ•°å€¼æ—¶ï¼Œé€šè¿‡ä¿¡å·ä¸æ§½æœºåˆ¶åŒæ­¥æ›´æ–°å¯¹æ–¹çš„å€¼ï¼Œå¹¶åœ¨QLabelä¸­æ˜¾ç¤ºå½“å‰å€¼ã€‚ é€šè¿‡QOverload&lt;int&gt;::ofè¯­æ³•è§£å†³äº†ä¿¡å·é‡è½½çš„é—®é¢˜ï¼Œç¡®ä¿ä¿¡å·ä¸æ§½çš„æ­£ç¡®è¿æ¥ã€‚ 5.5 QComboBoxçš„é«˜çº§ç”¨æ³•æ·»åŠ å¯ç¼–è¾‘é¡¹å’Œè‡ªå®šä¹‰ç»˜åˆ¶ï¼š å¯ä»¥è®¾ç½®QComboBoxä¸ºå¯ç¼–è¾‘çŠ¶æ€ï¼Œå¹¶è‡ªå®šä¹‰æ¯ä¸ªé¡¹çš„æ˜¾ç¤ºå†…å®¹ã€‚ ç¤ºä¾‹ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132#include &lt;QApplication&gt;#include &lt;QComboBox&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºQComboBox QComboBox comboBox; comboBox.setWindowTitle(&quot;QComboBox ç¤ºä¾‹&quot;); comboBox.setEditable(true); // è®¾ç½®ä¸ºå¯ç¼–è¾‘ // æ·»åŠ é¡¹ comboBox.addItem(&quot;Option 1&quot;); comboBox.addItem(&quot;Option 2&quot;); comboBox.addItem(&quot;Option 3&quot;); // æ·»åŠ å¸¦æœ‰ç”¨æˆ·æ•°æ®çš„é¡¹ comboBox.addItem(&quot;Option 4&quot;, QVariant(42)); // è¿æ¥ä¿¡å·åˆ°æ§½ QObject::connect(&amp;comboBox, QOverload&lt;int&gt;::of(&amp;QComboBox::currentIndexChanged), [&amp;](int index)&#123; QString text = comboBox.currentText(); QVariant data = comboBox.itemData(index); qDebug() &lt;&lt; &quot;å½“å‰é€‰ä¸­é¡¹ï¼š&quot; &lt;&lt; text &lt;&lt; &quot;, æ•°æ®ï¼š&quot; &lt;&lt; data.toInt(); &#125;); // æ˜¾ç¤ºQComboBox comboBox.show(); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QComboBoxè®¾ç½®ä¸ºå¯ç¼–è¾‘ï¼Œå…è®¸ç”¨æˆ·è¾“å…¥è‡ªå®šä¹‰æ–‡æœ¬ã€‚ ä½¿ç”¨addItemæ–¹æ³•æ·»åŠ å¸¦æœ‰ç”¨æˆ·æ•°æ®çš„é¡¹ï¼Œé€šè¿‡itemDataæ–¹æ³•è·å–å…³è”çš„æ•°æ®ã€‚ é€šè¿‡currentIndexChangedä¿¡å·è¿æ¥åˆ°æ§½å‡½æ•°ï¼Œå®æ—¶å“åº”ç”¨æˆ·çš„é€‰æ‹©å˜åŒ–ã€‚ 5.6 å°ç»“è¾“å…¥æ§ä»¶æ˜¯ç”¨æˆ·ä¸åº”ç”¨ç¨‹åºäº¤äº’çš„æ¡¥æ¢ï¼ŒQtæä¾›äº†ä¸°å¯Œçš„è¾“å…¥æ§ä»¶æ¥æ»¡è¶³ä¸åŒçš„è¾“å…¥éœ€æ±‚ã€‚é€šè¿‡åˆç†é€‰æ‹©å’Œé…ç½®è¾“å…¥æ§ä»¶ï¼Œå¯ä»¥æå‡ç”¨æˆ·ä½“éªŒï¼Œç¡®ä¿åº”ç”¨ç¨‹åºçš„æ˜“ç”¨æ€§å’ŒåŠŸèƒ½æ€§ã€‚ 6. Display Widgets6.1 æ˜¾ç¤ºæ§ä»¶æ¦‚è¿°æ˜¾ç¤ºæ§ä»¶ç”¨äºå±•ç¤ºä¿¡æ¯å’Œæ•°æ®ï¼Œæ˜¯ç”¨æˆ·ç•Œé¢ä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ã€‚Qtæä¾›äº†å¤šç§æ˜¾ç¤ºæ§ä»¶ï¼Œæ”¯æŒæ–‡æœ¬æ˜¾ç¤ºã€å›¾åƒæ˜¾ç¤ºã€è¿›åº¦æ˜¾ç¤ºç­‰å¤šç§å½¢å¼ã€‚ 6.2 å¸¸ç”¨æ˜¾ç¤ºæ§ä»¶ QLabelï¼šæ ‡ç­¾æ§ä»¶ï¼Œç”¨äºæ˜¾ç¤ºæ–‡æœ¬æˆ–å›¾åƒã€‚ QTextBrowserï¼šæ–‡æœ¬æµè§ˆå™¨ï¼Œç”¨äºæ˜¾ç¤ºå¯Œæ–‡æœ¬å†…å®¹ï¼Œæ”¯æŒè¶…é“¾æ¥ã€‚ QProgressBarï¼šè¿›åº¦æ¡æ§ä»¶ï¼Œç”¨äºæ˜¾ç¤ºä»»åŠ¡çš„å®Œæˆè¿›åº¦ã€‚ QLCDNumberï¼šLCDæ•°å­—æ˜¾ç¤ºæ§ä»¶ï¼Œç”¨äºæ˜¾ç¤ºæ•°å­—ä¿¡æ¯ã€‚ QDialï¼šæ—‹é’®æ§ä»¶ï¼Œç±»ä¼¼äºéŸ³é‡è°ƒèŠ‚å™¨ã€‚ QToolTipï¼šæç¤ºå·¥å…·ï¼Œç”¨äºæ˜¾ç¤ºæ‚¬åœæç¤ºä¿¡æ¯ã€‚ 6.3 ç¤ºä¾‹ï¼šä½¿ç”¨QLabelæ˜¾ç¤ºæ–‡æœ¬å’Œå›¾åƒä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨QLabelæ¥æ˜¾ç¤ºæ–‡æœ¬å’Œå›¾åƒã€‚ ç¤ºä¾‹ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435#include &lt;QApplication&gt;#include &lt;QWidget&gt;#include &lt;QLabel&gt;#include &lt;QPixmap&gt;#include &lt;QVBoxLayout&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºä¸»çª—å£ QWidget window; window.setWindowTitle(&quot;QLabel ç¤ºä¾‹&quot;); // åˆ›å»ºQLabelç”¨äºæ˜¾ç¤ºæ–‡æœ¬ QLabel *textLabel = new QLabel(&quot;æ¬¢è¿ä½¿ç”¨Qtï¼&quot;); textLabel-&gt;setAlignment(Qt::AlignCenter); textLabel-&gt;setStyleSheet(&quot;QLabel &#123; font-size: 24px; color: blue; &#125;&quot;); // åˆ›å»ºQLabelç”¨äºæ˜¾ç¤ºå›¾åƒ QLabel *imageLabel = new QLabel; QPixmap pixmap(&quot;:/images/logo.png&quot;); // ç¡®ä¿èµ„æºæ–‡ä»¶ä¸­æœ‰æ­¤å›¾åƒ imageLabel-&gt;setPixmap(pixmap.scaled(200, 200, Qt::KeepAspectRatio)); // åˆ›å»ºå¸ƒå±€ç®¡ç†å™¨ QVBoxLayout *vLayout = new QVBoxLayout; vLayout-&gt;addWidget(textLabel); vLayout-&gt;addWidget(imageLabel); // è®¾ç½®ä¸»çª—å£çš„å¸ƒå±€ window.setLayout(vLayout); window.resize(300, 400); window.show(); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QLabelç”¨äºæ˜¾ç¤ºå±…ä¸­çš„æ–‡æœ¬ï¼Œè®¾ç½®äº†è‡ªå®šä¹‰çš„å­—ä½“å¤§å°å’Œé¢œè‰²ã€‚ QLabelè¿˜å¯ä»¥ç”¨äºæ˜¾ç¤ºå›¾åƒï¼Œé€šè¿‡è®¾ç½®QPixmapå®ç°ã€‚ ä½¿ç”¨scaledæ–¹æ³•è°ƒæ•´å›¾åƒå¤§å°ï¼Œä¿æŒçºµæ¨ªæ¯”ä¸å˜ã€‚ 6.4 ç¤ºä¾‹ï¼šä½¿ç”¨QProgressBaræ˜¾ç¤ºä»»åŠ¡è¿›åº¦ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨QProgressBaræ¥æ˜¾ç¤ºä»»åŠ¡çš„å®Œæˆè¿›åº¦ï¼Œå¹¶é€šè¿‡æŒ‰é’®æ§åˆ¶è¿›åº¦æ¡çš„æ›´æ–°ã€‚ ç¤ºä¾‹ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859#include &lt;QApplication&gt;#include &lt;QWidget&gt;#include &lt;QProgressBar&gt;#include &lt;QPushButton&gt;#include &lt;QVBoxLayout&gt;#include &lt;QTimer&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºä¸»çª—å£ QWidget window; window.setWindowTitle(&quot;QProgressBar ç¤ºä¾‹&quot;); // åˆ›å»ºQProgressBar QProgressBar *progressBar = new QProgressBar; progressBar-&gt;setRange(0, 100); progressBar-&gt;setValue(0); // åˆ›å»ºQPushButton QPushButton *btnStart = new QPushButton(&quot;å¼€å§‹ä»»åŠ¡&quot;); // åˆ›å»ºå¸ƒå±€ç®¡ç†å™¨ QVBoxLayout *vLayout = new QVBoxLayout; vLayout-&gt;addWidget(progressBar); vLayout-&gt;addWidget(btnStart); // è®¾ç½®ä¸»çª—å£çš„å¸ƒå±€ window.setLayout(vLayout); window.resize(300, 150); window.show(); // åˆ›å»ºè®¡æ—¶å™¨ QTimer timer; timer.setInterval(100); // æ¯100æ¯«ç§’æ›´æ–°ä¸€æ¬¡ int progress = 0; // è¿æ¥æŒ‰é’®ä¿¡å·åˆ°æ§½å‡½æ•° QObject::connect(btnStart, &amp;QPushButton::clicked, [&amp;]()&#123; progress = 0; progressBar-&gt;setValue(progress); timer.start(); qDebug() &lt;&lt; &quot;ä»»åŠ¡å¼€å§‹&quot;; &#125;); // è¿æ¥è®¡æ—¶å™¨ä¿¡å·åˆ°æ§½å‡½æ•° QObject::connect(&amp;timer, &amp;QTimer::timeout, [&amp;]()&#123; progress += 1; progressBar-&gt;setValue(progress); if(progress &gt;= 100) &#123; timer.stop(); qDebug() &lt;&lt; &quot;ä»»åŠ¡å®Œæˆ&quot;; &#125; &#125;); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QProgressBarè®¾ç½®äº†èŒƒå›´ä»0åˆ°100ï¼Œåˆå§‹å€¼ä¸º0ã€‚ QPushButtonç”¨äºå¯åŠ¨ä»»åŠ¡ï¼Œå½“æŒ‰é’®è¢«ç‚¹å‡»æ—¶ï¼Œè¿›åº¦æ¡å¼€å§‹è‡ªåŠ¨æ›´æ–°ã€‚ QTimerç”¨äºæ¨¡æ‹Ÿä»»åŠ¡è¿›åº¦çš„é€æ­¥å®Œæˆï¼Œé€šè¿‡timeoutä¿¡å·æ›´æ–°è¿›åº¦æ¡çš„å€¼ã€‚ å½“è¿›åº¦è¾¾åˆ°100æ—¶ï¼Œåœæ­¢è®¡æ—¶å™¨å¹¶æ‰“å°ä»»åŠ¡å®Œæˆçš„ä¿¡æ¯ã€‚ 6.5 ç¤ºä¾‹ï¼šä½¿ç”¨QLCDNumberæ˜¾ç¤ºåŠ¨æ€æ•°å­—ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨QLCDNumberåŠ¨æ€æ˜¾ç¤ºæ•°å­—ï¼Œå¹¶é€šè¿‡QTimeræ›´æ–°æ˜¾ç¤ºå†…å®¹ã€‚ ç¤ºä¾‹ä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445#include &lt;QApplication&gt;#include &lt;QWidget&gt;#include &lt;QLCDNumber&gt;#include &lt;QVBoxLayout&gt;#include &lt;QTimer&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºä¸»çª—å£ QWidget window; window.setWindowTitle(&quot;QLCDNumber ç¤ºä¾‹&quot;); // åˆ›å»ºQLCDNumber QLCDNumber *lcd = new QLCDNumber; lcd-&gt;setDigitCount(5); lcd-&gt;display(0); // åˆ›å»ºå¸ƒå±€ç®¡ç†å™¨ QVBoxLayout *vLayout = new QVBoxLayout; vLayout-&gt;addWidget(lcd); // è®¾ç½®ä¸»çª—å£çš„å¸ƒå±€ window.setLayout(vLayout); window.resize(200, 100); window.show(); // åˆ›å»ºè®¡æ—¶å™¨ QTimer timer; timer.setInterval(1000); // æ¯ç§’æ›´æ–°ä¸€æ¬¡ int count = 0; // è¿æ¥è®¡æ—¶å™¨ä¿¡å·åˆ°æ§½å‡½æ•° QObject::connect(&amp;timer, &amp;QTimer::timeout, [&amp;]()&#123; count++; lcd-&gt;display(count); qDebug() &lt;&lt; &quot;å½“å‰è®¡æ•°:&quot; &lt;&lt; count; &#125;); timer.start(); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QLCDNumberè®¾ç½®äº†5ä½æ•°å­—æ˜¾ç¤ºï¼Œåˆå§‹å€¼ä¸º0ã€‚ QTimeræ¯ç§’è§¦å‘ä¸€æ¬¡ï¼Œé€šè¿‡timeoutä¿¡å·æ›´æ–°æ˜¾ç¤ºçš„æ•°å­—ï¼Œå®ç°åŠ¨æ€è®¡æ•°æ•ˆæœã€‚ é€šè¿‡lcd-&gt;display(count)æ–¹æ³•æ›´æ–°æ˜¾ç¤ºå†…å®¹ï¼Œå®æ—¶åæ˜ è®¡æ•°å˜åŒ–ã€‚ 6.6 QProgressBarä¸QLCDNumberçš„ç»“åˆä½¿ç”¨å¯ä»¥å°†QProgressBarå’ŒQLCDNumberç»“åˆä½¿ç”¨ï¼Œå®æ—¶æ˜¾ç¤ºä»»åŠ¡çš„è¿›åº¦å’Œå®Œæˆåº¦ã€‚ ç¤ºä¾‹ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768#include &lt;QApplication&gt;#include &lt;QWidget&gt;#include &lt;QProgressBar&gt;#include &lt;QLCDNumber&gt;#include &lt;QPushButton&gt;#include &lt;QVBoxLayout&gt;#include &lt;QTimer&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºä¸»çª—å£ QWidget window; window.setWindowTitle(&quot;è¿›åº¦ä¸æ•°å­—æ˜¾ç¤ºç¤ºä¾‹&quot;); // åˆ›å»ºQProgressBar QProgressBar *progressBar = new QProgressBar; progressBar-&gt;setRange(0, 100); progressBar-&gt;setValue(0); // åˆ›å»ºQLCDNumber QLCDNumber *lcd = new QLCDNumber; lcd-&gt;setDigitCount(3); lcd-&gt;display(0); // åˆ›å»ºQPushButton QPushButton *btnStart = new QPushButton(&quot;å¼€å§‹ä»»åŠ¡&quot;); // åˆ›å»ºå¸ƒå±€ç®¡ç†å™¨ QVBoxLayout *vLayout = new QVBoxLayout; vLayout-&gt;addWidget(progressBar); vLayout-&gt;addWidget(lcd); vLayout-&gt;addWidget(btnStart); // è®¾ç½®ä¸»çª—å£çš„å¸ƒå±€ window.setLayout(vLayout); window.resize(300, 200); window.show(); // åˆ›å»ºè®¡æ—¶å™¨ QTimer timer; timer.setInterval(100); // æ¯100æ¯«ç§’æ›´æ–°ä¸€æ¬¡ int progress = 0; // è¿æ¥æŒ‰é’®ä¿¡å·åˆ°æ§½å‡½æ•° QObject::connect(btnStart, &amp;QPushButton::clicked, [&amp;]()&#123; progress = 0; progressBar-&gt;setValue(progress); lcd-&gt;display(progress); timer.start(); qDebug() &lt;&lt; &quot;ä»»åŠ¡å¼€å§‹&quot;; &#125;); // è¿æ¥è®¡æ—¶å™¨ä¿¡å·åˆ°æ§½å‡½æ•° QObject::connect(&amp;timer, &amp;QTimer::timeout, [&amp;]()&#123; progress += 1; progressBar-&gt;setValue(progress); lcd-&gt;display(progress); if(progress &gt;= 100) &#123; timer.stop(); qDebug() &lt;&lt; &quot;ä»»åŠ¡å®Œæˆ&quot;; &#125; &#125;); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QProgressBarå’ŒQLCDNumberåˆ†åˆ«æ˜¾ç¤ºä»»åŠ¡çš„è¿›åº¦å’Œå½“å‰è¿›åº¦å€¼ã€‚ å½“ç”¨æˆ·ç‚¹å‡»â€œå¼€å§‹ä»»åŠ¡â€æŒ‰é’®æ—¶ï¼Œè®¡æ—¶å™¨å¼€å§‹ï¼Œæ¯100æ¯«ç§’æ›´æ–°ä¸€æ¬¡è¿›åº¦æ¡å’Œæ•°å­—æ˜¾ç¤ºã€‚ å½“è¿›åº¦è¾¾åˆ°100æ—¶ï¼Œåœæ­¢è®¡æ—¶å™¨å¹¶æ‰“å°ä»»åŠ¡å®Œæˆçš„ä¿¡æ¯ã€‚ 6.7 å°ç»“æ˜¾ç¤ºæ§ä»¶åœ¨ç”¨æˆ·ç•Œé¢ä¸­ç”¨äºå±•ç¤ºå„ç§ä¿¡æ¯å’Œæ•°æ®ã€‚é€šè¿‡åˆç†ä½¿ç”¨QLabelã€QProgressBarã€QLCDNumberç­‰æ˜¾ç¤ºæ§ä»¶ï¼Œå¯ä»¥æœ‰æ•ˆåœ°ä¼ è¾¾åº”ç”¨ç¨‹åºçš„çŠ¶æ€å’Œåé¦ˆï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚åŒæ—¶ï¼Œç»“åˆå¸ƒå±€ç®¡ç†å™¨å’Œå…¶ä»–æ§ä»¶ï¼Œèƒ½å¤Ÿåˆ›å»ºåŠŸèƒ½ä¸°å¯Œä¸”ç¾è§‚çš„ç”¨æˆ·ç•Œé¢ã€‚ 7. å¸¸ç”¨ç®—æ³•åŠæ­£åˆ™è¡¨è¾¾å¼7.1 Qtä¸­æä¾›çš„å¸¸ç”¨ç®—æ³•Qtæä¾›äº†ä¸€ç³»åˆ—ä¸æ ‡å‡†C++åº“ç±»ä¼¼çš„ç®—æ³•ï¼Œä¸»è¦é›†ä¸­åœ¨QtAlgorithmsæ¨¡å—ã€‚è¿™äº›ç®—æ³•åŒ…æ‹¬æ’åºã€æŸ¥æ‰¾ã€éå†ç­‰ï¼Œå¸®åŠ©å¼€å‘è€…é«˜æ•ˆåœ°å¤„ç†æ•°æ®ã€‚ 7.2 ç¤ºä¾‹ï¼šä½¿ç”¨Qtç®—æ³•è¿›è¡Œæ’åºå’ŒæŸ¥æ‰¾ç¤ºä¾‹ä»£ç ï¼š 12345678910111213141516171819202122#include &lt;QApplication&gt;#include &lt;QVector&gt;#include &lt;QDebug&gt;#include &lt;algorithm&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); QVector&lt;int&gt; numbers = &#123;5, 2, 9, 1, 5, 6&#125;; qDebug() &lt;&lt; &quot;æ’åºå‰:&quot; &lt;&lt; numbers; // ä½¿ç”¨std::sortè¿›è¡Œå‡åºæ’åº std::sort(numbers.begin(), numbers.end()); qDebug() &lt;&lt; &quot;æ’åºå:&quot; &lt;&lt; numbers; // ä½¿ç”¨std::binary_searchæŸ¥æ‰¾å…ƒç´  bool found = std::binary_search(numbers.begin(), numbers.end(), 5); qDebug() &lt;&lt; &quot;æ˜¯å¦æ‰¾åˆ°5:&quot; &lt;&lt; found; return app.exec();&#125; è¿è¡Œç»“æœï¼š 123æ’åºå‰: QVector(5, 2, 9, 1, 5, 6)æ’åºå: QVector(1, 2, 5, 5, 6, 9)æ˜¯å¦æ‰¾åˆ°5: true è§£é‡Šï¼š ä½¿ç”¨std::sortå¯¹QVectorä¸­çš„æ•´æ•°è¿›è¡Œå‡åºæ’åºã€‚ ä½¿ç”¨std::binary_searchåœ¨æ’åºåçš„QVectorä¸­æŸ¥æ‰¾ç‰¹å®šå…ƒç´ ã€‚ 7.3 Qtä¸­çš„æ­£åˆ™è¡¨è¾¾å¼æ”¯æŒQtæä¾›äº†QRegularExpressionç±»ï¼Œæ”¯æŒä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œå¤æ‚çš„æ–‡æœ¬åŒ¹é…å’Œå¤„ç†åŠŸèƒ½ã€‚ 7.4 ç¤ºä¾‹ï¼šä½¿ç”¨QRegularExpressionè¿›è¡Œæ¨¡å¼åŒ¹é…ç¤ºä¾‹ä»£ç ï¼š 1234567891011121314151617181920#include &lt;QApplication&gt;#include &lt;QString&gt;#include &lt;QRegularExpression&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); QString text = &quot;Contact us at support@example.com or sales@example.org.&quot;; QRegularExpression emailRegex(R&quot;((\\w+@\\w+\\.\\w+))&quot;); QRegularExpressionMatchIterator i = emailRegex.globalMatch(text); while (i.hasNext()) &#123; QRegularExpressionMatch match = i.next(); QString email = match.captured(1); qDebug() &lt;&lt; &quot;æ‰¾åˆ°é‚®ç®±:&quot; &lt;&lt; email; &#125; return app.exec();&#125; è¿è¡Œç»“æœï¼š 12æ‰¾åˆ°é‚®ç®±: &quot;support@example.com&quot;æ‰¾åˆ°é‚®ç®±: &quot;sales@example.org&quot; è§£é‡Šï¼š ä½¿ç”¨QRegularExpressionå®šä¹‰ä¸€ä¸ªåŒ¹é…é‚®ç®±åœ°å€çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚ ä½¿ç”¨globalMatchæ–¹æ³•è·å–æ‰€æœ‰åŒ¹é…é¡¹ï¼Œå¹¶é€šè¿‡è¿­ä»£å™¨éå†åŒ¹é…ç»“æœã€‚ 7.5 ç¤ºä¾‹ï¼šä½¿ç”¨QString::replaceä¸QRegularExpressionè¿›è¡Œå¤æ‚æ›¿æ¢ç¤ºä¾‹ä»£ç ï¼š 12345678910111213141516#include &lt;QApplication&gt;#include &lt;QString&gt;#include &lt;QRegularExpression&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); QString text = &quot;The quick brown fox jumps over the lazy dog.&quot;; QRegularExpression regex(R&quot;(quick\\s+brown\\s+fox)&quot;); QString replacedText = text.replace(regex, &quot;swift red fox&quot;); qDebug() &lt;&lt; &quot;æ›¿æ¢å:&quot; &lt;&lt; replacedText; return app.exec();&#125; è¿è¡Œç»“æœï¼š 1æ›¿æ¢å: &quot;The swift red fox jumps over the lazy dog.&quot; è§£é‡Šï¼š ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…â€œquick brown foxâ€æ¨¡å¼ã€‚ ä½¿ç”¨replaceæ–¹æ³•å°†åŒ¹é…çš„éƒ¨åˆ†æ›¿æ¢ä¸ºâ€œswift red foxâ€ã€‚ 7.6 ç¤ºä¾‹ï¼šä½¿ç”¨QString::splitä¸QRegularExpressionè¿›è¡Œå¤æ‚åˆ†å‰²ç¤ºä¾‹ä»£ç ï¼š 1234567891011121314151617181920#include &lt;QApplication&gt;#include &lt;QString&gt;#include &lt;QRegularExpression&gt;#include &lt;QStringList&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); QString data = &quot;apple, banana; cherry|date&quot;; QRegularExpression regex(R&quot;([,;|])&quot;); QStringList fruits = data.split(regex); qDebug() &lt;&lt; &quot;æ°´æœåˆ—è¡¨:&quot;; for(const QString&amp; fruit : fruits) &#123; qDebug() &lt;&lt; fruit.trimmed(); &#125; return app.exec();&#125; è¿è¡Œç»“æœï¼š 12345æ°´æœåˆ—è¡¨:&quot;apple&quot;&quot;banana&quot;&quot;cherry&quot;&quot;date&quot; è§£é‡Šï¼š ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…é€—å·ã€åˆ†å·å’Œç«–çº¿ä½œä¸ºåˆ†éš”ç¬¦ã€‚ ä½¿ç”¨splitå‡½æ•°æŒ‰åŒ¹é…çš„åˆ†éš”ç¬¦åˆ†å‰²å­—ç¬¦ä¸²ï¼Œå¹¶ä½¿ç”¨trimmed()å»é™¤å¤šä½™çš„ç©ºæ ¼ã€‚ 7.7 å°ç»“Qtä¸­çš„å¸¸ç”¨ç®—æ³•å’Œæ­£åˆ™è¡¨è¾¾å¼æ”¯æŒä¸ºæ•°æ®å¤„ç†å’Œæ–‡æœ¬åŒ¹é…æä¾›äº†å¼ºå¤§çš„å·¥å…·ã€‚é€šè¿‡åˆç†ä½¿ç”¨è¿™äº›åŠŸèƒ½ï¼Œå¼€å‘è€…å¯ä»¥å®ç°é«˜æ•ˆä¸”å¤æ‚çš„æ•°æ®æ“ä½œå’Œæ–‡æœ¬å¤„ç†é€»è¾‘ï¼Œæå‡åº”ç”¨ç¨‹åºçš„åŠŸèƒ½æ€§å’Œç”¨æˆ·ä½“éªŒã€‚ æ€»ç»“æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†Qtå¼€å‘ä¸­å¸¸ç”¨çš„æ§ä»¶ç±»åˆ«ï¼ŒåŒ…æ‹¬å¸ƒå±€ç®¡ç†å™¨ä¸é—´éš”æ§ä»¶ã€æŒ‰é’®ä¸å®¹å™¨æ§ä»¶ã€åŸºäºæ¨¡å‹çš„è§†å›¾æ§ä»¶ã€åŸºäºé¡¹çš„è§†å›¾æ§ä»¶ã€è¾“å…¥æ§ä»¶ä»¥åŠæ˜¾ç¤ºæ§ä»¶ã€‚åŒæ—¶ï¼Œæ¢è®¨äº†Qtä¸­å¸¸ç”¨çš„ç®—æ³•å’Œæ­£åˆ™è¡¨è¾¾å¼æ”¯æŒï¼Œå±•ç¤ºäº†å¦‚ä½•åœ¨å®é™…é¡¹ç›®ä¸­åº”ç”¨è¿™äº›åŠŸèƒ½ã€‚ ä¸»è¦å†…å®¹å›é¡¾ï¼š Layouts &amp; Spacersï¼š è®²è§£äº†ä¸åŒç±»å‹çš„å¸ƒå±€ç®¡ç†å™¨ï¼ˆQHBoxLayoutã€QVBoxLayoutã€QGridLayoutã€QFormLayoutï¼‰åŠå…¶åº”ç”¨ã€‚ ä»‹ç»äº†QSpacerItemçš„ä½¿ç”¨ï¼Œå¸®åŠ©ä¼˜åŒ–æ§ä»¶é—´çš„é—´è·å’Œå¸ƒå±€ã€‚ Buttons &amp; Containersï¼š ä»‹ç»äº†å„ç§æŒ‰é’®æ§ä»¶ï¼ˆQPushButtonã€QToolButtonã€QRadioButtonã€QCheckBoxã€QCommandLinkButtonï¼‰çš„ä½¿ç”¨æ–¹æ³•å’Œåº”ç”¨åœºæ™¯ã€‚ æ¢è®¨äº†å®¹å™¨æ§ä»¶ï¼ˆQGroupBoxã€QFrameã€QScrollAreaï¼‰çš„åŠŸèƒ½å’Œä½¿ç”¨æŠ€å·§ã€‚ Item Viewsï¼š è¯´æ˜äº†åŸºäºæ¨¡å‹çš„è§†å›¾æ§ä»¶ï¼ˆQListViewã€QTableViewã€QTreeViewï¼‰çš„ä½¿ç”¨æ–¹æ³•åŠå…¶åœ¨æ•°æ®å±•ç¤ºä¸­çš„ä¼˜åŠ¿ã€‚ é€šè¿‡ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ç»“åˆæ¨¡å‹ç±»ï¼ˆQStringListModelã€QStandardItemModelï¼‰ä½¿ç”¨è§†å›¾æ§ä»¶ã€‚ Item Widgetsï¼š ä»‹ç»äº†åŸºäºé¡¹çš„è§†å›¾æ§ä»¶ï¼ˆQListWidgetã€QTreeWidgetã€QTableWidgetï¼‰çš„ç®€åŒ–æ¥å£å’Œä½¿ç”¨æ–¹æ³•ã€‚ é€šè¿‡ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•å¿«é€Ÿåˆ›å»ºå’Œç®¡ç†é¡¹è§†å›¾æ§ä»¶ã€‚ Input Widgetsï¼š è®²è§£äº†å¸¸ç”¨çš„è¾“å…¥æ§ä»¶ï¼ˆQLineEditã€QTextEditã€QSpinBoxã€QDoubleSpinBoxã€QComboBoxã€QCheckBoxã€QRadioButtonã€QSliderã€QDateEditã€QTimeEditï¼‰çš„åŠŸèƒ½å’Œä½¿ç”¨åœºæ™¯ã€‚ é€šè¿‡ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•è·å–å’Œå¤„ç†ç”¨æˆ·è¾“å…¥ã€‚ Display Widgetsï¼š ä»‹ç»äº†å¸¸ç”¨çš„æ˜¾ç¤ºæ§ä»¶ï¼ˆQLabelã€QTextBrowserã€QProgressBarã€QLCDNumberã€QDialã€QToolTipï¼‰çš„ä½¿ç”¨æ–¹æ³•å’Œåº”ç”¨åœºæ™¯ã€‚ é€šè¿‡ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•åŠ¨æ€æ›´æ–°å’Œå±•ç¤ºä¿¡æ¯ã€‚ å¸¸ç”¨ç®—æ³•åŠæ­£åˆ™è¡¨è¾¾å¼ï¼š æ¢è®¨äº†Qtæä¾›çš„å¸¸ç”¨ç®—æ³•å‡½æ•°ï¼Œå¦‚æ’åºã€æŸ¥æ‰¾å’Œéå†ã€‚ ä»‹ç»äº†Qtä¸­å¼ºå¤§çš„æ­£åˆ™è¡¨è¾¾å¼æ”¯æŒï¼Œé€šè¿‡QRegularExpressionå®ç°å¤æ‚çš„æ–‡æœ¬åŒ¹é…å’Œå¤„ç†ã€‚ ä¸‹ä¸€æ­¥å­¦ä¹ å»ºè®®ï¼šæŒæ¡äº†Qtå¼€å‘å¸¸ç”¨æ§ä»¶çš„ä½¿ç”¨æ–¹æ³•åï¼Œå»ºè®®ç»§ç»­æ·±å…¥å­¦ä¹ ä»¥ä¸‹é«˜çº§å†…å®¹ï¼Œä»¥å…¨é¢æå‡Qt C++ç¼–ç¨‹èƒ½åŠ›ï¼š ç±»å‹ç‰¹æ€§æ£€æµ‹ï¼štype_traitsåº“çš„åº”ç”¨ï¼š å­¦ä¹ å¦‚ä½•ä½¿ç”¨std::is_integralã€std::is_rvalue_referenceã€std::is_arithmeticã€std::is_volatileã€std::is_classç­‰è¿›è¡Œç±»å‹åˆ¤æ–­ï¼Œè¾…åŠ©æ¨¡æ¿å…ƒç¼–ç¨‹ã€‚ å˜é‡æ¨¡æ¿ä¸å†…è”å˜é‡ï¼ˆC++14ï¼‰ï¼š æ¢ç´¢C++14ä¸­çš„å˜é‡æ¨¡æ¿å’Œinlineå˜é‡çš„æ¦‚å¿µï¼Œäº†è§£å®ƒä»¬åœ¨å®é™…ç¼–ç¨‹ä¸­çš„åº”ç”¨ã€‚ å¤šçº¿ç¨‹ç¼–ç¨‹çš„é«˜çº§å·¥å…·ï¼š æ·±å…¥äº†è§£çº¿ç¨‹å±€éƒ¨å­˜å‚¨ã€é”çš„ä¼˜åŒ–ç­–ç•¥ã€çº¿ç¨‹æ± ç­‰é«˜çº§å¤šçº¿ç¨‹ç¼–ç¨‹å·¥å…·ï¼Œæå‡å¹¶å‘ç¼–ç¨‹çš„èƒ½åŠ›ã€‚ æ¨¡æ¿ç¼–ç¨‹çš„é«˜çº§æŠ€å·§ï¼š æŒæ¡æ¨¡æ¿å…ƒç¼–ç¨‹ã€SFINAEï¼ˆæ›¿æ¢å¤±è´¥ä¸æ˜¯é”™è¯¯ï¼‰ç­‰é«˜çº§æ¨¡æ¿ç¼–ç¨‹æŠ€æœ¯ï¼Œæå‡ä»£ç çš„æ³›åŒ–å’Œå¤ç”¨èƒ½åŠ›ã€‚ Qtæ¡†æ¶çš„æ ¸å¿ƒæ¦‚å¿µä¸é«˜çº§åŠŸèƒ½ï¼š æ·±å…¥å­¦ä¹ Qtçš„ä¿¡å·ä¸æ§½æœºåˆ¶ã€äº‹ä»¶å¤„ç†ã€æ¨¡å‹-è§†å›¾æ¶æ„ã€Qt Quickç­‰é«˜çº§åŠŸèƒ½ï¼Œæ„å»ºæ›´å¤æ‚å’ŒåŠŸèƒ½ä¸°å¯Œçš„åº”ç”¨ç¨‹åºã€‚ æ•°æ®åº“é›†æˆä¸æ“ä½œï¼š å­¦ä¹ Qtçš„æ•°æ®åº“æ¨¡å—ï¼Œäº†è§£å¦‚ä½•é›†æˆå’Œæ“ä½œä¸åŒç±»å‹çš„æ•°æ®åº“ï¼Œè¿›è¡Œæ•°æ®æŒä¹…åŒ–ç®¡ç†ã€‚ ç½‘ç»œç¼–ç¨‹ï¼š æ¢ç´¢Qtçš„ç½‘ç»œæ¨¡å—ï¼ŒæŒæ¡TCP&#x2F;IPé€šä¿¡ã€HTTPè¯·æ±‚å¤„ç†ç­‰ç½‘ç»œç¼–ç¨‹æŠ€èƒ½ã€‚ å›¾å½¢ç”¨æˆ·ç•Œé¢è®¾è®¡ï¼š å­¦ä¹ Qt Designerçš„é«˜çº§ä½¿ç”¨æŠ€å·§ï¼Œè®¾è®¡å¤æ‚çš„ç”¨æˆ·ç•Œé¢ï¼Œå¹¶ç»“åˆåŠ¨ç”»å’Œæ ·å¼è¡¨æå‡ç•Œé¢ä½“éªŒã€‚ èµ„æºç®¡ç†ä¸å¤šè¯­è¨€æ”¯æŒï¼š æŒæ¡Qtçš„èµ„æºç³»ç»Ÿï¼Œç®¡ç†åº”ç”¨ç¨‹åºèµ„æºï¼Œäº†è§£å¦‚ä½•å®ç°å¤šè¯­è¨€æ”¯æŒï¼Œæå‡åº”ç”¨çš„å›½é™…åŒ–èƒ½åŠ›ã€‚ é€šè¿‡æŒç»­å­¦ä¹ å’Œå®è·µï¼Œç»“åˆæœ¬æ–‡æ‰€ä»‹ç»çš„åŸºç¡€çŸ¥è¯†ï¼Œæ‚¨å°†èƒ½å¤Ÿæ›´åŠ é«˜æ•ˆåœ°åˆ©ç”¨Qtæ¡†æ¶è¿›è¡ŒC++å¼€å‘ï¼Œæ„å»ºå‡ºåŠŸèƒ½ä¸°å¯Œã€æ€§èƒ½ä¼˜å¼‚ä¸”ç”¨æˆ·å‹å¥½çš„åº”ç”¨ç¨‹åºã€‚ æ„Ÿè°¢æ‚¨çš„é˜…è¯»ä¸æ”¯æŒï¼å¦‚æœæ‚¨å¯¹æœ¬æ–‡å†…å®¹æœ‰ä»»ä½•ç–‘é—®æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€ä¸æˆ‘ä»¬äº¤æµã€‚è¯·ç»§ç»­å…³æ³¨æˆ‘ä»¬çš„ç³»åˆ—æ–‡ç« ï¼Œæ·±å…¥äº†è§£Qt C++å¼€å‘çš„æ›´å¤šé«˜çº§ç‰¹æ€§å’Œå®æˆ˜æŠ€å·§ã€‚","categories":[],"tags":[]},{"title":"Qtå¼€å‘å¸¸ç”¨æ§ä»¶è¯¦è§£(1)","slug":"Qtå¼€å‘å¸¸ç”¨æ§ä»¶è¯¦è§£-1","date":"2024-12-26T13:32:52.000Z","updated":"2024-12-26T13:33:34.156Z","comments":true,"path":"2024/12/26/Qtå¼€å‘å¸¸ç”¨æ§ä»¶è¯¦è§£-1/","link":"","permalink":"http://ycx81.github.io/2024/12/26/Qt%E5%BC%80%E5%8F%91%E5%B8%B8%E7%94%A8%E6%8E%A7%E4%BB%B6%E8%AF%A6%E8%A7%A3-1/","excerpt":"å‰è¨€","text":"å‰è¨€ Qtå¼€å‘å¸¸ç”¨æ§ä»¶è¯¦è§£åœ¨Qtæ¡†æ¶ä¸­ï¼Œæ§ä»¶ï¼ˆWidgetsï¼‰æ˜¯æ„å»ºå›¾å½¢ç”¨æˆ·ç•Œé¢çš„åŸºçŸ³ã€‚Qtæä¾›äº†ä¸°å¯Œçš„æ§ä»¶åº“ï¼Œæ¶µç›–äº†å¸ƒå±€ç®¡ç†ã€æŒ‰é’®ã€å®¹å™¨ã€è§†å›¾ã€è¾“å…¥å’Œæ˜¾ç¤ºç­‰å„ä¸ªæ–¹é¢ï¼Œæ»¡è¶³ä¸åŒåº”ç”¨åœºæ™¯çš„éœ€æ±‚ã€‚æŒæ¡è¿™äº›å¸¸ç”¨æ§ä»¶çš„ä½¿ç”¨æ–¹æ³•å’Œæœ€ä½³å®è·µï¼Œæ˜¯é«˜æ•ˆå¼€å‘Qtåº”ç”¨ç¨‹åºçš„å…³é”®ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»Qtå¼€å‘ä¸­å¸¸ç”¨çš„æ§ä»¶ç±»åˆ«ï¼ŒåŒ…æ‹¬å¸ƒå±€ç®¡ç†å™¨å’Œç©ºç™½æ§ä»¶ã€æŒ‰é’®ä¸å®¹å™¨æ§ä»¶ã€åŸºäºæ¨¡å‹çš„è§†å›¾æ§ä»¶ã€åŸºäºé¡¹çš„è§†å›¾æ§ä»¶ã€è¾“å…¥æ§ä»¶ä»¥åŠæ˜¾ç¤ºæ§ä»¶ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜å°†æ¢è®¨Qtä¸­å¸¸ç”¨çš„ç®—æ³•å’Œæ­£åˆ™è¡¨è¾¾å¼æ”¯æŒï¼Œå±•ç¤ºå¦‚ä½•åœ¨é¡¹ç›®ä¸­åº”ç”¨è¿™äº›åŠŸèƒ½ã€‚ 1. Layouts &amp; Spacers1.1 å¸ƒå±€ç®¡ç†å™¨ï¼ˆLayoutsï¼‰å¸ƒå±€ç®¡ç†å™¨æ˜¯Qtä¸­ç”¨äºè‡ªåŠ¨æ’åˆ—å’Œè°ƒæ•´æ§ä»¶å¤§å°çš„å·¥å…·ã€‚ä½¿ç”¨å¸ƒå±€ç®¡ç†å™¨å¯ä»¥ç¡®ä¿ç”¨æˆ·ç•Œé¢åœ¨ä¸åŒåˆ†è¾¨ç‡å’Œçª—å£å¤§å°ä¸‹éƒ½èƒ½ä¿æŒè‰¯å¥½çš„å¸ƒå±€ã€‚Qtæä¾›äº†å‡ ç§å¸¸ç”¨çš„å¸ƒå±€ç®¡ç†å™¨ï¼š QHBoxLayoutï¼šæ°´å¹³å¸ƒå±€ç®¡ç†å™¨ï¼ŒæŒ‰æ°´å¹³æ–¹å‘æ’åˆ—æ§ä»¶ã€‚ QVBoxLayoutï¼šå‚ç›´å¸ƒå±€ç®¡ç†å™¨ï¼ŒæŒ‰å‚ç›´æ–¹å‘æ’åˆ—æ§ä»¶ã€‚ QGridLayoutï¼šç½‘æ ¼å¸ƒå±€ç®¡ç†å™¨ï¼ŒæŒ‰è¡Œå’Œåˆ—æ’åˆ—æ§ä»¶ã€‚ QFormLayoutï¼šè¡¨å•å¸ƒå±€ç®¡ç†å™¨ï¼Œé€‚ç”¨äºè¡¨å•è¾“å…¥ç•Œé¢ã€‚ 1.2 Spacerï¼ˆç©ºç™½æ§ä»¶ï¼‰Spacerï¼ˆé—´éš”æ§ä»¶ï¼‰ç”¨äºåœ¨å¸ƒå±€ä¸­æ·»åŠ å¼¹æ€§ç©ºé—´ï¼Œå¸®åŠ©æ§ä»¶ä¹‹é—´ä¿æŒé€‚å½“çš„é—´è·æˆ–å°†æ§ä»¶æ¨å‘å¸ƒå±€çš„ä¸€ä¾§ã€‚Qtæä¾›äº†ä¸¤ç§ä¸»è¦çš„é—´éš”æ§ä»¶ï¼š QSpacerItemï¼šé€šç”¨çš„é—´éš”é¡¹ï¼Œå¯ç”¨äºä»»ä½•å¸ƒå±€ä¸­ã€‚ QSpacerWidgetï¼šåŸºäºQWidgetçš„é—´éš”æ§ä»¶ï¼Œå·²åœ¨Qt 5ä¸­å¼ƒç”¨ï¼Œæ¨èä½¿ç”¨QSpacerItemã€‚ 1.3 ç¤ºä¾‹ï¼šä½¿ç”¨å¸ƒå±€ç®¡ç†å™¨å’Œé—´éš”æ§ä»¶è®¾è®¡ç•Œé¢ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨QVBoxLayoutå’ŒQHBoxLayoutç»“åˆé—´éš”æ§ä»¶æ¥è®¾è®¡ä¸€ä¸ªç®€æ´ç¾è§‚çš„ç”¨æˆ·ç•Œé¢ã€‚ ç¤ºä¾‹ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940#include &lt;QApplication&gt;#include &lt;QWidget&gt;#include &lt;QPushButton&gt;#include &lt;QHBoxLayout&gt;#include &lt;QVBoxLayout&gt;#include &lt;QSpacerItem&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºä¸»çª—å£ QWidget window; window.setWindowTitle(&quot;å¸ƒå±€ç®¡ç†å™¨ä¸é—´éš”æ§ä»¶ç¤ºä¾‹&quot;); // åˆ›å»ºæŒ‰é’® QPushButton *button1 = new QPushButton(&quot;æŒ‰é’®1&quot;); QPushButton *button2 = new QPushButton(&quot;æŒ‰é’®2&quot;); QPushButton *button3 = new QPushButton(&quot;æŒ‰é’®3&quot;); // åˆ›å»ºæ°´å¹³å¸ƒå±€ç®¡ç†å™¨ QHBoxLayout *hLayout = new QHBoxLayout; hLayout-&gt;addWidget(button1); hLayout-&gt;addWidget(button2); // æ·»åŠ é—´éš”æ§ä»¶ï¼Œå°†button3æ¨å‘å³ä¾§ QSpacerItem *spacer = new QSpacerItem(40, 20, QSizePolicy::Expanding, QSizePolicy::Minimum); hLayout-&gt;addItem(spacer); hLayout-&gt;addWidget(button3); // åˆ›å»ºå‚ç›´å¸ƒå±€ç®¡ç†å™¨ QVBoxLayout *vLayout = new QVBoxLayout; vLayout-&gt;addLayout(hLayout); // è®¾ç½®ä¸»çª—å£çš„å¸ƒå±€ window.setLayout(vLayout); window.resize(400, 200); window.show(); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QHBoxLayoutç”¨äºæ°´å¹³æ’åˆ—æŒ‰é’®1å’ŒæŒ‰é’®2ã€‚ QSpacerItemè¢«æ·»åŠ åˆ°æ°´å¹³å¸ƒå±€ä¸­ï¼Œèµ·åˆ°å¼¹æ€§ç©ºé—´çš„ä½œç”¨ï¼Œå°†æŒ‰é’®3æ¨å‘å¸ƒå±€çš„å³ä¾§ã€‚ QVBoxLayoutå°†æ°´å¹³å¸ƒå±€åµŒå¥—åœ¨å‚ç›´å¸ƒå±€ä¸­ï¼Œç¡®ä¿ç•Œé¢åœ¨å‚ç›´æ–¹å‘ä¸Šçš„çµæ´»æ€§ã€‚ 1.4 å¸ƒå±€ç®¡ç†å™¨çš„æœ€ä½³å®è·µ é¿å…åœ¨æ§ä»¶ä¹‹é—´ä½¿ç”¨å›ºå®šå¤§å°ï¼šå°½é‡ä½¿ç”¨å¸ƒå±€ç®¡ç†å™¨è‡ªåŠ¨è°ƒæ•´æ§ä»¶å¤§å°ï¼Œä»¥é€‚åº”ä¸åŒçš„çª—å£å°ºå¯¸ã€‚ åˆç†ä½¿ç”¨åµŒå¥—å¸ƒå±€ï¼šé€šè¿‡åµŒå¥—ä½¿ç”¨QHBoxLayoutå’ŒQVBoxLayoutï¼Œå¯ä»¥è®¾è®¡å¤æ‚ä¸”çµæ´»çš„ç•Œé¢ã€‚ ä½¿ç”¨é—´éš”æ§ä»¶ä¼˜åŒ–å¸ƒå±€ï¼šé€‚å½“æ·»åŠ é—´éš”æ§ä»¶ï¼Œç¡®ä¿æ§ä»¶ä¹‹é—´çš„é—´è·åˆç†ï¼Œæå‡ç•Œé¢çš„ç¾è§‚æ€§ã€‚ 2. Buttons &amp; Containers2.1 æŒ‰é’®æ§ä»¶ï¼ˆButtonsï¼‰æŒ‰é’®æ˜¯ç”¨æˆ·ç•Œé¢ä¸­æœ€å¸¸ç”¨çš„æ§ä»¶ä¹‹ä¸€ï¼Œç”¨äºè§¦å‘å„ç§æ“ä½œå’Œäº‹ä»¶ã€‚Qtæä¾›äº†å¤šç§æŒ‰é’®æ§ä»¶ï¼Œæ»¡è¶³ä¸åŒçš„éœ€æ±‚ï¼š QPushButtonï¼šæ ‡å‡†æŒ‰é’®ï¼Œç”¨äºæ‰§è¡Œå‘½ä»¤ã€‚ QToolButtonï¼šå·¥å…·æŒ‰é’®ï¼Œé€šå¸¸ç”¨äºå·¥å…·æ ä¸­ï¼Œæ”¯æŒå›¾æ ‡æ˜¾ç¤ºã€‚ QRadioButtonï¼šå•é€‰æŒ‰é’®ï¼Œç”¨äºåœ¨å¤šä¸ªé€‰é¡¹ä¸­é€‰æ‹©ä¸€ä¸ªã€‚ QCheckBoxï¼šå¤é€‰æ¡†ï¼Œç”¨äºé€‰æ‹©æˆ–å–æ¶ˆé€‰æ‹©å¤šä¸ªé€‰é¡¹ã€‚ QCommandLinkButtonï¼šå‘½ä»¤é“¾æ¥æŒ‰é’®ï¼Œå¸¦æœ‰æè¿°æ–‡æœ¬ï¼Œç±»ä¼¼äºWindows Vistaä¸­çš„é“¾æ¥æŒ‰é’®ã€‚ 2.2 å®¹å™¨æ§ä»¶ï¼ˆContainersï¼‰å®¹å™¨æ§ä»¶ç”¨äºç»„ç»‡å’Œç®¡ç†å…¶ä»–æ§ä»¶ï¼Œæä¾›åˆ†ç»„å’Œç»“æ„åŒ–ç•Œé¢çš„èƒ½åŠ›ã€‚å¸¸ç”¨çš„å®¹å™¨æ§ä»¶åŒ…æ‹¬ï¼š QGroupBoxï¼šåˆ†ç»„æ¡†ï¼Œç”¨äºåœ¨è§†è§‰ä¸Šåˆ†ç»„ç›¸å…³çš„æ§ä»¶ã€‚ QFrameï¼šæ¡†æ¶æ§ä»¶ï¼Œæä¾›å¤šç§è¾¹æ¡†æ ·å¼ã€‚ QScrollAreaï¼šæ»šåŠ¨åŒºåŸŸæ§ä»¶ï¼Œå…è®¸åœ¨æœ‰é™çš„ç©ºé—´å†…æ˜¾ç¤ºè¶…å‡ºè§†å›¾èŒƒå›´çš„å†…å®¹ã€‚ 2.3 ç¤ºä¾‹ï¼šä½¿ç”¨QPushButtonå’ŒQGroupBoxæ„å»ºç•Œé¢ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨QPushButtonå’ŒQGroupBoxæ¥åˆ›å»ºä¸€ä¸ªåˆ†ç»„æŒ‰é’®çš„ç”¨æˆ·ç•Œé¢ã€‚ ç¤ºä¾‹ä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354#include &lt;QApplication&gt;#include &lt;QWidget&gt;#include &lt;QPushButton&gt;#include &lt;QGroupBox&gt;#include &lt;QVBoxLayout&gt;#include &lt;QHBoxLayout&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºä¸»çª—å£ QWidget window; window.setWindowTitle(&quot;æŒ‰é’®ä¸å®¹å™¨æ§ä»¶ç¤ºä¾‹&quot;); // åˆ›å»ºQGroupBox QGroupBox *groupBox = new QGroupBox(&quot;æ“ä½œé€‰é¡¹&quot;); // åˆ›å»ºæŒ‰é’® QPushButton *btnStart = new QPushButton(&quot;å¼€å§‹&quot;); QPushButton *btnStop = new QPushButton(&quot;åœæ­¢&quot;); QPushButton *btnPause = new QPushButton(&quot;æš‚åœ&quot;); // è¿æ¥æŒ‰é’®ä¿¡å·åˆ°æ§½ QObject::connect(btnStart, &amp;QPushButton::clicked, []()&#123; qDebug() &lt;&lt; &quot;å¼€å§‹æŒ‰é’®è¢«ç‚¹å‡»&quot;; &#125;); QObject::connect(btnStop, &amp;QPushButton::clicked, []()&#123; qDebug() &lt;&lt; &quot;åœæ­¢æŒ‰é’®è¢«ç‚¹å‡»&quot;; &#125;); QObject::connect(btnPause, &amp;QPushButton::clicked, []()&#123; qDebug() &lt;&lt; &quot;æš‚åœæŒ‰é’®è¢«ç‚¹å‡»&quot;; &#125;); // åˆ›å»ºå¸ƒå±€ç®¡ç†å™¨ QHBoxLayout *hLayout = new QHBoxLayout; hLayout-&gt;addWidget(btnStart); hLayout-&gt;addWidget(btnStop); hLayout-&gt;addWidget(btnPause); // è®¾ç½®QGroupBoxçš„å¸ƒå±€ groupBox-&gt;setLayout(hLayout); // åˆ›å»ºä¸»å¸ƒå±€ QVBoxLayout *vLayout = new QVBoxLayout; vLayout-&gt;addWidget(groupBox); // è®¾ç½®ä¸»çª—å£çš„å¸ƒå±€ window.setLayout(vLayout); window.resize(300, 150); window.show(); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QGroupBoxç”¨äºè§†è§‰ä¸Šåˆ†ç»„â€œå¼€å§‹â€ã€â€œåœæ­¢â€å’Œâ€œæš‚åœâ€æŒ‰é’®ã€‚ æŒ‰é’®çš„ç‚¹å‡»ä¿¡å·é€šè¿‡QObject::connectè¿æ¥åˆ°lambdaæ§½å‡½æ•°ï¼Œæ‰“å°ç›¸åº”çš„è°ƒè¯•ä¿¡æ¯ã€‚ QHBoxLayoutåœ¨QGroupBoxå†…éƒ¨æ°´å¹³æ’åˆ—æŒ‰é’®ï¼Œç¡®ä¿ç•Œé¢æ•´æ´æœ‰åºã€‚ 2.4 QPushButtonçš„é«˜çº§åŠŸèƒ½è®¾ç½®å›¾æ ‡å’Œå¿«æ·é”®ï¼š å¯ä»¥ä¸ºQPushButtonè®¾ç½®å›¾æ ‡å’Œå¿«æ·é”®ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚ ç¤ºä¾‹ä»£ç ï¼š 1234QPushButton *btnSave = new QPushButton(&quot;ä¿å­˜&quot;, this);btnSave-&gt;setIcon(QIcon(&quot;:/icons/save.png&quot;)); // è®¾ç½®å›¾æ ‡btnSave-&gt;setShortcut(QKeySequence(Qt::CTRL + Qt::Key_S)); // è®¾ç½®å¿«æ·é”®connect(btnSave, &amp;QPushButton::clicked, this, &amp;MainWindow::saveData); è§£é‡Šï¼š setIconæ–¹æ³•ä¸ºæŒ‰é’®è®¾ç½®å›¾æ ‡ï¼Œæå‡ç•Œé¢çš„è§†è§‰æ•ˆæœã€‚ setShortcutæ–¹æ³•ä¸ºæŒ‰é’®è®¾ç½®å¿«æ·é”®ï¼Œå…è®¸ç”¨æˆ·é€šè¿‡é”®ç›˜å¿«é€Ÿè§¦å‘æŒ‰é’®æ“ä½œã€‚ 2.5 QGroupBoxçš„é«˜çº§åº”ç”¨ç¤ºä¾‹ï¼šåµŒå¥—ä½¿ç”¨QGroupBox é€šè¿‡åµŒå¥—ä½¿ç”¨å¤šä¸ªQGroupBoxï¼Œå¯ä»¥åˆ›å»ºæ›´å¤æ‚çš„ç•Œé¢å¸ƒå±€ã€‚ ç¤ºä¾‹ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849#include &lt;QApplication&gt;#include &lt;QWidget&gt;#include &lt;QPushButton&gt;#include &lt;QGroupBox&gt;#include &lt;QVBoxLayout&gt;#include &lt;QHBoxLayout&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºä¸»çª—å£ QWidget window; window.setWindowTitle(&quot;åµŒå¥—QGroupBoxç¤ºä¾‹&quot;); // åˆ›å»ºç¬¬ä¸€ä¸ªQGroupBox QGroupBox *groupBox1 = new QGroupBox(&quot;æ–‡ä»¶æ“ä½œ&quot;); QPushButton *btnOpen = new QPushButton(&quot;æ‰“å¼€&quot;); QPushButton *btnClose = new QPushButton(&quot;å…³é—­&quot;); QHBoxLayout *hLayout1 = new QHBoxLayout; hLayout1-&gt;addWidget(btnOpen); hLayout1-&gt;addWidget(btnClose); groupBox1-&gt;setLayout(hLayout1); // åˆ›å»ºç¬¬äºŒä¸ªQGroupBox QGroupBox *groupBox2 = new QGroupBox(&quot;ç¼–è¾‘æ“ä½œ&quot;); QPushButton *btnCut = new QPushButton(&quot;å‰ªåˆ‡&quot;); QPushButton *btnCopy = new QPushButton(&quot;å¤åˆ¶&quot;); QPushButton *btnPaste = new QPushButton(&quot;ç²˜è´´&quot;); QHBoxLayout *hLayout2 = new QHBoxLayout; hLayout2-&gt;addWidget(btnCut); hLayout2-&gt;addWidget(btnCopy); hLayout2-&gt;addWidget(btnPaste); groupBox2-&gt;setLayout(hLayout2); // åˆ›å»ºä¸»å¸ƒå±€ QVBoxLayout *vLayout = new QVBoxLayout; vLayout-&gt;addWidget(groupBox1); vLayout-&gt;addWidget(groupBox2); // è®¾ç½®ä¸»çª—å£çš„å¸ƒå±€ window.setLayout(vLayout); window.resize(400, 200); window.show(); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š åˆ›å»ºäº†ä¸¤ä¸ªQGroupBoxï¼Œåˆ†åˆ«ç”¨äºâ€œæ–‡ä»¶æ“ä½œâ€å’Œâ€œç¼–è¾‘æ“ä½œâ€ã€‚ æ¯ä¸ªQGroupBoxå†…éƒ¨ä½¿ç”¨QHBoxLayoutæ°´å¹³æ’åˆ—ç›¸å…³æŒ‰é’®ï¼Œå¢å¼ºç•Œé¢çš„ç»„ç»‡æ€§å’Œå¯è¯»æ€§ã€‚ 2.6 å¸ƒå±€ç®¡ç†å™¨ä¸å®¹å™¨æ§ä»¶çš„ç»“åˆä½¿ç”¨é€šè¿‡å°†å¸ƒå±€ç®¡ç†å™¨ä¸å®¹å™¨æ§ä»¶ç»“åˆä½¿ç”¨ï¼Œå¯ä»¥è®¾è®¡å‡ºæ›´åŠ å¤æ‚å’Œçµæ´»çš„ç”¨æˆ·ç•Œé¢ã€‚ ç¤ºä¾‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152#include &lt;QApplication&gt;#include &lt;QWidget&gt;#include &lt;QPushButton&gt;#include &lt;QGroupBox&gt;#include &lt;QVBoxLayout&gt;#include &lt;QHBoxLayout&gt;#include &lt;QGridLayout&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºä¸»çª—å£ QWidget window; window.setWindowTitle(&quot;å¸ƒå±€ä¸å®¹å™¨ç»“åˆç¤ºä¾‹&quot;); // åˆ›å»ºQGroupBox1 QGroupBox *groupBox1 = new QGroupBox(&quot;åŸºæœ¬æ“ä½œ&quot;); QPushButton *btnAdd = new QPushButton(&quot;æ·»åŠ &quot;); QPushButton *btnDelete = new QPushButton(&quot;åˆ é™¤&quot;); QHBoxLayout *hLayout1 = new QHBoxLayout; hLayout1-&gt;addWidget(btnAdd); hLayout1-&gt;addWidget(btnDelete); groupBox1-&gt;setLayout(hLayout1); // åˆ›å»ºQGroupBox2 QGroupBox *groupBox2 = new QGroupBox(&quot;é«˜çº§æ“ä½œ&quot;); QPushButton *btnEdit = new QPushButton(&quot;ç¼–è¾‘&quot;); QPushButton *btnSearch = new QPushButton(&quot;æœç´¢&quot;); QHBoxLayout *hLayout2 = new QHBoxLayout; hLayout2-&gt;addWidget(btnEdit); hLayout2-&gt;addWidget(btnSearch); groupBox2-&gt;setLayout(hLayout2); // åˆ›å»ºç½‘æ ¼å¸ƒå±€ QGridLayout *gridLayout = new QGridLayout; gridLayout-&gt;addWidget(groupBox1, 0, 0); gridLayout-&gt;addWidget(groupBox2, 0, 1); // åˆ›å»ºä¸»å¸ƒå±€ QVBoxLayout *vLayout = new QVBoxLayout; vLayout-&gt;addLayout(gridLayout); // è®¾ç½®ä¸»çª—å£çš„å¸ƒå±€ window.setLayout(vLayout); window.resize(500, 300); window.show(); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š ä½¿ç”¨QGridLayoutå°†ä¸¤ä¸ªQGroupBoxæ”¾ç½®åœ¨ç½‘æ ¼çš„ä¸åŒä½ç½®ã€‚ æ¯ä¸ªQGroupBoxå†…éƒ¨ä½¿ç”¨QHBoxLayoutæ°´å¹³æ’åˆ—æŒ‰é’®ï¼Œå®ç°å¤æ‚çš„ç•Œé¢å¸ƒå±€ã€‚ 2.7 å°ç»“å¸ƒå±€ç®¡ç†å™¨å’Œå®¹å™¨æ§ä»¶æ˜¯æ„å»ºç¾è§‚ä¸”å“åº”å¼ç”¨æˆ·ç•Œé¢çš„é‡è¦å·¥å…·ã€‚é€šè¿‡åˆç†ä½¿ç”¨å¸ƒå±€ç®¡ç†å™¨å’Œå®¹å™¨æ§ä»¶ï¼Œå¯ä»¥ç¡®ä¿åº”ç”¨ç¨‹åºåœ¨ä¸åŒå±å¹•å°ºå¯¸å’Œåˆ†è¾¨ç‡ä¸‹éƒ½èƒ½ä¿æŒè‰¯å¥½çš„ç”¨æˆ·ä½“éªŒã€‚åŒæ—¶ï¼Œç»“åˆæŒ‰é’®æ§ä»¶çš„ä½¿ç”¨ï¼Œèƒ½å¤Ÿåˆ›å»ºåŠŸèƒ½é½å…¨ä¸”æ˜“äºæ“ä½œçš„ç”¨æˆ·ç•Œé¢ã€‚ 3. Item Views3.1 åŸºäºæ¨¡å‹çš„è§†å›¾æ§ä»¶Qtçš„æ¨¡å‹è§†å›¾æ¶æ„ï¼ˆModel-View Architectureï¼‰æä¾›äº†ä¸€ç§é«˜æ•ˆçš„æ•°æ®ç®¡ç†å’Œæ˜¾ç¤ºæ–¹å¼ã€‚åŸºäºæ¨¡å‹çš„è§†å›¾æ§ä»¶å°†æ•°æ®å­˜å‚¨åœ¨æ¨¡å‹ä¸­ï¼Œè§†å›¾è´Ÿè´£å±•ç¤ºæ•°æ®ï¼Œæ§åˆ¶å™¨å¤„ç†ç”¨æˆ·äº¤äº’ã€‚è¿™ç§æ¶æ„ä¿ƒè¿›äº†æ•°æ®ä¸è§†å›¾çš„åˆ†ç¦»ï¼Œæé«˜äº†ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¤ç”¨æ€§ã€‚ å¸¸è§çš„åŸºäºæ¨¡å‹çš„è§†å›¾æ§ä»¶åŒ…æ‹¬ï¼š QListViewï¼šåˆ—è¡¨è§†å›¾ï¼Œç”¨äºæ˜¾ç¤ºçº¿æ€§åˆ—è¡¨æ•°æ®ã€‚ QTableViewï¼šè¡¨æ ¼è§†å›¾ï¼Œç”¨äºæ˜¾ç¤ºäºŒç»´è¡¨æ ¼æ•°æ®ã€‚ QTreeViewï¼šæ ‘å½¢è§†å›¾ï¼Œç”¨äºæ˜¾ç¤ºå±‚æ¬¡ç»“æ„æ•°æ®ã€‚ 3.2 ç¤ºä¾‹ï¼šä½¿ç”¨QListViewå±•ç¤ºæ•°æ®ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨QListViewç»“åˆQStringListModelæ¥å±•ç¤ºç®€å•çš„åˆ—è¡¨æ•°æ®ã€‚ ç¤ºä¾‹ä»£ç ï¼š 12345678910111213141516171819202122232425#include &lt;QApplication&gt;#include &lt;QListView&gt;#include &lt;QStringListModel&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºQListView QListView listView; listView.setWindowTitle(&quot;QListView ç¤ºä¾‹&quot;); // åˆ›å»ºQStringListModel QStringList data; data &lt;&lt; &quot;Apple&quot; &lt;&lt; &quot;Banana&quot; &lt;&lt; &quot;Cherry&quot; &lt;&lt; &quot;Date&quot; &lt;&lt; &quot;Elderberry&quot;; QStringListModel *model = new QStringListModel(data, &amp;listView); // è®¾ç½®æ¨¡å‹åˆ°è§†å›¾ listView.setModel(model); // æ˜¾ç¤ºè§†å›¾ listView.show(); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QListViewä½œä¸ºè§†å›¾æ§ä»¶ï¼Œè´Ÿè´£å±•ç¤ºæ•°æ®ã€‚ QStringListModelä½œä¸ºæ¨¡å‹ï¼Œå­˜å‚¨å¹¶ç®¡ç†å­—ç¬¦ä¸²åˆ—è¡¨æ•°æ®ã€‚ ä½¿ç”¨setModelæ–¹æ³•å°†æ¨¡å‹å…³è”åˆ°è§†å›¾ï¼Œè§†å›¾è‡ªåŠ¨æ›´æ–°æ˜¾ç¤ºæ•°æ®ã€‚ 3.3 ç¤ºä¾‹ï¼šä½¿ç”¨QTableViewå±•ç¤ºæ•°æ®ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨QTableViewç»“åˆQStandardItemModelæ¥å±•ç¤ºäºŒç»´è¡¨æ ¼æ•°æ®ã€‚ ç¤ºä¾‹ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435363738#include &lt;QApplication&gt;#include &lt;QTableView&gt;#include &lt;QStandardItemModel&gt;#include &lt;QStandardItem&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºQTableView QTableView tableView; tableView.setWindowTitle(&quot;QTableView ç¤ºä¾‹&quot;); // åˆ›å»ºQStandardItemModel QStandardItemModel model(3, 2); // 3è¡Œ2åˆ— model.setHeaderData(0, Qt::Horizontal, &quot;å§“å&quot;); model.setHeaderData(1, Qt::Horizontal, &quot;å¹´é¾„&quot;); // å¡«å……æ•°æ® QList&lt;QStandardItem *&gt; row1; row1 &lt;&lt; new QStandardItem(&quot;Alice&quot;) &lt;&lt; new QStandardItem(&quot;30&quot;); QList&lt;QStandardItem *&gt; row2; row2 &lt;&lt; new QStandardItem(&quot;Bob&quot;) &lt;&lt; new QStandardItem(&quot;25&quot;); QList&lt;QStandardItem *&gt; row3; row3 &lt;&lt; new QStandardItem(&quot;Charlie&quot;) &lt;&lt; new QStandardItem(&quot;35&quot;); model.appendRow(row1); model.appendRow(row2); model.appendRow(row3); // è®¾ç½®æ¨¡å‹åˆ°è§†å›¾ tableView.setModel(&amp;model); // æ˜¾ç¤ºè§†å›¾ tableView.show(); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QTableViewä½œä¸ºè§†å›¾æ§ä»¶ï¼Œè´Ÿè´£å±•ç¤ºäºŒç»´è¡¨æ ¼æ•°æ®ã€‚ QStandardItemModelä½œä¸ºæ¨¡å‹ï¼Œå­˜å‚¨å¹¶ç®¡ç†è¡¨æ ¼æ•°æ®ï¼ŒåŒ…æ‹¬è¡Œå’Œåˆ—ã€‚ ä½¿ç”¨setHeaderDataè®¾ç½®è¡¨å¤´ä¿¡æ¯ï¼Œä½¿ç”¨appendRowæ·»åŠ æ•°æ®è¡Œã€‚ è§†å›¾è‡ªåŠ¨æ˜¾ç¤ºæ¨¡å‹ä¸­çš„æ•°æ®ã€‚ 3.4 ç¤ºä¾‹ï¼šä½¿ç”¨QTreeViewå±•ç¤ºæ•°æ®ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨QTreeViewç»“åˆQStandardItemModelæ¥å±•ç¤ºå±‚æ¬¡ç»“æ„æ•°æ®ã€‚ ç¤ºä¾‹ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455#include &lt;QApplication&gt;#include &lt;QTreeView&gt;#include &lt;QStandardItemModel&gt;#include &lt;QStandardItem&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºQTreeView QTreeView treeView; treeView.setWindowTitle(&quot;QTreeView ç¤ºä¾‹&quot;); // åˆ›å»ºQStandardItemModel QStandardItemModel model; model.setHorizontalHeaderLabels(&#123;&quot;åç§°&quot;, &quot;æè¿°&quot;&#125;); // åˆ›å»ºæ ¹èŠ‚ç‚¹ QStandardItem *rootItem = model.invisibleRootItem(); // åˆ›å»ºä¸€çº§èŠ‚ç‚¹ QStandardItem *parent1 = new QStandardItem(&quot;æ–‡ä»¶&quot;); QStandardItem *parent1Desc = new QStandardItem(&quot;æ–‡ä»¶æ“ä½œ&quot;); rootItem-&gt;appendRow(&#123;parent1, parent1Desc&#125;); QStandardItem *parent2 = new QStandardItem(&quot;ç¼–è¾‘&quot;); QStandardItem *parent2Desc = new QStandardItem(&quot;ç¼–è¾‘æ“ä½œ&quot;); rootItem-&gt;appendRow(&#123;parent2, parent2Desc&#125;); // åˆ›å»ºäºŒçº§èŠ‚ç‚¹ QStandardItem *child1 = new QStandardItem(&quot;æ–°å»º&quot;); QStandardItem *child1Desc = new QStandardItem(&quot;åˆ›å»ºæ–°æ–‡ä»¶&quot;); parent1-&gt;appendRow(&#123;child1, child1Desc&#125;); QStandardItem *child2 = new QStandardItem(&quot;æ‰“å¼€&quot;); QStandardItem *child2Desc = new QStandardItem(&quot;æ‰“å¼€ç°æœ‰æ–‡ä»¶&quot;); parent1-&gt;appendRow(&#123;child2, child2Desc&#125;); QStandardItem *child3 = new QStandardItem(&quot;å¤åˆ¶&quot;); QStandardItem *child3Desc = new QStandardItem(&quot;å¤åˆ¶é€‰ä¸­å†…å®¹&quot;); parent2-&gt;appendRow(&#123;child3, child3Desc&#125;); QStandardItem *child4 = new QStandardItem(&quot;ç²˜è´´&quot;); QStandardItem *child4Desc = new QStandardItem(&quot;ç²˜è´´å†…å®¹&quot;); parent2-&gt;appendRow(&#123;child4, child4Desc&#125;); // è®¾ç½®æ¨¡å‹åˆ°è§†å›¾ treeView.setModel(&amp;model); treeView.expandAll(); // å±•å¼€æ‰€æœ‰èŠ‚ç‚¹ // æ˜¾ç¤ºè§†å›¾ treeView.show(); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QTreeViewä½œä¸ºè§†å›¾æ§ä»¶ï¼Œè´Ÿè´£å±•ç¤ºå±‚æ¬¡ç»“æ„æ•°æ®ã€‚ QStandardItemModelä½œä¸ºæ¨¡å‹ï¼Œå­˜å‚¨å¹¶ç®¡ç†æ ‘å½¢æ•°æ®ç»“æ„ã€‚ é€šè¿‡appendRowæ–¹æ³•æ·»åŠ çˆ¶èŠ‚ç‚¹å’Œå­èŠ‚ç‚¹ï¼Œæ„å»ºæ ‘å½¢ç»“æ„ã€‚ ä½¿ç”¨expandAllæ–¹æ³•å±•å¼€æ‰€æœ‰èŠ‚ç‚¹ï¼Œä¾¿äºæŸ¥çœ‹æ•°æ®ã€‚ 3.5 æ¨¡å‹è§†å›¾æ¶æ„çš„ä¼˜åŠ¿ æ•°æ®ä¸è§†å›¾åˆ†ç¦»ï¼šæ¨¡å‹è´Ÿè´£æ•°æ®ç®¡ç†ï¼Œè§†å›¾è´Ÿè´£æ•°æ®å±•ç¤ºï¼Œæé«˜äº†ä»£ç çš„æ¨¡å—åŒ–å’Œå¯ç»´æŠ¤æ€§ã€‚ çµæ´»çš„æ•°æ®å±•ç¤ºï¼šåŒä¸€ä¸ªæ¨¡å‹å¯ä»¥è¢«å¤šä¸ªè§†å›¾ä½¿ç”¨ï¼Œå¦‚ä¸€ä¸ªæ¨¡å‹å¯ä»¥åŒæ—¶è¢«QListViewå’ŒQTableViewå±•ç¤ºã€‚ é«˜æ•ˆçš„æ•°æ®æ“ä½œï¼šæ¨¡å‹è§†å›¾æ¶æ„ä¼˜åŒ–äº†å¤§è§„æ¨¡æ•°æ®çš„å¤„ç†å’Œå±•ç¤ºï¼Œæå‡äº†åº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚ 3.6 å°ç»“åŸºäºæ¨¡å‹çš„è§†å›¾æ§ä»¶æ˜¯Qtä¸­å¤„ç†å’Œå±•ç¤ºå¤æ‚æ•°æ®çš„é‡è¦å·¥å…·ã€‚é€šè¿‡ç†è§£å’Œåº”ç”¨æ¨¡å‹è§†å›¾æ¶æ„ï¼Œå¼€å‘è€…å¯ä»¥æ„å»ºé«˜æ•ˆã€çµæ´»ä¸”å¯ç»´æŠ¤çš„ç”¨æˆ·ç•Œé¢ï¼Œæ»¡è¶³ä¸åŒçš„æ•°æ®å±•ç¤ºéœ€æ±‚ã€‚ 4. Item Widgets4.1 åŸºäºé¡¹çš„è§†å›¾æ§ä»¶é™¤äº†åŸºäºæ¨¡å‹çš„è§†å›¾æ§ä»¶ï¼ŒQtè¿˜æä¾›äº†åŸºäºé¡¹çš„è§†å›¾æ§ä»¶ï¼Œè¿™äº›æ§ä»¶æ›´åŠ ç›´è§‚å’Œæ˜“äºä½¿ç”¨ï¼Œé€‚ç”¨äºç®€å•çš„æ•°æ®å±•ç¤ºåœºæ™¯ã€‚å¸¸è§çš„åŸºäºé¡¹çš„è§†å›¾æ§ä»¶åŒ…æ‹¬ï¼š QListWidgetï¼šåˆ—è¡¨é¡¹è§†å›¾ï¼Œç»§æ‰¿è‡ªQListViewï¼Œæä¾›ç®€åŒ–çš„APIã€‚ QTreeWidgetï¼šæ ‘å½¢é¡¹è§†å›¾ï¼Œç»§æ‰¿è‡ªQTreeViewï¼Œæä¾›ç®€åŒ–çš„APIã€‚ QTableWidgetï¼šè¡¨æ ¼é¡¹è§†å›¾ï¼Œç»§æ‰¿è‡ªQTableViewï¼Œæä¾›ç®€åŒ–çš„APIã€‚ 4.2 ç¤ºä¾‹ï¼šä½¿ç”¨QListWidgetå±•ç¤ºæ•°æ®ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨QListWidgetæ¥å±•ç¤ºå’Œç®¡ç†ç®€å•çš„åˆ—è¡¨æ•°æ®ã€‚ ç¤ºä¾‹ä»£ç ï¼š 123456789101112131415161718192021222324252627282930#include &lt;QApplication&gt;#include &lt;QListWidget&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºQListWidget QListWidget listWidget; listWidget.setWindowTitle(&quot;QListWidget ç¤ºä¾‹&quot;); // æ·»åŠ åˆ—è¡¨é¡¹ listWidget.addItem(&quot;Item 1&quot;); listWidget.addItem(&quot;Item 2&quot;); listWidget.addItem(&quot;Item 3&quot;); // æ·»åŠ å¸¦æœ‰å›¾æ ‡çš„åˆ—è¡¨é¡¹ QListWidgetItem *item4 = new QListWidgetItem(QIcon(&quot;:/icons/icon.png&quot;), &quot;Item 4&quot;); listWidget.addItem(item4); // å“åº”åˆ—è¡¨é¡¹ç‚¹å‡»ä¿¡å· QObject::connect(&amp;listWidget, &amp;QListWidget::itemClicked, [&amp;](QListWidgetItem *item)&#123; qDebug() &lt;&lt; &quot;ç‚¹å‡»äº†ï¼š&quot; &lt;&lt; item-&gt;text(); &#125;); // æ˜¾ç¤ºåˆ—è¡¨ listWidget.show(); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QListWidgetæä¾›äº†ä¸€ä¸ªç®€å•çš„æ¥å£æ¥ç®¡ç†åˆ—è¡¨é¡¹ï¼Œæ— éœ€æ‰‹åŠ¨åˆ›å»ºæ¨¡å‹ã€‚ ä½¿ç”¨addItemæ–¹æ³•æ·»åŠ æ–‡æœ¬é¡¹æˆ–å¸¦æœ‰å›¾æ ‡çš„é¡¹ã€‚ é€šè¿‡itemClickedä¿¡å·è¿æ¥åˆ°æ§½å‡½æ•°ï¼Œå“åº”ç”¨æˆ·çš„ç‚¹å‡»æ“ä½œã€‚ 4.3 ç¤ºä¾‹ï¼šä½¿ç”¨QTreeWidgetå±•ç¤ºæ•°æ®ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨QTreeWidgetæ¥å±•ç¤ºå’Œç®¡ç†æ ‘å½¢æ•°æ®ã€‚ ç¤ºä¾‹ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041#include &lt;QApplication&gt;#include &lt;QTreeWidget&gt;#include &lt;QTreeWidgetItem&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºQTreeWidget QTreeWidget treeWidget; treeWidget.setWindowTitle(&quot;QTreeWidget ç¤ºä¾‹&quot;); treeWidget.setColumnCount(2); treeWidget.setHeaderLabels(&#123;&quot;åç§°&quot;, &quot;æè¿°&quot;&#125;); // åˆ›å»ºæ ¹èŠ‚ç‚¹ QTreeWidgetItem *root = new QTreeWidgetItem(&amp;treeWidget); root-&gt;setText(0, &quot;æ–‡ä»¶&quot;); root-&gt;setText(1, &quot;æ–‡ä»¶æ“ä½œ&quot;); // åˆ›å»ºå­èŠ‚ç‚¹ QTreeWidgetItem *child1 = new QTreeWidgetItem(root); child1-&gt;setText(0, &quot;æ–°å»º&quot;); child1-&gt;setText(1, &quot;åˆ›å»ºæ–°æ–‡ä»¶&quot;); QTreeWidgetItem *child2 = new QTreeWidgetItem(root); child2-&gt;setText(0, &quot;æ‰“å¼€&quot;); child2-&gt;setText(1, &quot;æ‰“å¼€ç°æœ‰æ–‡ä»¶&quot;); // å±•å¼€æ‰€æœ‰èŠ‚ç‚¹ treeWidget.expandAll(); // å“åº”èŠ‚ç‚¹ç‚¹å‡»ä¿¡å· QObject::connect(&amp;treeWidget, &amp;QTreeWidget::itemClicked, [&amp;](QTreeWidgetItem *item, int column)&#123; qDebug() &lt;&lt; &quot;ç‚¹å‡»äº†ï¼š&quot; &lt;&lt; item-&gt;text(0) &lt;&lt; &quot; - &quot; &lt;&lt; item-&gt;text(1); &#125;); // æ˜¾ç¤ºæ ‘å½¢è§†å›¾ treeWidget.show(); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QTreeWidgetæä¾›äº†ä¸€ä¸ªç®€åŒ–çš„æ¥å£æ¥ç®¡ç†æ ‘å½¢æ•°æ®ï¼Œæ— éœ€æ‰‹åŠ¨åˆ›å»ºæ¨¡å‹ã€‚ ä½¿ç”¨QTreeWidgetItemåˆ›å»ºæ ¹èŠ‚ç‚¹å’Œå­èŠ‚ç‚¹ï¼Œå¹¶è®¾ç½®å…¶æ–‡æœ¬å†…å®¹ã€‚ é€šè¿‡itemClickedä¿¡å·è¿æ¥åˆ°æ§½å‡½æ•°ï¼Œå“åº”ç”¨æˆ·çš„ç‚¹å‡»æ“ä½œã€‚ 4.4 ç¤ºä¾‹ï¼šä½¿ç”¨QTableWidgetå±•ç¤ºæ•°æ®ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨QTableWidgetæ¥å±•ç¤ºå’Œç®¡ç†è¡¨æ ¼æ•°æ®ã€‚ ç¤ºä¾‹ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031323334353637#include &lt;QApplication&gt;#include &lt;QTableWidget&gt;#include &lt;QTableWidgetItem&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºQTableWidget QTableWidget tableWidget; tableWidget.setWindowTitle(&quot;QTableWidget ç¤ºä¾‹&quot;); tableWidget.setRowCount(3); tableWidget.setColumnCount(2); tableWidget.setHorizontalHeaderLabels(&#123;&quot;å§“å&quot;, &quot;å¹´é¾„&quot;&#125;); // å¡«å……æ•°æ® tableWidget.setItem(0, 0, new QTableWidgetItem(&quot;Alice&quot;)); tableWidget.setItem(0, 1, new QTableWidgetItem(&quot;30&quot;)); tableWidget.setItem(1, 0, new QTableWidgetItem(&quot;Bob&quot;)); tableWidget.setItem(1, 1, new QTableWidgetItem(&quot;25&quot;)); tableWidget.setItem(2, 0, new QTableWidgetItem(&quot;Charlie&quot;)); tableWidget.setItem(2, 1, new QTableWidgetItem(&quot;35&quot;)); // å“åº”å•å…ƒæ ¼ç‚¹å‡»ä¿¡å· QObject::connect(&amp;tableWidget, &amp;QTableWidget::cellClicked, [&amp;](int row, int column)&#123; QString name = tableWidget.item(row, 0)-&gt;text(); QString age = tableWidget.item(row, 1)-&gt;text(); qDebug() &lt;&lt; &quot;ç‚¹å‡»äº†ï¼š&quot; &lt;&lt; name &lt;&lt; &quot; - &quot; &lt;&lt; age; &#125;); // æ˜¾ç¤ºè¡¨æ ¼ tableWidget.show(); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QTableWidgetæä¾›äº†ä¸€ä¸ªç®€åŒ–çš„æ¥å£æ¥ç®¡ç†è¡¨æ ¼æ•°æ®ï¼Œæ— éœ€æ‰‹åŠ¨åˆ›å»ºæ¨¡å‹ã€‚ ä½¿ç”¨setItemæ–¹æ³•å¡«å……è¡¨æ ¼å•å…ƒæ ¼æ•°æ®ã€‚ é€šè¿‡cellClickedä¿¡å·è¿æ¥åˆ°æ§½å‡½æ•°ï¼Œå“åº”ç”¨æˆ·çš„ç‚¹å‡»æ“ä½œã€‚ 4.5 QTableWidgetçš„é«˜çº§åŠŸèƒ½è®¾ç½®å•å…ƒæ ¼ç¼–è¾‘å±æ€§ï¼š å¯ä»¥æ§åˆ¶å•å…ƒæ ¼çš„ç¼–è¾‘è¡Œä¸ºï¼Œå¦‚åªè¯»ã€å¯ç¼–è¾‘ç­‰ã€‚ ç¤ºä¾‹ä»£ç ï¼š 123QTableWidgetItem *item = new QTableWidgetItem(&quot;Read-Only&quot;);item-&gt;setFlags(item-&gt;flags() &amp; ~Qt::ItemIsEditable); // è®¾ç½®ä¸ºåªè¯»tableWidget.setItem(0, 0, item); è§£é‡Šï¼š ä½¿ç”¨setFlagsæ–¹æ³•ä¿®æ”¹å•å…ƒæ ¼çš„æ ‡å¿—ï¼Œå–æ¶ˆQt::ItemIsEditableæ ‡å¿—ï¼Œå°†å•å…ƒæ ¼è®¾ç½®ä¸ºåªè¯»ã€‚ 4.6 å°ç»“åŸºäºé¡¹çš„è§†å›¾æ§ä»¶å¦‚QListWidgetã€QTreeWidgetå’ŒQTableWidgetæä¾›äº†ç®€åŒ–çš„æ•°æ®å±•ç¤ºå’Œç®¡ç†æ¥å£ï¼Œé€‚ç”¨äºç®€å•æˆ–ä¸­ç­‰å¤æ‚åº¦çš„æ•°æ®å±•ç¤ºåœºæ™¯ã€‚å®ƒä»¬æ˜“äºä½¿ç”¨ï¼Œé€‚åˆå¿«é€Ÿå¼€å‘ï¼Œä½†åœ¨å¤„ç†å¤§è§„æ¨¡æ•°æ®æˆ–éœ€è¦é«˜åº¦å®šåˆ¶åŒ–çš„åœºæ™¯æ—¶ï¼ŒåŸºäºæ¨¡å‹çš„è§†å›¾æ§ä»¶æ›´ä¸ºåˆé€‚ã€‚ 5. Input Widgets5.1 è¾“å…¥æ§ä»¶æ¦‚è¿°è¾“å…¥æ§ä»¶ç”¨äºè·å–ç”¨æˆ·çš„è¾“å…¥ä¿¡æ¯ï¼Œæ˜¯ç”¨æˆ·ä¸åº”ç”¨ç¨‹åºäº¤äº’çš„ä¸»è¦æ–¹å¼ã€‚Qtæä¾›äº†å¤šç§è¾“å…¥æ§ä»¶ï¼Œæ”¯æŒæ–‡æœ¬è¾“å…¥ã€æ•°å€¼è¾“å…¥ã€é€‰æ‹©è¾“å…¥ç­‰å¤šç§å½¢å¼ã€‚ 5.2 å¸¸ç”¨è¾“å…¥æ§ä»¶ QLineEditï¼šå•è¡Œæ–‡æœ¬è¾“å…¥æ¡†ï¼Œç”¨äºæ¥æ”¶ç”¨æˆ·çš„æ–‡æœ¬è¾“å…¥ã€‚ QTextEditï¼šå¤šè¡Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œç”¨äºæ¥æ”¶å’Œæ˜¾ç¤ºå¤§é‡æ–‡æœ¬ã€‚ QSpinBoxï¼šæ•°å€¼è¾“å…¥æ¡†ï¼Œå…è®¸ç”¨æˆ·é€šè¿‡ç‚¹å‡»æŒ‰é’®æˆ–é”®ç›˜è¾“å…¥æ•´æ•°å€¼ã€‚ QDoubleSpinBoxï¼šæ•°å€¼è¾“å…¥æ¡†ï¼Œå…è®¸ç”¨æˆ·è¾“å…¥æµ®ç‚¹æ•°å€¼ã€‚ QComboBoxï¼šä¸‹æ‹‰åˆ—è¡¨æ¡†ï¼Œå…è®¸ç”¨æˆ·ä»é¢„å®šä¹‰é€‰é¡¹ä¸­é€‰æ‹©ä¸€é¡¹ã€‚ QCheckBoxï¼šå¤é€‰æ¡†ï¼Œå…è®¸ç”¨æˆ·é€‰æ‹©æˆ–å–æ¶ˆé€‰æ‹©æŸä¸ªé€‰é¡¹ã€‚ QRadioButtonï¼šå•é€‰æŒ‰é’®ï¼Œå…è®¸ç”¨æˆ·åœ¨ä¸€ç»„äº’æ–¥çš„é€‰é¡¹ä¸­é€‰æ‹©ä¸€é¡¹ã€‚ QSliderï¼šæ»‘å—æ§ä»¶ï¼Œå…è®¸ç”¨æˆ·é€šè¿‡æ‹–åŠ¨æ»‘å—é€‰æ‹©ä¸€ä¸ªèŒƒå›´å†…çš„æ•°å€¼ã€‚ QDateEditï¼šæ—¥æœŸè¾“å…¥æ¡†ï¼Œå…è®¸ç”¨æˆ·é€‰æ‹©æ—¥æœŸã€‚ QTimeEditï¼šæ—¶é—´è¾“å…¥æ¡†ï¼Œå…è®¸ç”¨æˆ·é€‰æ‹©æ—¶é—´ã€‚ 5.3 ç¤ºä¾‹ï¼šä½¿ç”¨QLineEditå’ŒQPushButtonè·å–ç”¨æˆ·è¾“å…¥ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨QLineEditè·å–ç”¨æˆ·çš„æ–‡æœ¬è¾“å…¥ï¼Œå¹¶é€šè¿‡QPushButtonè§¦å‘æ“ä½œã€‚ ç¤ºä¾‹ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950#include &lt;QApplication&gt;#include &lt;QWidget&gt;#include &lt;QLineEdit&gt;#include &lt;QPushButton&gt;#include &lt;QVBoxLayout&gt;#include &lt;QLabel&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºä¸»çª—å£ QWidget window; window.setWindowTitle(&quot;è¾“å…¥æ§ä»¶ç¤ºä¾‹&quot;); // åˆ›å»ºQLineEdit QLineEdit *lineEdit = new QLineEdit; lineEdit-&gt;setPlaceholderText(&quot;è¯·è¾“å…¥æ‚¨çš„å§“å&quot;); // åˆ›å»ºQPushButton QPushButton *btnSubmit = new QPushButton(&quot;æäº¤&quot;); // åˆ›å»ºQLabelæ˜¾ç¤ºç»“æœ QLabel *label = new QLabel(&quot;ç­‰å¾…è¾“å…¥...&quot;); // è¿æ¥æŒ‰é’®ä¿¡å·åˆ°æ§½ QObject::connect(btnSubmit, &amp;QPushButton::clicked, [&amp;]()&#123; QString name = lineEdit-&gt;text(); if(!name.isEmpty()) &#123; label-&gt;setText(&quot;æ‚¨å¥½, &quot; + name + &quot;!&quot;); qDebug() &lt;&lt; &quot;ç”¨æˆ·è¾“å…¥ï¼š&quot; &lt;&lt; name; &#125; else &#123; label-&gt;setText(&quot;è¯·è¾“å…¥æ‚¨çš„å§“åã€‚&quot;); qDebug() &lt;&lt; &quot;ç”¨æˆ·æœªè¾“å…¥å§“åã€‚&quot;; &#125; &#125;); // åˆ›å»ºå¸ƒå±€ç®¡ç†å™¨ QVBoxLayout *vLayout = new QVBoxLayout; vLayout-&gt;addWidget(lineEdit); vLayout-&gt;addWidget(btnSubmit); vLayout-&gt;addWidget(label); // è®¾ç½®ä¸»çª—å£çš„å¸ƒå±€ window.setLayout(vLayout); window.resize(300, 150); window.show(); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QLineEditç”¨äºè·å–ç”¨æˆ·çš„æ–‡æœ¬è¾“å…¥ï¼Œè®¾ç½®äº†å ä½ç¬¦æç¤ºâ€œè¯·è¾“å…¥æ‚¨çš„å§“åâ€ã€‚ QPushButtonç”¨äºè§¦å‘æäº¤æ“ä½œï¼Œå½“ç”¨æˆ·ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œè·å–QLineEditä¸­çš„æ–‡æœ¬å¹¶æ›´æ–°QLabelæ˜¾ç¤ºã€‚ é€šè¿‡QObject::connectå°†æŒ‰é’®çš„clickedä¿¡å·è¿æ¥åˆ°ä¸€ä¸ªlambdaæ§½å‡½æ•°ï¼Œå®ç°åŠ¨æ€å“åº”ç”¨æˆ·è¾“å…¥ã€‚ 5.4 ç¤ºä¾‹ï¼šä½¿ç”¨QSpinBoxå’ŒQSliderè¾“å…¥æ•°å€¼ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨QSpinBoxå’ŒQSlideræ¥è·å–å’Œå±•ç¤ºç”¨æˆ·çš„æ•°å€¼è¾“å…¥ã€‚ ç¤ºä¾‹ä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354#include &lt;QApplication&gt;#include &lt;QWidget&gt;#include &lt;QSpinBox&gt;#include &lt;QSlider&gt;#include &lt;QLabel&gt;#include &lt;QVBoxLayout&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºä¸»çª—å£ QWidget window; window.setWindowTitle(&quot;æ•°å€¼è¾“å…¥æ§ä»¶ç¤ºä¾‹&quot;); // åˆ›å»ºQSpinBox QSpinBox *spinBox = new QSpinBox; spinBox-&gt;setRange(0, 100); spinBox-&gt;setValue(50); // åˆ›å»ºQSlider QSlider *slider = new QSlider(Qt::Horizontal); slider-&gt;setRange(0, 100); slider-&gt;setValue(50); // åˆ›å»ºQLabelæ˜¾ç¤ºæ•°å€¼ QLabel *label = new QLabel(&quot;å½“å‰å€¼: 50&quot;); // è¿æ¥SpinBoxå’ŒSliderçš„å€¼å˜åŒ–ä¿¡å·åˆ°æ§½ QObject::connect(spinBox, QOverload&lt;int&gt;::of(&amp;QSpinBox::valueChanged), [&amp;](int value)&#123; slider-&gt;setValue(value); label-&gt;setText(&quot;å½“å‰å€¼: &quot; + QString::number(value)); qDebug() &lt;&lt; &quot;SpinBoxå€¼å˜åŒ–:&quot; &lt;&lt; value; &#125;); QObject::connect(slider, &amp;QSlider::valueChanged, [&amp;](int value)&#123; spinBox-&gt;setValue(value); label-&gt;setText(&quot;å½“å‰å€¼: &quot; + QString::number(value)); qDebug() &lt;&lt; &quot;Sliderå€¼å˜åŒ–:&quot; &lt;&lt; value; &#125;); // åˆ›å»ºå¸ƒå±€ç®¡ç†å™¨ QVBoxLayout *vLayout = new QVBoxLayout; vLayout-&gt;addWidget(spinBox); vLayout-&gt;addWidget(slider); vLayout-&gt;addWidget(label); // è®¾ç½®ä¸»çª—å£çš„å¸ƒå±€ window.setLayout(vLayout); window.resize(300, 200); window.show(); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QSpinBoxå’ŒQSlideréƒ½ç”¨äºè·å–ç”¨æˆ·çš„æ•°å€¼è¾“å…¥ï¼ŒèŒƒå›´è®¾ç½®ä¸º0åˆ°100ï¼Œåˆå§‹å€¼ä¸º50ã€‚ å½“ç”¨æˆ·åœ¨SpinBoxæˆ–Sliderä¸­æ”¹å˜æ•°å€¼æ—¶ï¼Œé€šè¿‡ä¿¡å·ä¸æ§½æœºåˆ¶åŒæ­¥æ›´æ–°å¯¹æ–¹çš„å€¼ï¼Œå¹¶åœ¨QLabelä¸­æ˜¾ç¤ºå½“å‰å€¼ã€‚ é€šè¿‡QOverload&lt;int&gt;::ofè¯­æ³•è§£å†³äº†ä¿¡å·é‡è½½çš„é—®é¢˜ï¼Œç¡®ä¿ä¿¡å·ä¸æ§½çš„æ­£ç¡®è¿æ¥ã€‚ 5.5 QComboBoxçš„é«˜çº§ç”¨æ³•æ·»åŠ å¯ç¼–è¾‘é¡¹å’Œè‡ªå®šä¹‰ç»˜åˆ¶ï¼š å¯ä»¥è®¾ç½®QComboBoxä¸ºå¯ç¼–è¾‘çŠ¶æ€ï¼Œå¹¶è‡ªå®šä¹‰æ¯ä¸ªé¡¹çš„æ˜¾ç¤ºå†…å®¹ã€‚ ç¤ºä¾‹ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132#include &lt;QApplication&gt;#include &lt;QComboBox&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºQComboBox QComboBox comboBox; comboBox.setWindowTitle(&quot;QComboBox ç¤ºä¾‹&quot;); comboBox.setEditable(true); // è®¾ç½®ä¸ºå¯ç¼–è¾‘ // æ·»åŠ é¡¹ comboBox.addItem(&quot;Option 1&quot;); comboBox.addItem(&quot;Option 2&quot;); comboBox.addItem(&quot;Option 3&quot;); // æ·»åŠ å¸¦æœ‰ç”¨æˆ·æ•°æ®çš„é¡¹ comboBox.addItem(&quot;Option 4&quot;, QVariant(42)); // è¿æ¥ä¿¡å·åˆ°æ§½ QObject::connect(&amp;comboBox, QOverload&lt;int&gt;::of(&amp;QComboBox::currentIndexChanged), [&amp;](int index)&#123; QString text = comboBox.currentText(); QVariant data = comboBox.itemData(index); qDebug() &lt;&lt; &quot;å½“å‰é€‰ä¸­é¡¹ï¼š&quot; &lt;&lt; text &lt;&lt; &quot;, æ•°æ®ï¼š&quot; &lt;&lt; data.toInt(); &#125;); // æ˜¾ç¤ºQComboBox comboBox.show(); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QComboBoxè®¾ç½®ä¸ºå¯ç¼–è¾‘ï¼Œå…è®¸ç”¨æˆ·è¾“å…¥è‡ªå®šä¹‰æ–‡æœ¬ã€‚ ä½¿ç”¨addItemæ–¹æ³•æ·»åŠ å¸¦æœ‰ç”¨æˆ·æ•°æ®çš„é¡¹ï¼Œé€šè¿‡itemDataæ–¹æ³•è·å–å…³è”çš„æ•°æ®ã€‚ é€šè¿‡currentIndexChangedä¿¡å·è¿æ¥åˆ°æ§½å‡½æ•°ï¼Œå®æ—¶å“åº”ç”¨æˆ·çš„é€‰æ‹©å˜åŒ–ã€‚ 5.6 å°ç»“è¾“å…¥æ§ä»¶æ˜¯ç”¨æˆ·ä¸åº”ç”¨ç¨‹åºäº¤äº’çš„æ¡¥æ¢ï¼ŒQtæä¾›äº†ä¸°å¯Œçš„è¾“å…¥æ§ä»¶æ¥æ»¡è¶³ä¸åŒçš„è¾“å…¥éœ€æ±‚ã€‚é€šè¿‡åˆç†é€‰æ‹©å’Œé…ç½®è¾“å…¥æ§ä»¶ï¼Œå¯ä»¥æå‡ç”¨æˆ·ä½“éªŒï¼Œç¡®ä¿åº”ç”¨ç¨‹åºçš„æ˜“ç”¨æ€§å’ŒåŠŸèƒ½æ€§ã€‚ 6. Display Widgets6.1 æ˜¾ç¤ºæ§ä»¶æ¦‚è¿°æ˜¾ç¤ºæ§ä»¶ç”¨äºå±•ç¤ºä¿¡æ¯å’Œæ•°æ®ï¼Œæ˜¯ç”¨æˆ·ç•Œé¢ä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ã€‚Qtæä¾›äº†å¤šç§æ˜¾ç¤ºæ§ä»¶ï¼Œæ”¯æŒæ–‡æœ¬æ˜¾ç¤ºã€å›¾åƒæ˜¾ç¤ºã€è¿›åº¦æ˜¾ç¤ºç­‰å¤šç§å½¢å¼ã€‚ 6.2 å¸¸ç”¨æ˜¾ç¤ºæ§ä»¶ QLabelï¼šæ ‡ç­¾æ§ä»¶ï¼Œç”¨äºæ˜¾ç¤ºæ–‡æœ¬æˆ–å›¾åƒã€‚ QTextBrowserï¼šæ–‡æœ¬æµè§ˆå™¨ï¼Œç”¨äºæ˜¾ç¤ºå¯Œæ–‡æœ¬å†…å®¹ï¼Œæ”¯æŒè¶…é“¾æ¥ã€‚ QProgressBarï¼šè¿›åº¦æ¡æ§ä»¶ï¼Œç”¨äºæ˜¾ç¤ºä»»åŠ¡çš„å®Œæˆè¿›åº¦ã€‚ QLCDNumberï¼šLCDæ•°å­—æ˜¾ç¤ºæ§ä»¶ï¼Œç”¨äºæ˜¾ç¤ºæ•°å­—ä¿¡æ¯ã€‚ QDialï¼šæ—‹é’®æ§ä»¶ï¼Œç±»ä¼¼äºéŸ³é‡è°ƒèŠ‚å™¨ã€‚ QLCDNumberï¼šLCDæ ·å¼çš„æ•°å­—æ˜¾ç¤ºæ§ä»¶ã€‚ QToolTipï¼šæç¤ºå·¥å…·ï¼Œç”¨äºæ˜¾ç¤ºæ‚¬åœæç¤ºä¿¡æ¯ã€‚ 6.3 ç¤ºä¾‹ï¼šä½¿ç”¨QLabelæ˜¾ç¤ºæ–‡æœ¬å’Œå›¾åƒä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨QLabelæ¥æ˜¾ç¤ºæ–‡æœ¬å’Œå›¾åƒã€‚ ç¤ºä¾‹ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435#include &lt;QApplication&gt;#include &lt;QWidget&gt;#include &lt;QLabel&gt;#include &lt;QPixmap&gt;#include &lt;QVBoxLayout&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºä¸»çª—å£ QWidget window; window.setWindowTitle(&quot;QLabel ç¤ºä¾‹&quot;); // åˆ›å»ºQLabelç”¨äºæ˜¾ç¤ºæ–‡æœ¬ QLabel *textLabel = new QLabel(&quot;æ¬¢è¿ä½¿ç”¨Qtï¼&quot;); textLabel-&gt;setAlignment(Qt::AlignCenter); textLabel-&gt;setStyleSheet(&quot;QLabel &#123; font-size: 24px; color: blue; &#125;&quot;); // åˆ›å»ºQLabelç”¨äºæ˜¾ç¤ºå›¾åƒ QLabel *imageLabel = new QLabel; QPixmap pixmap(&quot;:/images/logo.png&quot;); // ç¡®ä¿èµ„æºæ–‡ä»¶ä¸­æœ‰æ­¤å›¾åƒ imageLabel-&gt;setPixmap(pixmap.scaled(200, 200, Qt::KeepAspectRatio)); // åˆ›å»ºå¸ƒå±€ç®¡ç†å™¨ QVBoxLayout *vLayout = new QVBoxLayout; vLayout-&gt;addWidget(textLabel); vLayout-&gt;addWidget(imageLabel); // è®¾ç½®ä¸»çª—å£çš„å¸ƒå±€ window.setLayout(vLayout); window.resize(300, 400); window.show(); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QLabelç”¨äºæ˜¾ç¤ºå±…ä¸­çš„æ–‡æœ¬ï¼Œè®¾ç½®äº†è‡ªå®šä¹‰çš„å­—ä½“å¤§å°å’Œé¢œè‰²ã€‚ QLabelè¿˜å¯ä»¥ç”¨äºæ˜¾ç¤ºå›¾åƒï¼Œé€šè¿‡è®¾ç½®QPixmapå®ç°ã€‚ ä½¿ç”¨scaledæ–¹æ³•è°ƒæ•´å›¾åƒå¤§å°ï¼Œä¿æŒçºµæ¨ªæ¯”ä¸å˜ã€‚ 6.4 ç¤ºä¾‹ï¼šä½¿ç”¨QProgressBaræ˜¾ç¤ºä»»åŠ¡è¿›åº¦ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨QProgressBaræ¥æ˜¾ç¤ºä»»åŠ¡çš„å®Œæˆè¿›åº¦ï¼Œå¹¶é€šè¿‡æŒ‰é’®æ§åˆ¶è¿›åº¦æ¡çš„æ›´æ–°ã€‚ ç¤ºä¾‹ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859#include &lt;QApplication&gt;#include &lt;QWidget&gt;#include &lt;QProgressBar&gt;#include &lt;QPushButton&gt;#include &lt;QVBoxLayout&gt;#include &lt;QTimer&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºä¸»çª—å£ QWidget window; window.setWindowTitle(&quot;QProgressBar ç¤ºä¾‹&quot;); // åˆ›å»ºQProgressBar QProgressBar *progressBar = new QProgressBar; progressBar-&gt;setRange(0, 100); progressBar-&gt;setValue(0); // åˆ›å»ºQPushButton QPushButton *btnStart = new QPushButton(&quot;å¼€å§‹ä»»åŠ¡&quot;); // åˆ›å»ºå¸ƒå±€ç®¡ç†å™¨ QVBoxLayout *vLayout = new QVBoxLayout; vLayout-&gt;addWidget(progressBar); vLayout-&gt;addWidget(btnStart); // è®¾ç½®ä¸»çª—å£çš„å¸ƒå±€ window.setLayout(vLayout); window.resize(300, 150); window.show(); // åˆ›å»ºè®¡æ—¶å™¨ QTimer timer; timer.setInterval(100); // æ¯100æ¯«ç§’æ›´æ–°ä¸€æ¬¡ int progress = 0; // è¿æ¥æŒ‰é’®ä¿¡å·åˆ°æ§½å‡½æ•° QObject::connect(btnStart, &amp;QPushButton::clicked, [&amp;]()&#123; progress = 0; progressBar-&gt;setValue(progress); timer.start(); qDebug() &lt;&lt; &quot;ä»»åŠ¡å¼€å§‹&quot;; &#125;); // è¿æ¥è®¡æ—¶å™¨ä¿¡å·åˆ°æ§½å‡½æ•° QObject::connect(&amp;timer, &amp;QTimer::timeout, [&amp;]()&#123; progress += 1; progressBar-&gt;setValue(progress); if(progress &gt;= 100) &#123; timer.stop(); qDebug() &lt;&lt; &quot;ä»»åŠ¡å®Œæˆ&quot;; &#125; &#125;); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QProgressBarè®¾ç½®äº†èŒƒå›´ä»0åˆ°100ï¼Œåˆå§‹å€¼ä¸º0ã€‚ QPushButtonç”¨äºå¯åŠ¨ä»»åŠ¡ï¼Œå½“æŒ‰é’®è¢«ç‚¹å‡»æ—¶ï¼Œè¿›åº¦æ¡å¼€å§‹è‡ªåŠ¨æ›´æ–°ã€‚ QTimerç”¨äºæ¨¡æ‹Ÿä»»åŠ¡è¿›åº¦çš„é€æ­¥å®Œæˆï¼Œé€šè¿‡timeoutä¿¡å·æ›´æ–°è¿›åº¦æ¡çš„å€¼ã€‚ å½“è¿›åº¦è¾¾åˆ°100æ—¶ï¼Œåœæ­¢è®¡æ—¶å™¨å¹¶æ‰“å°ä»»åŠ¡å®Œæˆçš„ä¿¡æ¯ã€‚ 6.5 ç¤ºä¾‹ï¼šä½¿ç”¨QLCDNumberæ˜¾ç¤ºåŠ¨æ€æ•°å­—ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨QLCDNumberåŠ¨æ€æ˜¾ç¤ºæ•°å­—ï¼Œå¹¶é€šè¿‡QTimeræ›´æ–°æ˜¾ç¤ºå†…å®¹ã€‚ ç¤ºä¾‹ä»£ç ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445#include &lt;QApplication&gt;#include &lt;QWidget&gt;#include &lt;QLCDNumber&gt;#include &lt;QVBoxLayout&gt;#include &lt;QTimer&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºä¸»çª—å£ QWidget window; window.setWindowTitle(&quot;QLCDNumber ç¤ºä¾‹&quot;); // åˆ›å»ºQLCDNumber QLCDNumber *lcd = new QLCDNumber; lcd-&gt;setDigitCount(5); lcd-&gt;display(0); // åˆ›å»ºå¸ƒå±€ç®¡ç†å™¨ QVBoxLayout *vLayout = new QVBoxLayout; vLayout-&gt;addWidget(lcd); // è®¾ç½®ä¸»çª—å£çš„å¸ƒå±€ window.setLayout(vLayout); window.resize(200, 100); window.show(); // åˆ›å»ºè®¡æ—¶å™¨ QTimer timer; timer.setInterval(1000); // æ¯ç§’æ›´æ–°ä¸€æ¬¡ int count = 0; // è¿æ¥è®¡æ—¶å™¨ä¿¡å·åˆ°æ§½å‡½æ•° QObject::connect(&amp;timer, &amp;QTimer::timeout, [&amp;]()&#123; count++; lcd-&gt;display(count); qDebug() &lt;&lt; &quot;å½“å‰è®¡æ•°:&quot; &lt;&lt; count; &#125;); timer.start(); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QLCDNumberè®¾ç½®äº†5ä½æ•°å­—æ˜¾ç¤ºï¼Œåˆå§‹å€¼ä¸º0ã€‚ QTimeræ¯ç§’è§¦å‘ä¸€æ¬¡ï¼Œé€šè¿‡timeoutä¿¡å·æ›´æ–°æ˜¾ç¤ºçš„æ•°å­—ï¼Œå®ç°åŠ¨æ€è®¡æ•°æ•ˆæœã€‚ é€šè¿‡lcd-&gt;display(count)æ–¹æ³•æ›´æ–°æ˜¾ç¤ºå†…å®¹ï¼Œå®æ—¶åæ˜ è®¡æ•°å˜åŒ–ã€‚ 6.6 QProgressBarä¸QLCDNumberçš„ç»“åˆä½¿ç”¨å¯ä»¥å°†QProgressBarå’ŒQLCDNumberç»“åˆä½¿ç”¨ï¼Œå®æ—¶æ˜¾ç¤ºä»»åŠ¡çš„è¿›åº¦å’Œå®Œæˆåº¦ã€‚ ç¤ºä¾‹ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768#include &lt;QApplication&gt;#include &lt;QWidget&gt;#include &lt;QProgressBar&gt;#include &lt;QLCDNumber&gt;#include &lt;QPushButton&gt;#include &lt;QVBoxLayout&gt;#include &lt;QTimer&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºä¸»çª—å£ QWidget window; window.setWindowTitle(&quot;è¿›åº¦ä¸æ•°å­—æ˜¾ç¤ºç¤ºä¾‹&quot;); // åˆ›å»ºQProgressBar QProgressBar *progressBar = new QProgressBar; progressBar-&gt;setRange(0, 100); progressBar-&gt;setValue(0); // åˆ›å»ºQLCDNumber QLCDNumber *lcd = new QLCDNumber; lcd-&gt;setDigitCount(3); lcd-&gt;display(0); // åˆ›å»ºQPushButton QPushButton *btnStart = new QPushButton(&quot;å¼€å§‹ä»»åŠ¡&quot;); // åˆ›å»ºå¸ƒå±€ç®¡ç†å™¨ QVBoxLayout *vLayout = new QVBoxLayout; vLayout-&gt;addWidget(progressBar); vLayout-&gt;addWidget(lcd); vLayout-&gt;addWidget(btnStart); // è®¾ç½®ä¸»çª—å£çš„å¸ƒå±€ window.setLayout(vLayout); window.resize(300, 200); window.show(); // åˆ›å»ºè®¡æ—¶å™¨ QTimer timer; timer.setInterval(100); // æ¯100æ¯«ç§’æ›´æ–°ä¸€æ¬¡ int progress = 0; // è¿æ¥æŒ‰é’®ä¿¡å·åˆ°æ§½å‡½æ•° QObject::connect(btnStart, &amp;QPushButton::clicked, [&amp;]()&#123; progress = 0; progressBar-&gt;setValue(progress); lcd-&gt;display(progress); timer.start(); qDebug() &lt;&lt; &quot;ä»»åŠ¡å¼€å§‹&quot;; &#125;); // è¿æ¥è®¡æ—¶å™¨ä¿¡å·åˆ°æ§½å‡½æ•° QObject::connect(&amp;timer, &amp;QTimer::timeout, [&amp;]()&#123; progress += 1; progressBar-&gt;setValue(progress); lcd-&gt;display(progress); if(progress &gt;= 100) &#123; timer.stop(); qDebug() &lt;&lt; &quot;ä»»åŠ¡å®Œæˆ&quot;; &#125; &#125;); return app.exec();&#125; è¿è¡Œç»“æœï¼š è§£é‡Šï¼š QProgressBarå’ŒQLCDNumberåˆ†åˆ«æ˜¾ç¤ºä»»åŠ¡çš„è¿›åº¦å’Œå½“å‰è¿›åº¦å€¼ã€‚ å½“ç”¨æˆ·ç‚¹å‡»â€œå¼€å§‹ä»»åŠ¡â€æŒ‰é’®æ—¶ï¼Œè®¡æ—¶å™¨å¼€å§‹ï¼Œæ¯100æ¯«ç§’æ›´æ–°ä¸€æ¬¡è¿›åº¦æ¡å’Œæ•°å­—æ˜¾ç¤ºã€‚ å½“è¿›åº¦è¾¾åˆ°100æ—¶ï¼Œåœæ­¢è®¡æ—¶å™¨å¹¶æ‰“å°ä»»åŠ¡å®Œæˆçš„ä¿¡æ¯ã€‚ 6.7 å°ç»“æ˜¾ç¤ºæ§ä»¶åœ¨ç”¨æˆ·ç•Œé¢ä¸­ç”¨äºå±•ç¤ºå„ç§ä¿¡æ¯å’Œæ•°æ®ã€‚é€šè¿‡åˆç†ä½¿ç”¨QLabelã€QProgressBarã€QLCDNumberç­‰æ˜¾ç¤ºæ§ä»¶ï¼Œå¯ä»¥æœ‰æ•ˆåœ°ä¼ è¾¾åº”ç”¨ç¨‹åºçš„çŠ¶æ€å’Œåé¦ˆï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚åŒæ—¶ï¼Œç»“åˆå¸ƒå±€ç®¡ç†å™¨å’Œå…¶ä»–æ§ä»¶ï¼Œèƒ½å¤Ÿåˆ›å»ºåŠŸèƒ½ä¸°å¯Œä¸”ç¾è§‚çš„ç”¨æˆ·ç•Œé¢ã€‚ 7. å¸¸ç”¨ç®—æ³•åŠæ­£åˆ™è¡¨è¾¾å¼7.1 Qtä¸­æä¾›çš„å¸¸ç”¨ç®—æ³•Qtæä¾›äº†ä¸€ç³»åˆ—ä¸æ ‡å‡†C++åº“ç±»ä¼¼çš„ç®—æ³•ï¼Œä¸»è¦é›†ä¸­åœ¨QtAlgorithmsæ¨¡å—ã€‚è¿™äº›ç®—æ³•åŒ…æ‹¬æ’åºã€æŸ¥æ‰¾ã€éå†ç­‰ï¼Œå¸®åŠ©å¼€å‘è€…é«˜æ•ˆåœ°å¤„ç†æ•°æ®ã€‚ 7.2 ç¤ºä¾‹ï¼šä½¿ç”¨Qtç®—æ³•è¿›è¡Œæ’åºå’ŒæŸ¥æ‰¾ç¤ºä¾‹ä»£ç ï¼š 12345678910111213141516171819202122#include &lt;QApplication&gt;#include &lt;QVector&gt;#include &lt;QDebug&gt;#include &lt;algorithm&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); QVector&lt;int&gt; numbers = &#123;5, 2, 9, 1, 5, 6&#125;; qDebug() &lt;&lt; &quot;æ’åºå‰:&quot; &lt;&lt; numbers; // ä½¿ç”¨std::sortè¿›è¡Œå‡åºæ’åº std::sort(numbers.begin(), numbers.end()); qDebug() &lt;&lt; &quot;æ’åºå:&quot; &lt;&lt; numbers; // ä½¿ç”¨std::binary_searchæŸ¥æ‰¾å…ƒç´  bool found = std::binary_search(numbers.begin(), numbers.end(), 5); qDebug() &lt;&lt; &quot;æ˜¯å¦æ‰¾åˆ°5:&quot; &lt;&lt; found; return app.exec();&#125; è¿è¡Œç»“æœï¼š 123æ’åºå‰: QVector(5, 2, 9, 1, 5, 6)æ’åºå: QVector(1, 2, 5, 5, 6, 9)æ˜¯å¦æ‰¾åˆ°5: true è§£é‡Šï¼š ä½¿ç”¨std::sortå¯¹QVectorä¸­çš„æ•´æ•°è¿›è¡Œå‡åºæ’åºã€‚ ä½¿ç”¨std::binary_searchåœ¨æ’åºåçš„QVectorä¸­æŸ¥æ‰¾ç‰¹å®šå…ƒç´ ã€‚ 7.3 Qtä¸­çš„æ­£åˆ™è¡¨è¾¾å¼æ”¯æŒQtæä¾›äº†å¼ºå¤§çš„æ­£åˆ™è¡¨è¾¾å¼æ”¯æŒï¼Œé€šè¿‡QRegularExpressionç±»å®ç°å¤æ‚çš„æ–‡æœ¬åŒ¹é…å’Œå¤„ç†åŠŸèƒ½ã€‚ 7.4 ç¤ºä¾‹ï¼šä½¿ç”¨QRegularExpressionè¿›è¡Œæ¨¡å¼åŒ¹é…ç¤ºä¾‹ä»£ç ï¼š 1234567891011121314151617181920#include &lt;QApplication&gt;#include &lt;QString&gt;#include &lt;QRegularExpression&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); QString text = &quot;Contact us at support@example.com or sales@example.org.&quot;; QRegularExpression emailRegex(R&quot;((\\w+@\\w+\\.\\w+))&quot;); QRegularExpressionMatchIterator i = emailRegex.globalMatch(text); while (i.hasNext()) &#123; QRegularExpressionMatch match = i.next(); QString email = match.captured(1); qDebug() &lt;&lt; &quot;æ‰¾åˆ°é‚®ç®±:&quot; &lt;&lt; email; &#125; return app.exec();&#125; è¿è¡Œç»“æœï¼š 12æ‰¾åˆ°é‚®ç®±: &quot;support@example.com&quot;æ‰¾åˆ°é‚®ç®±: &quot;sales@example.org&quot; è§£é‡Šï¼š ä½¿ç”¨QRegularExpressionå®šä¹‰ä¸€ä¸ªåŒ¹é…é‚®ç®±åœ°å€çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚ ä½¿ç”¨globalMatchæ–¹æ³•è·å–æ‰€æœ‰åŒ¹é…é¡¹ï¼Œå¹¶é€šè¿‡è¿­ä»£å™¨éå†åŒ¹é…ç»“æœã€‚ 7.5 ç¤ºä¾‹ï¼šä½¿ç”¨QString::replaceä¸QRegularExpressionè¿›è¡Œå¤æ‚æ›¿æ¢ç¤ºä¾‹ä»£ç ï¼š 12345678910111213141516#include &lt;QApplication&gt;#include &lt;QString&gt;#include &lt;QRegularExpression&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); QString text = &quot;The quick brown fox jumps over the lazy dog.&quot;; QRegularExpression regex(R&quot;(quick\\s+brown\\s+fox)&quot;); QString replacedText = text.replace(regex, &quot;swift red fox&quot;); qDebug() &lt;&lt; &quot;æ›¿æ¢å:&quot; &lt;&lt; replacedText; return app.exec();&#125; è¿è¡Œç»“æœï¼š 1æ›¿æ¢å: &quot;The swift red fox jumps over the lazy dog.&quot; è§£é‡Šï¼š ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…â€œquick brown foxâ€æ¨¡å¼ã€‚ ä½¿ç”¨replaceæ–¹æ³•å°†åŒ¹é…çš„éƒ¨åˆ†æ›¿æ¢ä¸ºâ€œswift red foxâ€ã€‚ 7.6 å°ç»“Qtä¸­çš„å¸¸ç”¨ç®—æ³•å’Œæ­£åˆ™è¡¨è¾¾å¼æ”¯æŒä¸ºæ•°æ®å¤„ç†å’Œæ–‡æœ¬åŒ¹é…æä¾›äº†å¼ºå¤§çš„å·¥å…·ã€‚é€šè¿‡åˆç†ä½¿ç”¨è¿™äº›åŠŸèƒ½ï¼Œå¼€å‘è€…å¯ä»¥å®ç°é«˜æ•ˆä¸”å¤æ‚çš„æ•°æ®æ“ä½œå’Œæ–‡æœ¬å¤„ç†é€»è¾‘ï¼Œæå‡åº”ç”¨ç¨‹åºçš„åŠŸèƒ½æ€§å’Œç”¨æˆ·ä½“éªŒã€‚ æ€»ç»“æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†Qtå¼€å‘ä¸­å¸¸ç”¨çš„æ§ä»¶ç±»åˆ«ï¼ŒåŒ…æ‹¬å¸ƒå±€ç®¡ç†å™¨ä¸é—´éš”æ§ä»¶ã€æŒ‰é’®ä¸å®¹å™¨æ§ä»¶ã€åŸºäºæ¨¡å‹çš„è§†å›¾æ§ä»¶ã€åŸºäºé¡¹çš„è§†å›¾æ§ä»¶ã€è¾“å…¥æ§ä»¶ä»¥åŠæ˜¾ç¤ºæ§ä»¶ã€‚åŒæ—¶ï¼Œæ¢è®¨äº†Qtä¸­å¸¸ç”¨çš„ç®—æ³•å’Œæ­£åˆ™è¡¨è¾¾å¼æ”¯æŒï¼Œå±•ç¤ºäº†å¦‚ä½•åœ¨å®é™…é¡¹ç›®ä¸­åº”ç”¨è¿™äº›åŠŸèƒ½ã€‚ ä¸»è¦å†…å®¹å›é¡¾ï¼š Layouts &amp; Spacersï¼š è®²è§£äº†ä¸åŒç±»å‹çš„å¸ƒå±€ç®¡ç†å™¨ï¼ˆQHBoxLayoutã€QVBoxLayoutã€QGridLayoutã€QFormLayoutï¼‰åŠå…¶åº”ç”¨ã€‚ ä»‹ç»äº†QSpacerItemçš„ä½¿ç”¨ï¼Œå¸®åŠ©ä¼˜åŒ–æ§ä»¶é—´çš„é—´è·å’Œå¸ƒå±€ã€‚ Buttons &amp; Containersï¼š ä»‹ç»äº†å„ç§æŒ‰é’®æ§ä»¶ï¼ˆQPushButtonã€QToolButtonã€QRadioButtonã€QCheckBoxã€QCommandLinkButtonï¼‰çš„ä½¿ç”¨æ–¹æ³•å’Œåº”ç”¨åœºæ™¯ã€‚ æ¢è®¨äº†å®¹å™¨æ§ä»¶ï¼ˆQGroupBoxã€QFrameã€QScrollAreaï¼‰çš„åŠŸèƒ½å’Œä½¿ç”¨æŠ€å·§ã€‚ Item Viewsï¼š è¯´æ˜äº†åŸºäºæ¨¡å‹çš„è§†å›¾æ§ä»¶ï¼ˆQListViewã€QTableViewã€QTreeViewï¼‰çš„ä½¿ç”¨æ–¹æ³•åŠå…¶åœ¨æ•°æ®å±•ç¤ºä¸­çš„ä¼˜åŠ¿ã€‚ é€šè¿‡ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ç»“åˆæ¨¡å‹ç±»ï¼ˆQStringListModelã€QStandardItemModelï¼‰ä½¿ç”¨è§†å›¾æ§ä»¶ã€‚ Item Widgetsï¼š ä»‹ç»äº†åŸºäºé¡¹çš„è§†å›¾æ§ä»¶ï¼ˆQListWidgetã€QTreeWidgetã€QTableWidgetï¼‰çš„ç®€åŒ–æ¥å£å’Œä½¿ç”¨æ–¹æ³•ã€‚ é€šè¿‡ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•å¿«é€Ÿåˆ›å»ºå’Œç®¡ç†é¡¹è§†å›¾æ§ä»¶ã€‚ Input Widgetsï¼š è®²è§£äº†å¸¸ç”¨çš„è¾“å…¥æ§ä»¶ï¼ˆQLineEditã€QTextEditã€QSpinBoxã€QDoubleSpinBoxã€QComboBoxã€QCheckBoxã€QRadioButtonã€QSliderã€QDateEditã€QTimeEditï¼‰çš„åŠŸèƒ½å’Œä½¿ç”¨åœºæ™¯ã€‚ é€šè¿‡ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•è·å–å’Œå¤„ç†ç”¨æˆ·è¾“å…¥ã€‚ Display Widgetsï¼š ä»‹ç»äº†å¸¸ç”¨çš„æ˜¾ç¤ºæ§ä»¶ï¼ˆQLabelã€QTextBrowserã€QProgressBarã€QLCDNumberã€QDialã€QToolTipï¼‰çš„ä½¿ç”¨æ–¹æ³•å’Œåº”ç”¨åœºæ™¯ã€‚ é€šè¿‡ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•åŠ¨æ€æ›´æ–°å’Œå±•ç¤ºä¿¡æ¯ã€‚ å¸¸ç”¨ç®—æ³•åŠæ­£åˆ™è¡¨è¾¾å¼ï¼š æ¢è®¨äº†Qtæä¾›çš„å¸¸ç”¨ç®—æ³•å‡½æ•°ï¼Œå¦‚æ’åºã€æŸ¥æ‰¾å’Œéå†ã€‚ ä»‹ç»äº†Qtä¸­å¼ºå¤§çš„æ­£åˆ™è¡¨è¾¾å¼æ”¯æŒï¼Œé€šè¿‡QRegularExpressionå®ç°å¤æ‚çš„æ–‡æœ¬åŒ¹é…å’Œå¤„ç†ã€‚ ä¸‹ä¸€æ­¥å­¦ä¹ å»ºè®®ï¼šæŒæ¡äº†Qtå¼€å‘å¸¸ç”¨æ§ä»¶çš„ä½¿ç”¨æ–¹æ³•åï¼Œå»ºè®®ç»§ç»­æ·±å…¥å­¦ä¹ ä»¥ä¸‹é«˜çº§å†…å®¹ï¼Œä»¥å…¨é¢æå‡Qt C++ç¼–ç¨‹èƒ½åŠ›ï¼š ç±»å‹ç‰¹æ€§æ£€æµ‹ï¼štype_traitsåº“çš„åº”ç”¨ï¼š å­¦ä¹ å¦‚ä½•ä½¿ç”¨std::is_integralã€std::is_rvalue_referenceã€std::is_arithmeticã€std::is_volatileã€std::is_classç­‰è¿›è¡Œç±»å‹åˆ¤æ–­ï¼Œè¾…åŠ©æ¨¡æ¿å…ƒç¼–ç¨‹ã€‚ å˜é‡æ¨¡æ¿ä¸å†…è”å˜é‡ï¼ˆC++14ï¼‰ï¼š æ¢ç´¢C++14ä¸­çš„å˜é‡æ¨¡æ¿å’Œinlineå˜é‡çš„æ¦‚å¿µï¼Œäº†è§£å®ƒä»¬åœ¨å®é™…ç¼–ç¨‹ä¸­çš„åº”ç”¨ã€‚ å¤šçº¿ç¨‹ç¼–ç¨‹çš„é«˜çº§å·¥å…·ï¼š æ·±å…¥äº†è§£çº¿ç¨‹å±€éƒ¨å­˜å‚¨ã€é”çš„ä¼˜åŒ–ç­–ç•¥ã€çº¿ç¨‹æ± ç­‰é«˜çº§å¤šçº¿ç¨‹ç¼–ç¨‹å·¥å…·ï¼Œæå‡å¹¶å‘ç¼–ç¨‹çš„èƒ½åŠ›ã€‚ æ¨¡æ¿ç¼–ç¨‹çš„é«˜çº§æŠ€å·§ï¼š æŒæ¡æ¨¡æ¿å…ƒç¼–ç¨‹ã€SFINAEï¼ˆæ›¿æ¢å¤±è´¥ä¸æ˜¯é”™è¯¯ï¼‰ç­‰é«˜çº§æ¨¡æ¿ç¼–ç¨‹æŠ€æœ¯ï¼Œæå‡ä»£ç çš„æ³›åŒ–å’Œå¤ç”¨èƒ½åŠ›ã€‚ Qtæ¡†æ¶çš„æ ¸å¿ƒæ¦‚å¿µä¸é«˜çº§åŠŸèƒ½ï¼š æ·±å…¥å­¦ä¹ Qtçš„ä¿¡å·ä¸æ§½æœºåˆ¶ã€äº‹ä»¶å¤„ç†ã€æ¨¡å‹-è§†å›¾æ¶æ„ã€Qt Quickç­‰é«˜çº§åŠŸèƒ½ï¼Œæ„å»ºæ›´å¤æ‚å’ŒåŠŸèƒ½ä¸°å¯Œçš„åº”ç”¨ç¨‹åºã€‚ æ•°æ®åº“é›†æˆä¸æ“ä½œï¼š å­¦ä¹ Qtçš„æ•°æ®åº“æ¨¡å—ï¼Œäº†è§£å¦‚ä½•é›†æˆå’Œæ“ä½œä¸åŒç±»å‹çš„æ•°æ®åº“ï¼Œè¿›è¡Œæ•°æ®æŒä¹…åŒ–ç®¡ç†ã€‚ ç½‘ç»œç¼–ç¨‹ï¼š æ¢ç´¢Qtçš„ç½‘ç»œæ¨¡å—ï¼ŒæŒæ¡TCP&#x2F;IPé€šä¿¡ã€HTTPè¯·æ±‚å¤„ç†ç­‰ç½‘ç»œç¼–ç¨‹æŠ€èƒ½ã€‚ å›¾å½¢ç”¨æˆ·ç•Œé¢è®¾è®¡ï¼š å­¦ä¹ Qt Designerçš„é«˜çº§ä½¿ç”¨æŠ€å·§ï¼Œè®¾è®¡å¤æ‚çš„ç”¨æˆ·ç•Œé¢ï¼Œå¹¶ç»“åˆåŠ¨ç”»å’Œæ ·å¼è¡¨æå‡ç•Œé¢ä½“éªŒã€‚ èµ„æºç®¡ç†ä¸å¤šè¯­è¨€æ”¯æŒï¼š æŒæ¡Qtçš„èµ„æºç³»ç»Ÿï¼Œç®¡ç†åº”ç”¨ç¨‹åºèµ„æºï¼Œäº†è§£å¦‚ä½•å®ç°å¤šè¯­è¨€æ”¯æŒï¼Œæå‡åº”ç”¨çš„å›½é™…åŒ–èƒ½åŠ›ã€‚ é€šè¿‡æŒç»­å­¦ä¹ å’Œå®è·µï¼Œç»“åˆæœ¬æ–‡æ‰€ä»‹ç»çš„åŸºç¡€çŸ¥è¯†ï¼Œæ‚¨å°†èƒ½å¤Ÿæ›´åŠ é«˜æ•ˆåœ°åˆ©ç”¨Qtæ¡†æ¶è¿›è¡ŒC++å¼€å‘ï¼Œæ„å»ºå‡ºåŠŸèƒ½ä¸°å¯Œã€æ€§èƒ½ä¼˜å¼‚ä¸”ç”¨æˆ·å‹å¥½çš„åº”ç”¨ç¨‹åºã€‚ æ„Ÿè°¢æ‚¨çš„é˜…è¯»ä¸æ”¯æŒï¼å¦‚æœæ‚¨å¯¹æœ¬æ–‡å†…å®¹æœ‰ä»»ä½•ç–‘é—®æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€ä¸æˆ‘ä»¬äº¤æµã€‚è¯·ç»§ç»­å…³æ³¨æˆ‘ä»¬çš„ç³»åˆ—æ–‡ç« ï¼Œæ·±å…¥äº†è§£Qt C++å¼€å‘çš„æ›´å¤šé«˜çº§ç‰¹æ€§å’Œå®æˆ˜æŠ€å·§ã€‚","categories":[],"tags":[]},{"title":"Qt C++è¯­è¨€æ–°ç‰¹æ€§è¯¦è§£","slug":"Qt-C-è¯­è¨€æ–°ç‰¹æ€§è¯¦è§£","date":"2024-12-26T13:31:52.000Z","updated":"2024-12-26T13:32:10.198Z","comments":true,"path":"2024/12/26/Qt-C-è¯­è¨€æ–°ç‰¹æ€§è¯¦è§£/","link":"","permalink":"http://ycx81.github.io/2024/12/26/Qt-C-%E8%AF%AD%E8%A8%80%E6%96%B0%E7%89%B9%E6%80%A7%E8%AF%A6%E8%A7%A3/","excerpt":"å‰è¨€","text":"å‰è¨€ Qt C++è¯­è¨€æ–°ç‰¹æ€§è¯¦è§£éšç€C++æ ‡å‡†çš„ä¸æ–­æ¼”è¿›ï¼ŒC++11ã€C++14ç­‰æ–°ç‰¹æ€§ä¸ºå¼€å‘è€…å¸¦æ¥äº†æ›´é«˜æ•ˆã€æ›´ç®€æ´å’Œæ›´å¼ºå¤§çš„ç¼–ç¨‹å·¥å…·ã€‚ç»“åˆQtæ¡†æ¶ï¼Œè¿™äº›æ–°ç‰¹æ€§ä¸ä»…æå‡äº†ä»£ç çš„å¯è¯»æ€§å’Œç»´æŠ¤æ€§ï¼Œè¿˜å¢å¼ºäº†åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’ŒåŠŸèƒ½ã€‚æœ¬ç¯‡æ–‡ç« å°†è¯¦ç»†ä»‹ç»Qt C++è¯­è¨€ä¸­çš„æ–°ç‰¹æ€§ï¼ŒåŒ…æ‹¬ç±»å‹æ¨å¯¼ã€åºåˆ—forå¾ªç¯ã€lambdaè¡¨è¾¾å¼ã€æ„é€ å‡½æ•°çš„æ–°ç‰¹æ€§ã€ç°ä»£å®¹å™¨ã€åƒåœ¾å›æ”¶æœºåˆ¶ã€æ­£åˆ™è¡¨è¾¾å¼åŸºç¡€ã€æ™ºèƒ½æŒ‡é’ˆä»¥åŠå…³é”®å­—nullptrå’Œconstexprã€‚è¿™äº›å†…å®¹å°†å¸®åŠ©æ‚¨å……åˆ†åˆ©ç”¨C++çš„æ–°ç‰¹æ€§ï¼Œç¼–å†™å‡ºæ›´é«˜æ•ˆå’Œæ›´ä¼˜é›…çš„Qtåº”ç”¨ç¨‹åºã€‚ 1. ç±»å‹æ¨å¯¼ï¼šauto ä¸ decltype1.1 auto å…³é”®å­—autoå…³é”®å­—å…è®¸ç¼–è¯‘å™¨æ ¹æ®åˆå§‹åŒ–è¡¨è¾¾å¼è‡ªåŠ¨æ¨å¯¼å˜é‡çš„ç±»å‹ï¼Œä»è€Œå‡å°‘å†—é•¿çš„ç±»å‹å£°æ˜ï¼Œæå‡ä»£ç çš„å¯è¯»æ€§å’Œç»´æŠ¤æ€§ã€‚ ç¤ºä¾‹ï¼š 1234567891011121314151617181920212223242526#include &lt;iostream&gt;#include &lt;vector&gt;#include &lt;map&gt;#include &lt;string&gt;int main() &#123; // ä½¿ç”¨autoæ¨å¯¼åŸºæœ¬ç±»å‹ auto a = 10; // int auto b = 3.14; // double auto c = &quot;Hello&quot;; // const char* std::cout &lt;&lt; &quot;a: &quot; &lt;&lt; a &lt;&lt; &quot;, b: &quot; &lt;&lt; b &lt;&lt; &quot;, c: &quot; &lt;&lt; c &lt;&lt; std::endl; // ä½¿ç”¨autoæ¨å¯¼å¤æ‚ç±»å‹ std::vector&lt;int&gt; vec = &#123;1, 2, 3, 4, 5&#125;; auto it = vec.begin(); // std::vector&lt;int&gt;::iterator std::map&lt;std::string, double&gt; priceMap = &#123;&#123;&quot;Apple&quot;, 1.99&#125;, &#123;&quot;Banana&quot;, 0.99&#125;&#125;; auto mapIt = priceMap.find(&quot;Apple&quot;); // std::map&lt;std::string, double&gt;::iterator if (mapIt != priceMap.end()) &#123; std::cout &lt;&lt; mapIt-&gt;first &lt;&lt; &quot; costs &quot; &lt;&lt; mapIt-&gt;second &lt;&lt; &quot; dollars.&quot; &lt;&lt; std::endl; &#125; return 0;&#125; è¾“å‡ºï¼š 12a: 10, b: 3.14, c: HelloApple costs 1.99 dollars. è§£é‡Šï¼š autoæ ¹æ®åˆå§‹åŒ–è¡¨è¾¾å¼è‡ªåŠ¨æ¨å¯¼å˜é‡ç±»å‹ï¼Œå‡å°‘äº†æ˜¾å¼ç±»å‹å£°æ˜çš„éœ€è¦ã€‚ åœ¨å¤„ç†å¤æ‚ç±»å‹å¦‚è¿­ä»£å™¨æ—¶ï¼Œautoæ˜¾è‘—ç®€åŒ–äº†ä»£ç ï¼Œæé«˜äº†å¯è¯»æ€§ã€‚ 1.2 decltype å…³é”®å­—decltypeç”¨äºåœ¨ç¼–è¯‘æ—¶ç¡®å®šè¡¨è¾¾å¼çš„ç±»å‹ï¼Œå¸¸ç”¨äºæ¨¡æ¿ç¼–ç¨‹å’Œå¤æ‚ç±»å‹æ¨å¯¼åœºæ™¯ã€‚ ç¤ºä¾‹ï¼š 123456789101112131415161718192021222324#include &lt;iostream&gt;#include &lt;vector&gt;#include &lt;type_traits&gt;int main() &#123; int x = 5; double y = 3.14; // ä½¿ç”¨decltypeæ¨å¯¼å˜é‡ç±»å‹ decltype(x) a = x; // int decltype(y) b = y; // double decltype(x + y) c = x + y; // double std::cout &lt;&lt; &quot;a: &quot; &lt;&lt; a &lt;&lt; &quot;, b: &quot; &lt;&lt; b &lt;&lt; &quot;, c: &quot; &lt;&lt; c &lt;&lt; std::endl; // ä¸æ¨¡æ¿ç»“åˆä½¿ç”¨ std::vector&lt;int&gt; vec = &#123;1, 2, 3&#125;; decltype(vec)::iterator it = vec.begin(); // std::vector&lt;int&gt;::iterator *it = 10; std::cout &lt;&lt; &quot;First element after modification: &quot; &lt;&lt; vec[0] &lt;&lt; std::endl; return 0;&#125; è¾“å‡ºï¼š 12a: 5, b: 3.14, c: 8.14First element after modification: 10 è§£é‡Šï¼š decltypeæ ¹æ®ç»™å®šçš„è¡¨è¾¾å¼æ¨å¯¼å‡ºå…¶ç±»å‹ã€‚ åœ¨æ¨¡æ¿ç¼–ç¨‹ä¸­ï¼Œdecltypeå¯ç”¨äºç¡®å®šå‡½æ•°è¿”å›ç±»å‹æˆ–å˜é‡ç±»å‹ï¼Œå¢å¼ºæ¨¡æ¿çš„çµæ´»æ€§å’Œé€šç”¨æ€§ã€‚ 1.3 auto ä¸ decltype åœ¨Qtä¸­çš„åº”ç”¨åœ¨Qtå¼€å‘ä¸­ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†ä¿¡å·ä¸æ§½ã€è¿­ä»£å®¹å™¨ã€æˆ–æ¨¡æ¿ç±»æ—¶ï¼Œautoå’Œdecltypeå¯ä»¥æ˜¾è‘—ç®€åŒ–ä»£ç ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨autoæ¨å¯¼è¿­ä»£å™¨ç±»å‹ï¼Œæˆ–è€…ä½¿ç”¨decltypeç¡®å®šå¤æ‚å¯¹è±¡çš„ç±»å‹ã€‚ ç¤ºä¾‹ï¼šä½¿ç”¨autoæ¨å¯¼QListè¿­ä»£å™¨ 1234567891011121314151617#include &lt;QCoreApplication&gt;#include &lt;QList&gt;#include &lt;QString&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); QList&lt;QString&gt; fruits = &#123;&quot;Apple&quot;, &quot;Banana&quot;, &quot;Cherry&quot;&#125;; // ä½¿ç”¨autoæ¨å¯¼è¿­ä»£å™¨ç±»å‹ for(auto it = fruits.begin(); it != fruits.end(); ++it) &#123; qDebug() &lt;&lt; *it; &#125; return a.exec();&#125; è¾“å‡ºï¼š 123&quot;Apple&quot;&quot;Banana&quot;&quot;Cherry&quot; è§£é‡Šï¼š ä½¿ç”¨autoç®€åŒ–äº†è¿­ä»£å™¨ç±»å‹çš„å£°æ˜ï¼Œä½¿ä»£ç æ›´åŠ ç®€æ´å’Œæ˜“è¯»ã€‚ åœ¨Qtå®¹å™¨ç±»ä¸­ï¼Œautoå¹¿æ³›åº”ç”¨äºè¿­ä»£å™¨å’Œå…¶ä»–å¤æ‚ç±»å‹çš„æ¨å¯¼ï¼Œæå‡äº†å¼€å‘æ•ˆç‡ã€‚ 2. åŸºäºèŒƒå›´çš„forå¾ªç¯ï¼ˆRange-based for Loopï¼‰C++11å¼•å…¥çš„åŸºäºèŒƒå›´çš„forå¾ªç¯ç®€åŒ–äº†å®¹å™¨çš„éå†è¿‡ç¨‹ï¼Œæé«˜äº†ä»£ç çš„å¯è¯»æ€§å’Œæ•ˆç‡ã€‚ ç¤ºä¾‹ï¼š 1234567891011121314151617181920212223#include &lt;iostream&gt;#include &lt;vector&gt;#include &lt;QString&gt;#include &lt;QList&gt;int main() &#123; std::vector&lt;int&gt; numbers = &#123;1, 2, 3, 4, 5&#125;; std::cout &lt;&lt; &quot;Vector elements:&quot; &lt;&lt; std::endl; for(auto num : numbers) &#123; std::cout &lt;&lt; num &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; QList&lt;QString&gt; fruits = &#123;&quot;Apple&quot;, &quot;Banana&quot;, &quot;Cherry&quot;&#125;; qDebug() &lt;&lt; &quot;QList elements:&quot;; for(const auto&amp; fruit : fruits) &#123; qDebug() &lt;&lt; fruit; &#125; return 0;&#125; è¾“å‡ºï¼š 123456Vector elements:1 2 3 4 5 QList elements:&quot;Apple&quot;&quot;Banana&quot;&quot;Cherry&quot; è§£é‡Šï¼š åŸºäºèŒƒå›´çš„forå¾ªç¯é€šè¿‡ç›´æ¥éå†å®¹å™¨ä¸­çš„å…ƒç´ ï¼Œé¿å…äº†æ˜¾å¼ä½¿ç”¨è¿­ä»£å™¨æˆ–ä¸‹æ ‡ï¼Œä»£ç æ›´ç®€æ´ã€‚ ä½¿ç”¨å¼•ç”¨ï¼ˆå¦‚const auto&amp;ï¼‰å¯ä»¥é¿å…ä¸å¿…è¦çš„æ‹·è´ï¼Œæé«˜æ€§èƒ½ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†å¤§å‹å¯¹è±¡æˆ–å¤æ‚ç±»å‹æ—¶ã€‚ 2.1 ä½¿ç”¨å¼•ç”¨å’Œå¸¸é‡å¼•ç”¨ä¸ºäº†æé«˜æ•ˆç‡å¹¶é¿å…ä¸å¿…è¦çš„æ‹·è´ï¼Œæ¨èåœ¨åŸºäºèŒƒå›´çš„forå¾ªç¯ä¸­ä½¿ç”¨å¼•ç”¨æˆ–å¸¸é‡å¼•ç”¨ã€‚ ç¤ºä¾‹ï¼š 12345678910111213141516171819202122232425262728#include &lt;iostream&gt;#include &lt;vector&gt;#include &lt;QString&gt;#include &lt;QList&gt;int main() &#123; std::vector&lt;std::string&gt; words = &#123;&quot;hello&quot;, &quot;world&quot;, &quot;C++11&quot;&#125;; // ä½¿ç”¨å¸¸é‡å¼•ç”¨é¿å…æ‹·è´ for(const auto&amp; word : words) &#123; std::cout &lt;&lt; word &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; QList&lt;QString&gt; qwords = &#123;&quot;Qt&quot;, &quot;is&quot;, &quot;awesome&quot;&#125;; // ä½¿ç”¨å¼•ç”¨ä¿®æ”¹å…ƒç´  for(auto&amp; qword : qwords) &#123; qword = qword.toUpper(); &#125; qDebug() &lt;&lt; &quot;Modified QList elements:&quot;; for(const auto&amp; qword : qwords) &#123; qDebug() &lt;&lt; qword; &#125; return 0;&#125; è¾“å‡ºï¼š 12345hello world C++11 Modified QList elements:&quot;QT&quot;&quot;IS&quot;&quot;AWESOME&quot; è§£é‡Šï¼š ä½¿ç”¨const auto&amp;é¿å…å¯¹å…ƒç´ çš„æ‹·è´ï¼Œæé«˜å¾ªç¯æ•ˆç‡ã€‚ ä½¿ç”¨auto&amp;å…è®¸åœ¨å¾ªç¯ä¸­ä¿®æ”¹å®¹å™¨ä¸­çš„å…ƒç´ ï¼Œå¦‚å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§å†™ã€‚ 2.2 ä¸ä¼ ç»Ÿforå¾ªç¯çš„å¯¹æ¯”åŸºäºèŒƒå›´çš„forå¾ªç¯ç›¸æ¯”ä¼ ç»Ÿçš„forå¾ªç¯å…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š ç®€æ´æ€§ï¼šå‡å°‘äº†å¾ªç¯å˜é‡çš„å£°æ˜å’Œåˆå§‹åŒ–ï¼Œä»£ç æ›´ç®€æ´ã€‚ å¯è¯»æ€§ï¼šç›´æ¥è¡¨è¾¾äº†éå†å®¹å™¨çš„æ„å›¾ï¼Œæå‡ä»£ç å¯è¯»æ€§ã€‚ å®‰å…¨æ€§ï¼šé¿å…äº†è¶Šç•Œè®¿é—®å’Œè¿­ä»£å™¨å¤±æ•ˆç­‰é—®é¢˜ï¼Œæå‡ä»£ç çš„å®‰å…¨æ€§ã€‚ ä¼ ç»Ÿforå¾ªç¯ç¤ºä¾‹ï¼š 1234567891011121314#include &lt;iostream&gt;#include &lt;vector&gt;int main() &#123; std::vector&lt;int&gt; numbers = &#123;1, 2, 3, 4, 5&#125;; std::cout &lt;&lt; &quot;Using traditional for loop:&quot; &lt;&lt; std::endl; for(size_t i = 0; i &lt; numbers.size(); ++i) &#123; std::cout &lt;&lt; numbers[i] &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; return 0;&#125; è¾“å‡ºï¼š 12Using traditional for loop:1 2 3 4 5 åŸºäºèŒƒå›´çš„forå¾ªç¯ç¤ºä¾‹ï¼š 1234567891011121314#include &lt;iostream&gt;#include &lt;vector&gt;int main() &#123; std::vector&lt;int&gt; numbers = &#123;1, 2, 3, 4, 5&#125;; std::cout &lt;&lt; &quot;Using range-based for loop:&quot; &lt;&lt; std::endl; for(auto num : numbers) &#123; std::cout &lt;&lt; num &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; return 0;&#125; è¾“å‡ºï¼š 12Using range-based for loop:1 2 3 4 5 è§£é‡Šï¼š åŸºäºèŒƒå›´çš„forå¾ªç¯å‡å°‘äº†å¾ªç¯å˜é‡çš„ç®¡ç†ï¼Œä»£ç æ›´åŠ ç®€æ´å’Œæ˜“è¯»ã€‚ 2.3 åœ¨Qtä¸­çš„åº”ç”¨åœ¨Qtå¼€å‘ä¸­ï¼ŒåŸºäºèŒƒå›´çš„forå¾ªç¯å¹¿æ³›åº”ç”¨äºéå†Qtå®¹å™¨ç±»ï¼ˆå¦‚QListã€QVectorã€QMapç­‰ï¼‰ï¼Œç®€åŒ–ä»£ç é€»è¾‘ï¼Œæå‡å¼€å‘æ•ˆç‡ã€‚ ç¤ºä¾‹ï¼šéå†QListä¸­çš„å¯¹è±¡ 1234567891011121314151617#include &lt;QCoreApplication&gt;#include &lt;QList&gt;#include &lt;QString&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); QList&lt;QString&gt; fruits = &#123;&quot;Apple&quot;, &quot;Banana&quot;, &quot;Cherry&quot;&#125;; qDebug() &lt;&lt; &quot;Iterating over QList using range-based for loop:&quot;; for(const auto&amp; fruit : fruits) &#123; qDebug() &lt;&lt; fruit; &#125; return a.exec();&#125; è¾“å‡ºï¼š 1234Iterating over QList using range-based for loop:&quot;Apple&quot;&quot;Banana&quot;&quot;Cherry&quot; è§£é‡Šï¼š ä½¿ç”¨åŸºäºèŒƒå›´çš„forå¾ªç¯éå†QListä¸­çš„QStringå¯¹è±¡ï¼Œä»£ç ç®€æ´ä¸”æ˜“äºç»´æŠ¤ã€‚ 3. Lambdaè¡¨è¾¾å¼3.1 Lambdaè¡¨è¾¾å¼çš„æ¦‚å¿µLambdaè¡¨è¾¾å¼æ˜¯C++11å¼•å…¥çš„ä¸€ç§åŒ¿åå‡½æ•°å¯¹è±¡ï¼Œå…è®¸åœ¨ä»£ç ä¸­å®šä¹‰å†…è”çš„ã€ä¸´æ—¶çš„å‡½æ•°ã€‚å®ƒä»¬ç‰¹åˆ«é€‚ç”¨äºéœ€è¦çŸ­æœŸä½¿ç”¨çš„å°å‡½æ•°ï¼Œå¦‚å›è°ƒå‡½æ•°ã€æ’åºæ¯”è¾ƒå™¨ç­‰ã€‚ è¯­æ³•ç»“æ„ï¼š 123[capture](parameters) -&gt; return_type &#123; // å‡½æ•°ä½“&#125;; æ•è·åˆ—è¡¨ï¼ˆcaptureï¼‰ï¼šæŒ‡å®šlambdaè¡¨è¾¾å¼å¯ä»¥è®¿é—®çš„å¤–éƒ¨å˜é‡ã€‚ å‚æ•°åˆ—è¡¨ï¼ˆparametersï¼‰ï¼šå®šä¹‰lambdaè¡¨è¾¾å¼çš„å‚æ•°ã€‚ è¿”å›ç±»å‹ï¼ˆreturn_typeï¼‰ï¼šå¯é€‰ï¼ŒæŒ‡å®šè¿”å›ç±»å‹ï¼Œç¼–è¯‘å™¨é€šå¸¸å¯ä»¥è‡ªåŠ¨æ¨å¯¼ã€‚ å‡½æ•°ä½“ï¼ˆ&#123;&#125;ï¼‰ï¼šå®šä¹‰lambdaè¡¨è¾¾å¼çš„å…·ä½“è¡Œä¸ºã€‚ 3.2 Lambdaè¡¨è¾¾å¼çš„ä½¿ç”¨ç¤ºä¾‹ï¼š 12345678910111213141516171819202122232425262728293031323334#include &lt;iostream&gt;#include &lt;vector&gt;#include &lt;algorithm&gt;int main() &#123; std::vector&lt;int&gt; numbers = &#123;1, 2, 3, 4, 5&#125;; // ä½¿ç”¨lambdaè¡¨è¾¾å¼æ‰“å°æ¯ä¸ªå…ƒç´  std::cout &lt;&lt; &quot;Numbers: &quot;; std::for_each(numbers.begin(), numbers.end(), [](int num) &#123; std::cout &lt;&lt; num &lt;&lt; &quot; &quot;; &#125;); std::cout &lt;&lt; std::endl; // ä½¿ç”¨lambdaè¡¨è¾¾å¼è®¡ç®—æ‰€æœ‰å…ƒç´ çš„å’Œ int sum = 0; std::for_each(numbers.begin(), numbers.end(), [&amp;sum](int num) &#123; sum += num; &#125;); std::cout &lt;&lt; &quot;Sum: &quot; &lt;&lt; sum &lt;&lt; std::endl; // ä½¿ç”¨lambdaè¡¨è¾¾å¼è¿›è¡Œæ’åºï¼ˆé™åºï¼‰ std::sort(numbers.begin(), numbers.end(), [](int a, int b) -&gt; bool &#123; return a &gt; b; &#125;); std::cout &lt;&lt; &quot;Sorted (descending): &quot;; for(auto num : numbers) &#123; std::cout &lt;&lt; num &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; return 0;&#125; è¾“å‡ºï¼š 123Numbers: 1 2 3 4 5 Sum: 15Sorted (descending): 5 4 3 2 1 è§£é‡Šï¼š ç¬¬ä¸€ä¸ªlambdaç”¨äºæ‰“å°vectorä¸­çš„æ¯ä¸ªå…ƒç´ ã€‚ ç¬¬äºŒä¸ªlambdaé€šè¿‡å¼•ç”¨æ•è·å¤–éƒ¨å˜é‡sumï¼Œè®¡ç®—æ‰€æœ‰å…ƒç´ çš„æ€»å’Œã€‚ ç¬¬ä¸‰ä¸ªlambdaä½œä¸ºæ’åºæ¯”è¾ƒå™¨ï¼Œå®ç°äº†é™åºæ’åºã€‚ 3.3 æ•è·åˆ—è¡¨çš„ä½¿ç”¨Lambdaè¡¨è¾¾å¼çš„æ•è·åˆ—è¡¨å†³å®šäº†å…¶å¯ä»¥è®¿é—®å“ªäº›å¤–éƒ¨å˜é‡ï¼Œä»¥åŠå¦‚ä½•è®¿é—®å®ƒä»¬ã€‚å¸¸è§çš„æ•è·æ–¹å¼åŒ…æ‹¬ï¼š æŒ‰å€¼æ•è·ï¼ˆ[=]ï¼‰ï¼šå¤åˆ¶å¤–éƒ¨å˜é‡çš„å‰¯æœ¬ã€‚ æŒ‰å¼•ç”¨æ•è·ï¼ˆ[&amp;]ï¼‰ï¼šé€šè¿‡å¼•ç”¨è®¿é—®å¤–éƒ¨å˜é‡ã€‚ æ··åˆæ•è·ï¼ˆ[=, &amp;var] æˆ– [&amp;, var]ï¼‰ï¼šæŒ‡å®šéƒ¨åˆ†å˜é‡æŒ‰å€¼æˆ–æŒ‰å¼•ç”¨æ•è·ã€‚ ä¸æ•è·ä»»ä½•å˜é‡ï¼ˆ[]ï¼‰ï¼šä»…ä½¿ç”¨å‚æ•°å’Œå…¨å±€å˜é‡ã€‚ ç¤ºä¾‹ï¼š 12345678910111213141516171819202122232425262728293031#include &lt;iostream&gt;#include &lt;vector&gt;#include &lt;algorithm&gt;int main() &#123; int factor = 2; std::vector&lt;int&gt; numbers = &#123;1, 2, 3, 4, 5&#125;; // æŒ‰å€¼æ•è· std::cout &lt;&lt; &quot;Numbers multiplied by factor (value capture): &quot;; std::for_each(numbers.begin(), numbers.end(), [=](int&amp; num) &#123; num *= factor; &#125;); for(auto num : numbers) &#123; std::cout &lt;&lt; num &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; // æŒ‰å¼•ç”¨æ•è· factor = 3; std::cout &lt;&lt; &quot;Numbers multiplied by factor (reference capture): &quot;; std::for_each(numbers.begin(), numbers.end(), [&amp;](int&amp; num) &#123; num *= factor; &#125;); for(auto num : numbers) &#123; std::cout &lt;&lt; num &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; return 0;&#125; è¾“å‡ºï¼š 12Numbers multiplied by factor (value capture): 2 4 6 8 10 Numbers multiplied by factor (reference capture): 6 12 18 24 30 è§£é‡Šï¼š ç¬¬ä¸€ä¸ªlambdaæŒ‰å€¼æ•è·factorï¼Œå³ä½¿ä¹‹åfactorçš„å€¼å‘ç”Ÿå˜åŒ–ï¼Œlambdaå†…çš„factorä»ä¿æŒåˆå§‹å€¼2ã€‚ ç¬¬äºŒä¸ªlambdaæŒ‰å¼•ç”¨æ•è·factorï¼Œlambdaå†…çš„factorä¼šåæ˜ å¤–éƒ¨å˜é‡çš„æœ€æ–°å€¼3ã€‚ 3.4 Lambdaè¡¨è¾¾å¼åœ¨Qtä¸­çš„åº”ç”¨åœ¨Qtå¼€å‘ä¸­ï¼Œlambdaè¡¨è¾¾å¼å¹¿æ³›åº”ç”¨äºä¿¡å·ä¸æ§½æœºåˆ¶ã€å›è°ƒå‡½æ•°ã€äº‹ä»¶å¤„ç†ç­‰åœºæ™¯ï¼Œä½¿å¾—ä»£ç æ›´åŠ ç®€æ´å’Œçµæ´»ã€‚ ç¤ºä¾‹ï¼šä½¿ç”¨lambdaè¡¨è¾¾å¼è¿æ¥ä¿¡å·ä¸æ§½ 123456789101112131415161718#include &lt;QCoreApplication&gt;#include &lt;QTimer&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); QTimer timer; // ä½¿ç”¨lambdaè¡¨è¾¾å¼ä½œä¸ºæ§½å‡½æ•° QObject::connect(&amp;timer, &amp;QTimer::timeout, [&amp;]() &#123; qDebug() &lt;&lt; &quot;Timer timeout occurred!&quot;; &#125;); timer.start(1000); // æ¯1000æ¯«ç§’è§¦å‘ä¸€æ¬¡timeoutä¿¡å· return a.exec();&#125; è¾“å‡ºï¼ˆæ¯ç§’è¾“å‡ºä¸€æ¬¡ï¼‰ï¼š 1234Timer timeout occurred!Timer timeout occurred!Timer timeout occurred!... è§£é‡Šï¼š ä½¿ç”¨lambdaè¡¨è¾¾å¼ä½œä¸ºQTimerçš„æ§½å‡½æ•°ï¼Œç®€åŒ–äº†ä¼ ç»Ÿçš„æ§½å‡½æ•°å£°æ˜å’Œå®ç°è¿‡ç¨‹ã€‚ ä½¿å¾—ä¿¡å·ä¸æ§½çš„è¿æ¥æ›´åŠ çµæ´»ï¼Œå°¤å…¶é€‚ç”¨äºç®€å•çš„å›è°ƒåœºæ™¯ã€‚ ç¤ºä¾‹ï¼šä½¿ç”¨lambdaè¡¨è¾¾å¼å¤„ç†æŒ‰é’®ç‚¹å‡»äº‹ä»¶ 12345678910111213141516171819#include &lt;QCoreApplication&gt;#include &lt;QPushButton&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); QPushButton button(&quot;Click Me&quot;); // ä½¿ç”¨lambdaè¡¨è¾¾å¼å¤„ç†æŒ‰é’®ç‚¹å‡»äº‹ä»¶ QObject::connect(&amp;button, &amp;QPushButton::clicked, [&amp;]() &#123; qDebug() &lt;&lt; &quot;Button was clicked!&quot;; a.quit(); // é€€å‡ºåº”ç”¨ç¨‹åº &#125;); button.show(); return a.exec();&#125; è§£é‡Šï¼š å½“æŒ‰é’®è¢«ç‚¹å‡»æ—¶ï¼Œlambdaè¡¨è¾¾å¼ä¸­çš„ä»£ç å°†è¢«æ‰§è¡Œï¼Œè¾“å‡ºç‚¹å‡»ä¿¡æ¯å¹¶é€€å‡ºåº”ç”¨ç¨‹åºã€‚ é¿å…äº†ä¸ºç®€å•äº‹ä»¶å¤„ç†ç¼–å†™é¢å¤–çš„æ§½å‡½æ•°ï¼Œæé«˜äº†ä»£ç çš„ç®€æ´æ€§ã€‚ 4. æ„é€ å‡½æ•°çš„æ–°ç‰¹æ€§ï¼šå§”æ‰˜æ„é€ ä¸ç»§æ‰¿æ„é€ 4.1 å§”æ‰˜æ„é€ å‡½æ•°ï¼ˆDelegating Constructorsï¼‰C++11å¼•å…¥äº†å§”æ‰˜æ„é€ å‡½æ•°ï¼Œå…è®¸ä¸€ä¸ªæ„é€ å‡½æ•°è°ƒç”¨åŒä¸€ç±»ä¸­çš„å¦ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œä»¥å‡å°‘é‡å¤ä»£ç ï¼Œç®€åŒ–æ„é€ å‡½æ•°çš„å®ç°ã€‚ ç¤ºä¾‹ï¼š 123456789101112131415161718192021222324252627282930313233#include &lt;iostream&gt;#include &lt;string&gt;class Person &#123;public: // å§”æ‰˜æ„é€ å‡½æ•° Person() : Person(&quot;Unknown&quot;, 0) &#123; std::cout &lt;&lt; &quot;Default constructor called.&quot; &lt;&lt; std::endl; &#125; // ä¸»æ„é€ å‡½æ•° Person(const std::string&amp; name, int age) : name_(name), age_(age) &#123; std::cout &lt;&lt; &quot;Parameterized constructor called.&quot; &lt;&lt; std::endl; &#125; void display() const &#123; std::cout &lt;&lt; &quot;Name: &quot; &lt;&lt; name_ &lt;&lt; &quot;, Age: &quot; &lt;&lt; age_ &lt;&lt; std::endl; &#125;private: std::string name_; int age_;&#125;;int main() &#123; Person p1; // è°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°ï¼Œå§”æ‰˜è°ƒç”¨ä¸»æ„é€ å‡½æ•° p1.display(); Person p2(&quot;Alice&quot;, 30); // ç›´æ¥è°ƒç”¨ä¸»æ„é€ å‡½æ•° p2.display(); return 0;&#125; è¾“å‡ºï¼š 12345Parameterized constructor called.Default constructor called.Name: Unknown, Age: 0Parameterized constructor called.Name: Alice, Age: 30 è§£é‡Šï¼š Personç±»çš„é»˜è®¤æ„é€ å‡½æ•°é€šè¿‡å§”æ‰˜è°ƒç”¨å¸¦å‚æ•°çš„ä¸»æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–é»˜è®¤å€¼ã€‚ è¿™ç§æ–¹å¼é¿å…äº†åœ¨å¤šä¸ªæ„é€ å‡½æ•°ä¸­é‡å¤åˆå§‹åŒ–æˆå‘˜å˜é‡çš„ä»£ç ï¼Œæé«˜äº†ä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚ 4.2 ç»§æ‰¿æ„é€ å‡½æ•°ï¼ˆInherited Constructorsï¼‰C++11å¼•å…¥äº†ç»§æ‰¿æ„é€ å‡½æ•°ï¼Œå…è®¸æ´¾ç”Ÿç±»ç»§æ‰¿åŸºç±»çš„æ„é€ å‡½æ•°ï¼Œç®€åŒ–æ´¾ç”Ÿç±»æ„é€ å‡½æ•°çš„å®šä¹‰ã€‚ ç¤ºä¾‹ï¼š 1234567891011121314151617181920212223242526272829303132333435#include &lt;iostream&gt;#include &lt;string&gt;class Vehicle &#123;public: Vehicle(const std::string&amp; brand, int year) : brand_(brand), year_(year) &#123; std::cout &lt;&lt; &quot;Vehicle constructor called.&quot; &lt;&lt; std::endl; &#125; void display() const &#123; std::cout &lt;&lt; &quot;Brand: &quot; &lt;&lt; brand_ &lt;&lt; &quot;, Year: &quot; &lt;&lt; year_ &lt;&lt; std::endl; &#125;protected: std::string brand_; int year_;&#125;;// æ´¾ç”Ÿç±»ç»§æ‰¿Vehicleçš„æ„é€ å‡½æ•°class Car : public Vehicle &#123;public: using Vehicle::Vehicle; // ç»§æ‰¿åŸºç±»çš„æ„é€ å‡½æ•° void honk() const &#123; std::cout &lt;&lt; brand_ &lt;&lt; &quot; is honking.&quot; &lt;&lt; std::endl; &#125;&#125;;int main() &#123; Car car1(&quot;Toyota&quot;, 2020); // ç›´æ¥ä½¿ç”¨åŸºç±»çš„æ„é€ å‡½æ•° car1.display(); car1.honk(); return 0;&#125; è¾“å‡ºï¼š 123Vehicle constructor called.Brand: Toyota, Year: 2020Toyota is honking. è§£é‡Šï¼š Carç±»é€šè¿‡using Vehicle::Vehicle;ç»§æ‰¿äº†Vehicleç±»çš„æ„é€ å‡½æ•°ï¼Œæ— éœ€åœ¨Carç±»ä¸­é‡æ–°å®šä¹‰æ„é€ å‡½æ•°ã€‚ è¿™ç®€åŒ–äº†æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°ï¼Œå®ç°äº†æ›´é«˜æ•ˆçš„ä»£ç å¤ç”¨ã€‚ 4.3 åœ¨Qtä¸­çš„åº”ç”¨åœ¨Qtå¼€å‘ä¸­ï¼Œå°¤å…¶æ˜¯åœ¨è‡ªå®šä¹‰æ§ä»¶å’Œçª—å£ç±»æ—¶ï¼Œå§”æ‰˜æ„é€ å’Œç»§æ‰¿æ„é€ å‡½æ•°å¯ä»¥ç®€åŒ–ç±»çš„æ„é€ è¿‡ç¨‹ï¼Œå‡å°‘é‡å¤ä»£ç ã€‚ ç¤ºä¾‹ï¼šè‡ªå®šä¹‰Qtæ§ä»¶ä½¿ç”¨ç»§æ‰¿æ„é€ å‡½æ•° 1234567891011121314151617181920212223242526272829303132#include &lt;QWidget&gt;#include &lt;QPushButton&gt;#include &lt;QVBoxLayout&gt;#include &lt;QApplication&gt;#include &lt;QDebug&gt;class MyWidget : public QWidget &#123;public: using QWidget::QWidget; // ç»§æ‰¿QWidgetçš„æ„é€ å‡½æ•° void setupUI() &#123; QVBoxLayout* layout = new QVBoxLayout(this); QPushButton* button = new QPushButton(&quot;Click Me&quot;, this); layout-&gt;addWidget(button); // ä½¿ç”¨lambdaè¡¨è¾¾å¼è¿æ¥æŒ‰é’®ç‚¹å‡»ä¿¡å· connect(button, &amp;QPushButton::clicked, this, [this]() &#123; qDebug() &lt;&lt; &quot;Button in MyWidget clicked!&quot;; &#125;); &#125;&#125;;int main(int argc, char *argv[]) &#123; QApplication a(argc, argv); MyWidget widget; widget.setupUI(); widget.show(); return a.exec();&#125; è§£é‡Šï¼š MyWidgetç±»é€šè¿‡using QWidget::QWidget;ç»§æ‰¿äº†QWidgetçš„æ„é€ å‡½æ•°ï¼Œç®€åŒ–äº†è‡ªå®šä¹‰æ§ä»¶çš„æ„é€ è¿‡ç¨‹ã€‚ é€šè¿‡ç»§æ‰¿æ„é€ å‡½æ•°ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨åŸºç±»æä¾›çš„æ„é€ å‡½æ•°å‚æ•°ï¼Œæ— éœ€åœ¨æ´¾ç”Ÿç±»ä¸­é‡æ–°å®šä¹‰æ„é€ å‡½æ•°ã€‚ 5. å®¹å™¨ï¼šarrayã€forward_list ä¸ tuple5.1 std::array5.1.1 std::arrayçš„æ¦‚å¿µstd::arrayæ˜¯C++11å¼•å…¥çš„å›ºå®šå¤§å°çš„æ•°ç»„å®¹å™¨ï¼Œæä¾›äº†ä¸Cé£æ ¼æ•°ç»„ç›¸ä¼¼çš„æ¥å£ï¼Œä½†å…·æœ‰STLå®¹å™¨çš„ç‰¹æ€§ï¼Œå¦‚æ”¯æŒèŒƒå›´forå¾ªç¯ã€è¿­ä»£å™¨ç­‰ã€‚ ç‰¹ç‚¹ï¼š å›ºå®šå¤§å°ï¼Œå¤§å°åœ¨ç¼–è¯‘æ—¶ç¡®å®šã€‚ æ”¯æŒSTLå®¹å™¨çš„æ‰€æœ‰æ“ä½œï¼Œå¦‚è¿­ä»£å™¨ã€ç®—æ³•ç­‰ã€‚ ä¸æ”¯æŒåŠ¨æ€å¤§å°è°ƒæ•´ã€‚ 5.1.2 std::arrayçš„åŸºæœ¬ç”¨æ³•ç¤ºä¾‹ï¼š 1234567891011121314151617181920212223242526272829#include &lt;iostream&gt;#include &lt;array&gt;#include &lt;algorithm&gt;int main() &#123; // å®šä¹‰ä¸€ä¸ªåŒ…å«5ä¸ªæ•´æ•°çš„std::array std::array&lt;int, 5&gt; arr = &#123;1, 2, 3, 4, 5&#125;; // è®¿é—®å…ƒç´  std::cout &lt;&lt; &quot;First element: &quot; &lt;&lt; arr[0] &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Last element: &quot; &lt;&lt; arr[arr.size() - 1] &lt;&lt; std::endl; // éå†æ•°ç»„ std::cout &lt;&lt; &quot;Elements: &quot;; for(auto num : arr) &#123; std::cout &lt;&lt; num &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; // ä½¿ç”¨STLç®—æ³• std::cout &lt;&lt; &quot;Elements in reverse: &quot;; std::reverse(arr.begin(), arr.end()); for(auto num : arr) &#123; std::cout &lt;&lt; num &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; return 0;&#125; è¾“å‡ºï¼š 1234First element: 1Last element: 5Elements: 1 2 3 4 5 Elements in reverse: 5 4 3 2 1 è§£é‡Šï¼š std::arrayæä¾›äº†ä¸Cé£æ ¼æ•°ç»„ç›¸ä¼¼çš„è®¿é—®æ–¹å¼ï¼ŒåŒæ—¶æ”¯æŒSTLç®—æ³•ï¼Œæé«˜äº†ä»£ç çš„çµæ´»æ€§å’Œå¯è¯»æ€§ã€‚ é€šè¿‡std::reverseç­‰ç®—æ³•ï¼Œå¯ä»¥æ–¹ä¾¿åœ°æ“ä½œstd::arrayä¸­çš„å…ƒç´ ã€‚ 5.2 std::forward_list5.2.1 std::forward_listçš„æ¦‚å¿µstd::forward_listæ˜¯C++11å¼•å…¥çš„å•å‘é“¾è¡¨å®¹å™¨ï¼Œé€‚ç”¨äºéœ€è¦é¢‘ç¹æ’å…¥å’Œåˆ é™¤æ“ä½œä½†ä¸éœ€è¦éšæœºè®¿é—®çš„åœºæ™¯ã€‚ç›¸æ¯”std::listï¼Œstd::forward_listå…·æœ‰æ›´å°çš„å†…å­˜å ç”¨å’Œæ›´é«˜çš„æ€§èƒ½ã€‚ ç‰¹ç‚¹ï¼š å•å‘é“¾è¡¨ï¼Œæ”¯æŒé«˜æ•ˆçš„å‰å‘éå†ã€‚ ä¸æ”¯æŒåŒå‘è¿­ä»£å™¨æˆ–éšæœºè®¿é—®ã€‚ å†…å­˜å ç”¨è¾ƒä½ï¼Œé€‚ç”¨äºå¤§é‡å°å‹å…ƒç´ çš„å­˜å‚¨ã€‚ 5.2.2 std::forward_listçš„åŸºæœ¬ç”¨æ³•ç¤ºä¾‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243#include &lt;iostream&gt;#include &lt;forward_list&gt;#include &lt;algorithm&gt;int main() &#123; // å®šä¹‰ä¸€ä¸ªstd::forward_list std::forward_list&lt;int&gt; flist = &#123;10, 20, 30, 40, 50&#125;; // éå†å¹¶æ‰“å°å…ƒç´  std::cout &lt;&lt; &quot;Forward list elements: &quot;; for(auto it = flist.begin(); it != flist.end(); ++it) &#123; std::cout &lt;&lt; *it &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; // æ’å…¥å…ƒç´  flist.insert_after(flist.begin(), 15); flist.emplace_after(flist.begin(), 12); std::cout &lt;&lt; &quot;After insertion: &quot;; for(auto num : flist) &#123; std::cout &lt;&lt; num &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; // åˆ é™¤å…ƒç´  flist.remove(30); std::cout &lt;&lt; &quot;After removal: &quot;; for(auto num : flist) &#123; std::cout &lt;&lt; num &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; // ä½¿ç”¨STLç®—æ³• flist.sort(); std::cout &lt;&lt; &quot;After sorting: &quot;; for(auto num : flist) &#123; std::cout &lt;&lt; num &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; return 0;&#125; è¾“å‡ºï¼š 1234Forward list elements: 10 20 30 40 50 After insertion: 10 12 15 20 30 40 50 After removal: 10 12 15 20 40 50 After sorting: 10 12 15 20 40 50 è§£é‡Šï¼š insert_afterå’Œemplace_afterç”¨äºåœ¨æŒ‡å®šä½ç½®åæ’å…¥æ–°å…ƒç´ ï¼Œé€‚ç”¨äºå•å‘é“¾è¡¨çš„æ“ä½œã€‚ removeç”¨äºåˆ é™¤æ‰€æœ‰åŒ¹é…ç‰¹å®šå€¼çš„å…ƒç´ ã€‚ sortç®—æ³•å¯¹std::forward_listä¸­çš„å…ƒç´ è¿›è¡Œæ’åºã€‚ 5.3 std::tuple5.3.1 std::tupleçš„æ¦‚å¿µstd::tupleæ˜¯C++11å¼•å…¥çš„ä¸€ä¸ªå›ºå®šå¤§å°çš„å®¹å™¨ï¼Œç”¨äºå­˜å‚¨ä¸åŒç±»å‹çš„å…ƒç´ ã€‚ä¸std::pairç›¸æ¯”ï¼Œstd::tupleå¯ä»¥å­˜å‚¨ä»»æ„æ•°é‡å’Œç±»å‹çš„å…ƒç´ ï¼Œé€‚ç”¨äºéœ€è¦å°†å¤šä¸ªä¸åŒç±»å‹çš„å€¼ç»„åˆåœ¨ä¸€èµ·çš„åœºæ™¯ã€‚ ç‰¹ç‚¹ï¼š å¯ä»¥å­˜å‚¨ä¸åŒç±»å‹çš„å…ƒç´ ã€‚ æ”¯æŒè®¿é—®å•ä¸ªå…ƒç´ ï¼Œé€šè¿‡std::getæˆ–std::tieã€‚ æ”¯æŒè§£æ„å’Œç»“æ„åŒ–ç»‘å®šï¼ˆC++17å¼•å…¥ï¼‰ã€‚ 5.3.2 std::tupleçš„åŸºæœ¬ç”¨æ³•ç¤ºä¾‹ï¼š 1234567891011121314151617181920212223242526#include &lt;iostream&gt;#include &lt;tuple&gt;#include &lt;string&gt;int main() &#123; // å®šä¹‰ä¸€ä¸ªstd::tuple std::tuple&lt;std::string, int, double&gt; person(&quot;Alice&quot;, 30, 5.5); // è®¿é—®å…ƒç´  std::cout &lt;&lt; &quot;Name: &quot; &lt;&lt; std::get&lt;0&gt;(person) &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Age: &quot; &lt;&lt; std::get&lt;1&gt;(person) &lt;&lt; std::endl; std::cout &lt;&lt; &quot;Height: &quot; &lt;&lt; std::get&lt;2&gt;(person) &lt;&lt; &quot; feet&quot; &lt;&lt; std::endl; // ä¿®æ”¹å…ƒç´  std::get&lt;1&gt;(person) = 31; std::cout &lt;&lt; &quot;Updated Age: &quot; &lt;&lt; std::get&lt;1&gt;(person) &lt;&lt; std::endl; // ä½¿ç”¨std::tieè¿›è¡Œè§£æ„ std::string name; int age; double height; std::tie(name, age, height) = person; std::cout &lt;&lt; &quot;Destructured Tuple - Name: &quot; &lt;&lt; name &lt;&lt; &quot;, Age: &quot; &lt;&lt; age &lt;&lt; &quot;, Height: &quot; &lt;&lt; height &lt;&lt; &quot; feet&quot; &lt;&lt; std::endl; return 0;&#125; è¾“å‡ºï¼š 12345Name: AliceAge: 30Height: 5.5 feetUpdated Age: 31Destructured Tuple - Name: Alice, Age: 31, Height: 5.5 feet è§£é‡Šï¼š ä½¿ç”¨std::getæŒ‰ç´¢å¼•è®¿é—®tupleä¸­çš„å…ƒç´ ã€‚ é€šè¿‡std::tieè¿›è¡Œè§£æ„ï¼Œå°†tupleä¸­çš„å…ƒç´ èµ‹å€¼ç»™ç‹¬ç«‹çš„å˜é‡ã€‚ std::tupleé€‚ç”¨äºå‡½æ•°è¿”å›å¤šä¸ªå€¼æˆ–å­˜å‚¨å¼‚æ„æ•°æ®çš„åœºæ™¯ã€‚ 5.4 åœ¨Qtä¸­çš„åº”ç”¨åœ¨Qtå¼€å‘ä¸­ï¼Œstd::tupleå¯ç”¨äºå­˜å‚¨å’Œä¼ é€’å¤šä¸ªç›¸å…³ä½†ç±»å‹ä¸åŒçš„æ•°æ®ï¼Œå¦‚å‡½æ•°è¿”å›å¤šä¸ªå€¼ï¼Œæˆ–åœ¨æ¨¡å‹-è§†å›¾æ¶æ„ä¸­ç®¡ç†å¤æ‚çš„æ•°æ®ç»“æ„ã€‚ ç¤ºä¾‹ï¼šå‡½æ•°è¿”å›å¤šä¸ªå€¼ 123456789101112131415161718192021222324#include &lt;QCoreApplication&gt;#include &lt;tuple&gt;#include &lt;QString&gt;#include &lt;QDebug&gt;// å‡½æ•°è¿”å›ä¸€ä¸ªtupleï¼ŒåŒ…å«QStringå’Œintstd::tuple&lt;QString, int&gt; getUserInfo() &#123; QString name = &quot;Bob&quot;; int age = 28; return std::make_tuple(name, age);&#125;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); auto userInfo = getUserInfo(); QString name = std::get&lt;0&gt;(userInfo); int age = std::get&lt;1&gt;(userInfo); qDebug() &lt;&lt; &quot;User Name:&quot; &lt;&lt; name; qDebug() &lt;&lt; &quot;User Age:&quot; &lt;&lt; age; return a.exec();&#125; è¾“å‡ºï¼š 12User Name: &quot;Bob&quot;User Age: 28 è§£é‡Šï¼š getUserInfoå‡½æ•°è¿”å›ä¸€ä¸ªåŒ…å«å§“åå’Œå¹´é¾„çš„std::tupleã€‚ åœ¨mainå‡½æ•°ä¸­ï¼Œé€šè¿‡std::getè®¿é—®å¹¶ä½¿ç”¨tupleä¸­çš„å„ä¸ªå…ƒç´ ã€‚ 6. åƒåœ¾å›æ”¶æœºåˆ¶ï¼šRAII ä¸æ™ºèƒ½æŒ‡é’ˆ6.1 RAIIï¼ˆèµ„æºè·å–å³åˆå§‹åŒ–ï¼‰RAIIæ˜¯ä¸€ç§C++ç¼–ç¨‹æƒ¯ç”¨æ³•ï¼Œé€šè¿‡å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†èµ„æºï¼Œç¡®ä¿èµ„æºåœ¨å¯¹è±¡åˆ›å»ºæ—¶è¢«è·å–ï¼Œåœ¨å¯¹è±¡é”€æ¯æ—¶è¢«é‡Šæ”¾ã€‚è¿™ç§æ–¹å¼æœ‰æ•ˆé˜²æ­¢äº†èµ„æºæ³„æ¼å’Œæ‚¬ç©ºæŒ‡é’ˆé—®é¢˜ã€‚ ç¤ºä¾‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243#include &lt;iostream&gt;#include &lt;fstream&gt;#include &lt;string&gt;class FileHandler &#123;public: FileHandler(const std::string&amp; filename) &#123; file_.open(filename); if(file_.is_open()) &#123; std::cout &lt;&lt; &quot;File opened: &quot; &lt;&lt; filename &lt;&lt; std::endl; &#125; else &#123; throw std::runtime_error(&quot;æ— æ³•æ‰“å¼€æ–‡ä»¶: &quot; + filename); &#125; &#125; ~FileHandler() &#123; if(file_.is_open()) &#123; file_.close(); std::cout &lt;&lt; &quot;File closed.&quot; &lt;&lt; std::endl; &#125; &#125; void write(const std::string&amp; data) &#123; if(file_.is_open()) &#123; file_ &lt;&lt; data &lt;&lt; std::endl; &#125; &#125;private: std::ofstream file_;&#125;;int main() &#123; try &#123; FileHandler fh(&quot;example.txt&quot;); fh.write(&quot;Hello, RAII!&quot;); // å½“fhå¯¹è±¡ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼Œæ–‡ä»¶è‡ªåŠ¨å…³é—­ &#125; catch(const std::exception&amp; e) &#123; std::cerr &lt;&lt; &quot;å¼‚å¸¸æ•è·: &quot; &lt;&lt; e.what() &lt;&lt; std::endl; &#125; return 0;&#125; è¾“å‡ºï¼š 12File opened: example.txtFile closed. è§£é‡Šï¼š FileHandlerç±»åœ¨æ„é€ å‡½æ•°ä¸­æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶åœ¨ææ„å‡½æ•°ä¸­å…³é—­æ–‡ä»¶ã€‚ æ— è®ºå‡½æ•°å¦‚ä½•é€€å‡ºï¼Œææ„å‡½æ•°éƒ½ä¼šè¢«è°ƒç”¨ï¼Œç¡®ä¿æ–‡ä»¶èµ„æºè¢«æ­£ç¡®é‡Šæ”¾ã€‚ 6.2 æ™ºèƒ½æŒ‡é’ˆC++11å¼•å…¥äº†æ™ºèƒ½æŒ‡é’ˆï¼Œè¿›ä¸€æ­¥ç®€åŒ–äº†èµ„æºç®¡ç†ï¼Œé¿å…äº†æ‰‹åŠ¨ç®¡ç†å†…å­˜çš„å¤æ‚æ€§å’Œé£é™©ã€‚ä¸»è¦çš„æ™ºèƒ½æŒ‡é’ˆç±»å‹åŒ…æ‹¬std::unique_ptrã€std::shared_ptrå’Œstd::weak_ptrã€‚ 6.2.1 std::unique_ptrstd::unique_ptrè¡¨ç¤ºå¯¹åŠ¨æ€åˆ†é…å¯¹è±¡çš„ç‹¬å æ‰€æœ‰æƒï¼Œä¸èƒ½å¤åˆ¶ï¼Œåªèƒ½ç§»åŠ¨ã€‚é€‚ç”¨äºéœ€è¦å”¯ä¸€æ‰€æœ‰æƒçš„åœºæ™¯ã€‚ ç¤ºä¾‹ï¼š 12345678910111213141516171819202122232425262728#include &lt;iostream&gt;#include &lt;memory&gt;class Widget &#123;public: Widget() &#123; std::cout &lt;&lt; &quot;Widgetæ„é€ ã€‚&quot; &lt;&lt; std::endl; &#125; ~Widget() &#123; std::cout &lt;&lt; &quot;Widgetææ„ã€‚&quot; &lt;&lt; std::endl; &#125; void greet() const &#123; std::cout &lt;&lt; &quot;Hello from Widget!&quot; &lt;&lt; std::endl; &#125;&#125;;int main() &#123; // åˆ›å»ºä¸€ä¸ªunique_ptr std::unique_ptr&lt;Widget&gt; ptr1 = std::make_unique&lt;Widget&gt;(); ptr1-&gt;greet(); // ä¸èƒ½å¤åˆ¶unique_ptrï¼Œä»¥ä¸‹ä»£ç å°†å¯¼è‡´ç¼–è¯‘é”™è¯¯ // std::unique_ptr&lt;Widget&gt; ptr2 = ptr1; // å¯ä»¥ç§»åŠ¨unique_ptr std::unique_ptr&lt;Widget&gt; ptr2 = std::move(ptr1); if(!ptr1) &#123; std::cout &lt;&lt; &quot;ptr1ä¸å†æ‹¥æœ‰Widgetã€‚&quot; &lt;&lt; std::endl; &#125; ptr2-&gt;greet(); return 0;&#125; è¾“å‡ºï¼š 12345Widgetæ„é€ ã€‚Hello from Widget!ptr1ä¸å†æ‹¥æœ‰Widgetã€‚Hello from Widget!Widgetææ„ã€‚ è§£é‡Šï¼š std::unique_ptrç¡®ä¿åŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªæŒ‡é’ˆæ‹¥æœ‰èµ„æºï¼Œé˜²æ­¢èµ„æºè¢«å¤šæ¬¡é‡Šæ”¾ã€‚ é€šè¿‡std::moveè½¬ç§»æ‰€æœ‰æƒï¼Œå®ç°èµ„æºçš„æ‰€æœ‰æƒç®¡ç†ã€‚ 6.2.2 std::shared_ptrstd::shared_ptrå…è®¸å¤šä¸ªæŒ‡é’ˆå…±äº«åŒä¸€ä¸ªåŠ¨æ€åˆ†é…å¯¹è±¡ï¼Œé€šè¿‡å¼•ç”¨è®¡æ•°ç®¡ç†å¯¹è±¡ç”Ÿå‘½å‘¨æœŸã€‚å½“æœ€åä¸€ä¸ªshared_ptrè¢«é”€æ¯æ—¶ï¼Œèµ„æºè¢«é‡Šæ”¾ã€‚ ç¤ºä¾‹ï¼š 1234567891011121314151617181920#include &lt;iostream&gt;#include &lt;memory&gt;class Gadget &#123;public: Gadget() &#123; std::cout &lt;&lt; &quot;Gadgetæ„é€ ã€‚&quot; &lt;&lt; std::endl; &#125; ~Gadget() &#123; std::cout &lt;&lt; &quot;Gadgetææ„ã€‚&quot; &lt;&lt; std::endl; &#125; void show() const &#123; std::cout &lt;&lt; &quot;Gadgetåœ¨å·¥ä½œã€‚&quot; &lt;&lt; std::endl; &#125;&#125;;int main() &#123; std::shared_ptr&lt;Gadget&gt; sp1 = std::make_shared&lt;Gadget&gt;(); &#123; std::shared_ptr&lt;Gadget&gt; sp2 = sp1; // å¼•ç”¨è®¡æ•°å¢åŠ  sp2-&gt;show(); std::cout &lt;&lt; &quot;å¼•ç”¨è®¡æ•°: &quot; &lt;&lt; sp1.use_count() &lt;&lt; std::endl; &#125; // sp2ææ„ï¼Œå¼•ç”¨è®¡æ•°å‡å°‘ std::cout &lt;&lt; &quot;å¼•ç”¨è®¡æ•°: &quot; &lt;&lt; sp1.use_count() &lt;&lt; std::endl; return 0;&#125; è¾“å‡ºï¼š 12345Gadgetæ„é€ ã€‚Gadgetåœ¨å·¥ä½œã€‚å¼•ç”¨è®¡æ•°: 2å¼•ç”¨è®¡æ•°: 1Gadgetææ„ã€‚ è§£é‡Šï¼š std::shared_ptré€šè¿‡å†…éƒ¨å¼•ç”¨è®¡æ•°ç®¡ç†èµ„æºï¼Œå½“å¼•ç”¨è®¡æ•°ä¸ºé›¶æ—¶ï¼Œè‡ªåŠ¨é‡Šæ”¾èµ„æºã€‚ å¤šä¸ªshared_ptrå¯ä»¥å®‰å…¨åœ°å…±äº«åŒä¸€èµ„æºï¼Œé€‚ç”¨äºéœ€è¦å…±äº«æ‰€æœ‰æƒçš„åœºæ™¯ã€‚ 6.2.3 std::weak_ptrstd::weak_ptræ˜¯std::shared_ptrçš„è¾…åŠ©å·¥å…·ï¼Œç”¨äºè§‚å¯Ÿä½†ä¸æ‹¥æœ‰èµ„æºï¼Œä¸å¢åŠ å¼•ç”¨è®¡æ•°ã€‚ä¸»è¦ç”¨äºè§£å†³å¾ªç¯å¼•ç”¨é—®é¢˜ã€‚ ç¤ºä¾‹ï¼š 1234567891011121314151617181920212223242526272829303132#include &lt;iostream&gt;#include &lt;memory&gt;class Node &#123;public: std::shared_ptr&lt;Node&gt; next; std::weak_ptr&lt;Node&gt; prev; // ä½¿ç”¨weak_ptré¿å…å¾ªç¯å¼•ç”¨ Node(int value) : value_(value) &#123; std::cout &lt;&lt; &quot;Node &quot; &lt;&lt; value_ &lt;&lt; &quot; æ„é€ ã€‚&quot; &lt;&lt; std::endl; &#125; ~Node() &#123; std::cout &lt;&lt; &quot;Node &quot; &lt;&lt; value_ &lt;&lt; &quot; ææ„ã€‚&quot; &lt;&lt; std::endl; &#125;private: int value_;&#125;;int main() &#123; std::shared_ptr&lt;Node&gt; node1 = std::make_shared&lt;Node&gt;(1); std::shared_ptr&lt;Node&gt; node2 = std::make_shared&lt;Node&gt;(2); node1-&gt;next = node2; node2-&gt;prev = node1; // ä½¿ç”¨weak_ptrï¼Œä¸å¢åŠ å¼•ç”¨è®¡æ•° std::cout &lt;&lt; &quot;node1å¼•ç”¨è®¡æ•°: &quot; &lt;&lt; node1.use_count() &lt;&lt; std::endl; // è¾“å‡º1 std::cout &lt;&lt; &quot;node2å¼•ç”¨è®¡æ•°: &quot; &lt;&lt; node2.use_count() &lt;&lt; std::endl; // è¾“å‡º2 return 0;&#125; è¾“å‡ºï¼š 123456Node 1 æ„é€ ã€‚Node 2 æ„é€ ã€‚node1å¼•ç”¨è®¡æ•°: 1node2å¼•ç”¨è®¡æ•°: 2Node 2 ææ„ã€‚Node 1 ææ„ã€‚ è§£é‡Šï¼š Nodeç±»ä¸­çš„prevæŒ‡é’ˆä½¿ç”¨std::weak_ptrï¼Œé¿å…äº†node1å’Œnode2ä¹‹é—´çš„å¾ªç¯å¼•ç”¨ã€‚ é€šè¿‡std::weak_ptrï¼Œnode2å¯ä»¥è§‚å¯Ÿnode1ï¼Œä½†ä¸ä¼šå¢åŠ å…¶å¼•ç”¨è®¡æ•°ï¼Œç¡®ä¿èµ„æºèƒ½å¤Ÿè¢«æ­£ç¡®é‡Šæ”¾ã€‚ 6.3 RAIIä¸æ™ºèƒ½æŒ‡é’ˆçš„ç»“åˆé€šè¿‡å°†RAIIä¸æ™ºèƒ½æŒ‡é’ˆç»“åˆä½¿ç”¨ï¼Œå¯ä»¥å®ç°æ›´å®‰å…¨å’Œé«˜æ•ˆçš„èµ„æºç®¡ç†ï¼Œé¿å…å†…å­˜æ³„æ¼å’Œèµ„æºæ³„æ¼é—®é¢˜ã€‚ ç¤ºä¾‹ï¼š 1234567891011121314151617181920212223242526272829303132#include &lt;iostream&gt;#include &lt;memory&gt;#include &lt;fstream&gt;class FileWriter &#123;public: FileWriter(const std::string&amp; filename) : file_(std::make_unique&lt;std::ofstream&gt;(filename)) &#123; if(!file_-&gt;is_open()) &#123; throw std::runtime_error(&quot;æ— æ³•æ‰“å¼€æ–‡ä»¶: &quot; + filename); &#125; std::cout &lt;&lt; &quot;æ–‡ä»¶å·²æ‰“å¼€: &quot; &lt;&lt; filename &lt;&lt; std::endl; &#125; void write(const std::string&amp; data) &#123; *file_ &lt;&lt; data &lt;&lt; std::endl; &#125;private: std::unique_ptr&lt;std::ofstream&gt; file_;&#125;;int main() &#123; try &#123; FileWriter fw(&quot;output.txt&quot;); fw.write(&quot;Hello, RAII and Smart Pointers!&quot;); // FileWriterå¯¹è±¡ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼Œæ–‡ä»¶è‡ªåŠ¨å…³é—­ &#125; catch(const std::exception&amp; e) &#123; std::cerr &lt;&lt; &quot;å¼‚å¸¸æ•è·: &quot; &lt;&lt; e.what() &lt;&lt; std::endl; &#125; return 0;&#125; è¾“å‡ºï¼š 1æ–‡ä»¶å·²æ‰“å¼€: output.txt è§£é‡Šï¼š FileWriterç±»ä½¿ç”¨std::unique_ptrç®¡ç†std::ofstreamå¯¹è±¡ï¼Œç¡®ä¿æ–‡ä»¶åœ¨FileWriterå¯¹è±¡é”€æ¯æ—¶è‡ªåŠ¨å…³é—­ã€‚ ç»“åˆRAIIå’Œæ™ºèƒ½æŒ‡é’ˆï¼Œç®€åŒ–äº†èµ„æºç®¡ç†ï¼Œæå‡äº†ä»£ç çš„å®‰å…¨æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ 6.4 åœ¨Qtä¸­çš„åº”ç”¨åœ¨Qtå¼€å‘ä¸­ï¼ŒRAIIå’Œæ™ºèƒ½æŒ‡é’ˆè¢«å¹¿æ³›åº”ç”¨äºç®¡ç†èµ„æºï¼Œå¦‚å†…å­˜ã€æ–‡ä»¶å¥æŸ„ã€ç½‘ç»œè¿æ¥ç­‰ã€‚ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆå¯ä»¥æœ‰æ•ˆé¿å…å†…å­˜æ³„æ¼å’Œèµ„æºæ³„æ¼é—®é¢˜ï¼Œæå‡åº”ç”¨ç¨‹åºçš„ç¨³å®šæ€§å’Œå¯é æ€§ã€‚ ç¤ºä¾‹ï¼šä½¿ç”¨std::shared_ptrç®¡ç†QObject 123456789101112131415161718192021222324252627282930313233343536373839#include &lt;QCoreApplication&gt;#include &lt;QObject&gt;#include &lt;memory&gt;#include &lt;QDebug&gt;class Worker : public QObject &#123; Q_OBJECTpublic: Worker() &#123; qDebug() &lt;&lt; &quot;Workeræ„é€ ã€‚&quot;; &#125; ~Worker() &#123; qDebug() &lt;&lt; &quot;Workerææ„ã€‚&quot;; &#125;public slots: void doWork() &#123; qDebug() &lt;&lt; &quot;Workeræ­£åœ¨å·¥ä½œ...&quot;; &#125;&#125;;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); // ä½¿ç”¨std::shared_ptrç®¡ç†Workerå¯¹è±¡ std::shared_ptr&lt;Worker&gt; workerPtr = std::make_shared&lt;Worker&gt;(); // å°†QObjectçš„ç”Ÿå‘½å‘¨æœŸä¸shared_ptrç»‘å®š QObject::connect(&amp;a, &amp;QCoreApplication::aboutToQuit, [&amp;]() &#123; workerPtr.reset(); // é‡Šæ”¾Workerå¯¹è±¡ &#125;); workerPtr-&gt;doWork(); return a.exec();&#125;#include &quot;main.moc&quot; è¾“å‡ºï¼š 123Workeræ„é€ ã€‚Workeræ­£åœ¨å·¥ä½œ...Workerææ„ã€‚ è§£é‡Šï¼š ä½¿ç”¨std::shared_ptrç®¡ç†Workerå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œç¡®ä¿åœ¨åº”ç”¨ç¨‹åºé€€å‡ºå‰æ­£ç¡®é‡Šæ”¾èµ„æºã€‚ é€šè¿‡è¿æ¥QCoreApplication::aboutToQuitä¿¡å·ï¼Œå¯ä»¥åœ¨åº”ç”¨ç¨‹åºé€€å‡ºå‰æ‰§è¡Œèµ„æºé‡Šæ”¾æ“ä½œï¼Œæå‡èµ„æºç®¡ç†çš„çµæ´»æ€§ã€‚ 7. æ­£åˆ™è¡¨è¾¾å¼åŸºç¡€ï¼ˆRegular Expressionsï¼‰7.1 æ­£åˆ™è¡¨è¾¾å¼çš„æ¦‚å¿µæ­£åˆ™è¡¨è¾¾å¼ï¼ˆRegular Expressionsï¼‰æ˜¯ä¸€ç§ç”¨äºåŒ¹é…å­—ç¬¦ä¸²ä¸­å­—ç¬¦ç»„åˆçš„æ¨¡å¼ã€‚å®ƒå¹¿æ³›åº”ç”¨äºæ–‡æœ¬æœç´¢ã€æ›¿æ¢ã€éªŒè¯ç­‰ä»»åŠ¡ã€‚åœ¨C++11ä¸­ï¼Œæ ‡å‡†åº“å¼•å…¥äº†&lt;regex&gt;å¤´æ–‡ä»¶ï¼Œæä¾›äº†å¯¹æ­£åˆ™è¡¨è¾¾å¼çš„å…¨é¢æ”¯æŒã€‚ 7.2 ä½¿ç”¨C++11ä¸­çš„æ­£åˆ™è¡¨è¾¾å¼åº“7.2.1 åŸºæœ¬ç”¨æ³•ç¤ºä¾‹ï¼šåŒ¹é…é‚®ç®±åœ°å€ 1234567891011121314151617#include &lt;iostream&gt;#include &lt;regex&gt;#include &lt;string&gt;int main() &#123; std::string email = &quot;user@example.com&quot;; // å®šä¹‰é‚®ç®±çš„æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ std::regex email_pattern(R&quot;((\\w+)(\\.\\w+)*@(\\w+\\.)+(\\w+))&quot;); if (std::regex_match(email, email_pattern)) &#123; std::cout &lt;&lt; &quot;æœ‰æ•ˆçš„é‚®ç®±åœ°å€ã€‚&quot; &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;æ— æ•ˆçš„é‚®ç®±åœ°å€ã€‚&quot; &lt;&lt; std::endl; &#125; return 0;&#125; è¾“å‡ºï¼š 1æœ‰æ•ˆçš„é‚®ç®±åœ°å€ã€‚ è§£é‡Šï¼š std::regexç”¨äºå®šä¹‰æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ã€‚ std::regex_matchç”¨äºæ£€æŸ¥æ•´ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…ç»™å®šçš„æ¨¡å¼ã€‚ R&quot;(...)&quot;æ˜¯åŸå§‹å­—ç¬¦ä¸²å­—é¢é‡ï¼Œé¿å…äº†è½¬ä¹‰å­—ç¬¦çš„å¤æ‚æ€§ã€‚ 7.2.2 æœç´¢å’Œæ›¿æ¢ç¤ºä¾‹ï¼šåœ¨æ–‡æœ¬ä¸­æŸ¥æ‰¾å¹¶æ›¿æ¢ç‰¹å®šæ¨¡å¼ 12345678910111213141516#include &lt;iostream&gt;#include &lt;regex&gt;#include &lt;string&gt;int main() &#123; std::string text = &quot;C++11 introduced many features like auto, lambda, and smart pointers.&quot;; // å®šä¹‰è¦æŸ¥æ‰¾çš„å…³é”®è¯ std::regex feature_pattern(R&quot;(\\b(auto|lambda|smart pointers)\\b)&quot;); // æ›¿æ¢ä¸ºå¼ºè°ƒæ ¼å¼ std::string replaced_text = std::regex_replace(text, feature_pattern, &quot;&lt;strong&gt;$1&lt;/strong&gt;&quot;); std::cout &lt;&lt; replaced_text &lt;&lt; std::endl; return 0;&#125; è¾“å‡ºï¼š 1C++11 introduced many features like &lt;strong&gt;auto&lt;/strong&gt;, &lt;strong&gt;lambda&lt;/strong&gt;, and &lt;strong&gt;smart pointers&lt;/strong&gt;. è§£é‡Šï¼š std::regex_replaceç”¨äºåœ¨å­—ç¬¦ä¸²ä¸­æŸ¥æ‰¾åŒ¹é…çš„éƒ¨åˆ†å¹¶è¿›è¡Œæ›¿æ¢ã€‚ $1è¡¨ç¤ºç¬¬ä¸€ä¸ªæ•è·ç»„ï¼Œå³autoã€lambdaæˆ–smart pointersã€‚ 7.2.3 åˆ†å‰²å­—ç¬¦ä¸²ç¤ºä¾‹ï¼šä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åˆ†å‰²å­—ç¬¦ä¸² 123456789101112131415161718192021222324#include &lt;iostream&gt;#include &lt;regex&gt;#include &lt;string&gt;#include &lt;vector&gt;int main() &#123; std::string data = &quot;apple, banana; cherry|date&quot;; // å®šä¹‰åˆ†éš”ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ std::regex delimiter(R&quot;([,;|])&quot;); std::sregex_token_iterator it(data.begin(), data.end(), delimiter, -1); std::sregex_token_iterator end; std::vector&lt;std::string&gt; fruits; for(; it != end; ++it) &#123; fruits.push_back(it-&gt;str()); &#125; std::cout &lt;&lt; &quot;Fruits:&quot; &lt;&lt; std::endl; for(const auto&amp; fruit : fruits) &#123; std::cout &lt;&lt; fruit &lt;&lt; std::endl; &#125; return 0;&#125; è¾“å‡ºï¼š 12345Fruits:apple banana cherrydate è§£é‡Šï¼š std::sregex_token_iteratorç”¨äºæ ¹æ®æ­£åˆ™è¡¨è¾¾å¼åˆ†å‰²å­—ç¬¦ä¸²ã€‚ å‚æ•°-1è¡¨ç¤ºè·å–åˆ†å‰²åçš„å­å­—ç¬¦ä¸²ã€‚ 7.3 åœ¨Qtä¸­çš„åº”ç”¨åœ¨Qtå¼€å‘ä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼å¸¸ç”¨äºè¾“å…¥éªŒè¯ã€æ•°æ®è§£æå’Œæ–‡æœ¬å¤„ç†ã€‚Qtæä¾›äº†QRegExpï¼ˆQt 5ï¼‰å’ŒQRegularExpressionï¼ˆQt 5.2åŠæ›´é«˜ç‰ˆæœ¬ï¼‰ç±»æ¥æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼æ“ä½œã€‚ ç¤ºä¾‹ï¼šä½¿ç”¨QRegularExpressionéªŒè¯é‚®ç®±åœ°å€ 123456789101112131415161718192021#include &lt;QCoreApplication&gt;#include &lt;QRegularExpression&gt;#include &lt;QString&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); QString email = &quot;user@example.com&quot;; // å®šä¹‰é‚®ç®±çš„æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ QRegularExpression email_pattern(R&quot;((\\w+)(\\.\\w+)*@(\\w+\\.)+(\\w+))&quot;); QRegularExpressionMatch match = email_pattern.match(email); if(match.hasMatch()) &#123; qDebug() &lt;&lt; &quot;æœ‰æ•ˆçš„é‚®ç®±åœ°å€ã€‚&quot;; &#125; else &#123; qDebug() &lt;&lt; &quot;æ— æ•ˆçš„é‚®ç®±åœ°å€ã€‚&quot;; &#125; return a.exec();&#125; è¾“å‡ºï¼š 1æœ‰æ•ˆçš„é‚®ç®±åœ°å€ã€‚ è§£é‡Šï¼š QRegularExpressionç”¨äºå®šä¹‰æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ã€‚ matchæ–¹æ³•ç”¨äºæ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…æ¨¡å¼ã€‚ hasMatch()æ–¹æ³•åˆ¤æ–­æ˜¯å¦æˆåŠŸåŒ¹é…ã€‚ 8. æ™ºèƒ½æŒ‡é’ˆï¼šshared_ptrã€unique_ptr ä¸ weak_ptr8.1 æ™ºèƒ½æŒ‡é’ˆçš„æ¦‚å¿µæ™ºèƒ½æŒ‡é’ˆæ˜¯C++11å¼•å…¥çš„ä¸€ç§RAIIï¼ˆèµ„æºè·å–å³åˆå§‹åŒ–ï¼‰å·¥å…·ï¼Œç”¨äºè‡ªåŠ¨ç®¡ç†åŠ¨æ€åˆ†é…çš„å†…å­˜ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼å’Œæ‚¬æŒ‚æŒ‡é’ˆé—®é¢˜ã€‚C++æ ‡å‡†åº“æä¾›äº†ä¸‰ç§æ™ºèƒ½æŒ‡é’ˆç±»å‹ï¼šstd::unique_ptrã€std::shared_ptrå’Œstd::weak_ptrã€‚ 8.2 std::unique_ptr8.2.1 std::unique_ptrçš„ç‰¹ç‚¹ ç‹¬å æ‰€æœ‰æƒï¼šæ¯ä¸ªunique_ptråªèƒ½æ‹¥æœ‰ä¸€ä¸ªæŒ‡é’ˆã€‚ ä¸å¯å¤åˆ¶ï¼šunique_pträ¸å¯è¢«å¤åˆ¶ï¼Œä½†å¯ä»¥è¢«ç§»åŠ¨ã€‚ è½»é‡çº§ï¼šæ²¡æœ‰é¢å¤–çš„å¼•ç”¨è®¡æ•°å¼€é”€ã€‚ 8.2.2 ä½¿ç”¨ç¤ºä¾‹ç¤ºä¾‹ï¼šç®¡ç†åŠ¨æ€åˆ†é…çš„å¯¹è±¡ 12345678910111213141516171819202122232425262728#include &lt;iostream&gt;#include &lt;memory&gt;class Widget &#123;public: Widget() &#123; std::cout &lt;&lt; &quot;Widgetæ„é€ ã€‚&quot; &lt;&lt; std::endl; &#125; ~Widget() &#123; std::cout &lt;&lt; &quot;Widgetææ„ã€‚&quot; &lt;&lt; std::endl; &#125; void greet() const &#123; std::cout &lt;&lt; &quot;Hello from Widget!&quot; &lt;&lt; std::endl; &#125;&#125;;int main() &#123; // åˆ›å»ºä¸€ä¸ªunique_ptr std::unique_ptr&lt;Widget&gt; ptr1 = std::make_unique&lt;Widget&gt;(); ptr1-&gt;greet(); // ä¸èƒ½å¤åˆ¶unique_ptrï¼Œä»¥ä¸‹ä»£ç å°†å¯¼è‡´ç¼–è¯‘é”™è¯¯ // std::unique_ptr&lt;Widget&gt; ptr2 = ptr1; // å¯ä»¥ç§»åŠ¨unique_ptr std::unique_ptr&lt;Widget&gt; ptr2 = std::move(ptr1); if(!ptr1) &#123; std::cout &lt;&lt; &quot;ptr1ä¸å†æ‹¥æœ‰Widgetã€‚&quot; &lt;&lt; std::endl; &#125; ptr2-&gt;greet(); return 0;&#125; è¾“å‡ºï¼š 12345Widgetæ„é€ ã€‚Hello from Widget!ptr1ä¸å†æ‹¥æœ‰Widgetã€‚Hello from Widget!Widgetææ„ã€‚ è§£é‡Šï¼š std::unique_ptrç¡®ä¿åŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªæŒ‡é’ˆæ‹¥æœ‰èµ„æºï¼Œé˜²æ­¢èµ„æºè¢«å¤šæ¬¡é‡Šæ”¾ã€‚ é€šè¿‡std::moveè½¬ç§»æ‰€æœ‰æƒï¼Œå®ç°èµ„æºçš„æ‰€æœ‰æƒç®¡ç†ã€‚ 8.3 std::shared_ptr8.3.1 std::shared_ptrçš„ç‰¹ç‚¹ å…±äº«æ‰€æœ‰æƒï¼šå¤šä¸ªshared_ptrå¯ä»¥å…±äº«åŒä¸€ä¸ªèµ„æºã€‚ å¼•ç”¨è®¡æ•°ï¼šå†…éƒ¨ç»´æŠ¤ä¸€ä¸ªå¼•ç”¨è®¡æ•°ï¼Œè®°å½•æœ‰å¤šå°‘ä¸ªshared_ptræŒ‡å‘åŒä¸€èµ„æºã€‚ è‡ªåŠ¨é‡Šæ”¾ï¼šå½“æœ€åä¸€ä¸ªshared_ptrè¢«é”€æ¯æ—¶ï¼Œèµ„æºè‡ªåŠ¨é‡Šæ”¾ã€‚ 8.3.2 ä½¿ç”¨ç¤ºä¾‹ç¤ºä¾‹ï¼šå…±äº«èµ„æºçš„å¤šä¸ªæ‰€æœ‰è€… 1234567891011121314151617181920#include &lt;iostream&gt;#include &lt;memory&gt;class Gadget &#123;public: Gadget() &#123; std::cout &lt;&lt; &quot;Gadgetæ„é€ ã€‚&quot; &lt;&lt; std::endl; &#125; ~Gadget() &#123; std::cout &lt;&lt; &quot;Gadgetææ„ã€‚&quot; &lt;&lt; std::endl; &#125; void show() const &#123; std::cout &lt;&lt; &quot;Gadgetåœ¨å·¥ä½œã€‚&quot; &lt;&lt; std::endl; &#125;&#125;;int main() &#123; std::shared_ptr&lt;Gadget&gt; sp1 = std::make_shared&lt;Gadget&gt;(); &#123; std::shared_ptr&lt;Gadget&gt; sp2 = sp1; // å¼•ç”¨è®¡æ•°å¢åŠ  sp2-&gt;show(); std::cout &lt;&lt; &quot;å¼•ç”¨è®¡æ•°: &quot; &lt;&lt; sp1.use_count() &lt;&lt; std::endl; &#125; // sp2ææ„ï¼Œå¼•ç”¨è®¡æ•°å‡å°‘ std::cout &lt;&lt; &quot;å¼•ç”¨è®¡æ•°: &quot; &lt;&lt; sp1.use_count() &lt;&lt; std::endl; return 0;&#125; è¾“å‡ºï¼š 12345Gadgetæ„é€ ã€‚Gadgetåœ¨å·¥ä½œã€‚å¼•ç”¨è®¡æ•°: 2å¼•ç”¨è®¡æ•°: 1Gadgetææ„ã€‚ è§£é‡Šï¼š std::shared_ptré€šè¿‡å†…éƒ¨å¼•ç”¨è®¡æ•°ç®¡ç†èµ„æºï¼Œå½“å¼•ç”¨è®¡æ•°ä¸ºé›¶æ—¶ï¼Œè‡ªåŠ¨é‡Šæ”¾èµ„æºã€‚ å¤šä¸ªshared_ptrå¯ä»¥å®‰å…¨åœ°å…±äº«åŒä¸€èµ„æºï¼Œé€‚ç”¨äºéœ€è¦å…±äº«æ‰€æœ‰æƒçš„åœºæ™¯ã€‚ 8.4 std::weak_ptr8.4.1 std::weak_ptrçš„ç‰¹ç‚¹ è§‚å¯Ÿè€…æŒ‡é’ˆï¼šweak_pträ¸æ‹¥æœ‰èµ„æºï¼Œä¸ä¼šå¢åŠ å¼•ç”¨è®¡æ•°ã€‚ é¿å…å¾ªç¯å¼•ç”¨ï¼šå¸¸ç”¨äºæ‰“ç ´shared_pträ¹‹é—´çš„å¾ªç¯å¼•ç”¨ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼ã€‚ å¯ä»¥ä»shared_ptrè·å–èµ„æºï¼šé€šè¿‡lock()æ–¹æ³•å°è¯•è·å–shared_ptrã€‚ 8.4.2 ä½¿ç”¨ç¤ºä¾‹ç¤ºä¾‹ï¼šæ‰“ç ´å¾ªç¯å¼•ç”¨ 1234567891011121314151617181920212223242526272829303132#include &lt;iostream&gt;#include &lt;memory&gt;class Node &#123;public: std::shared_ptr&lt;Node&gt; next; std::weak_ptr&lt;Node&gt; prev; // ä½¿ç”¨weak_ptré¿å…å¾ªç¯å¼•ç”¨ Node(int value) : value_(value) &#123; std::cout &lt;&lt; &quot;Node &quot; &lt;&lt; value_ &lt;&lt; &quot; æ„é€ ã€‚&quot; &lt;&lt; std::endl; &#125; ~Node() &#123; std::cout &lt;&lt; &quot;Node &quot; &lt;&lt; value_ &lt;&lt; &quot; ææ„ã€‚&quot; &lt;&lt; std::endl; &#125;private: int value_;&#125;;int main() &#123; std::shared_ptr&lt;Node&gt; node1 = std::make_shared&lt;Node&gt;(1); std::shared_ptr&lt;Node&gt; node2 = std::make_shared&lt;Node&gt;(2); node1-&gt;next = node2; node2-&gt;prev = node1; // ä½¿ç”¨weak_ptrï¼Œä¸å¢åŠ å¼•ç”¨è®¡æ•° std::cout &lt;&lt; &quot;node1å¼•ç”¨è®¡æ•°: &quot; &lt;&lt; node1.use_count() &lt;&lt; std::endl; // è¾“å‡º1 std::cout &lt;&lt; &quot;node2å¼•ç”¨è®¡æ•°: &quot; &lt;&lt; node2.use_count() &lt;&lt; std::endl; // è¾“å‡º2 return 0;&#125; è¾“å‡ºï¼š 123456Node 1 æ„é€ ã€‚Node 2 æ„é€ ã€‚node1å¼•ç”¨è®¡æ•°: 1node2å¼•ç”¨è®¡æ•°: 2Node 2 ææ„ã€‚Node 1 ææ„ã€‚ è§£é‡Šï¼š Nodeç±»ä¸­çš„prevæŒ‡é’ˆä½¿ç”¨std::weak_ptrï¼Œé¿å…äº†node1å’Œnode2ä¹‹é—´çš„å¾ªç¯å¼•ç”¨ã€‚ é€šè¿‡std::weak_ptrï¼Œnode2å¯ä»¥è§‚å¯Ÿnode1ï¼Œä½†ä¸ä¼šå¢åŠ å…¶å¼•ç”¨è®¡æ•°ï¼Œç¡®ä¿èµ„æºèƒ½å¤Ÿè¢«æ­£ç¡®é‡Šæ”¾ã€‚ 8.5 åœ¨Qtä¸­çš„åº”ç”¨åœ¨Qtå¼€å‘ä¸­ï¼Œæ™ºèƒ½æŒ‡é’ˆè¢«å¹¿æ³›åº”ç”¨äºç®¡ç†QObjectæ´¾ç”Ÿç±»çš„ç”Ÿå‘½å‘¨æœŸã€å¤„ç†èµ„æºç®¡ç†å’Œé¿å…å†…å­˜æ³„æ¼ã€‚ç»“åˆQtçš„çˆ¶å­å¯¹è±¡æœºåˆ¶ï¼Œæ™ºèƒ½æŒ‡é’ˆèƒ½å¤Ÿè¿›ä¸€æ­¥æå‡èµ„æºç®¡ç†çš„å®‰å…¨æ€§å’Œæ•ˆç‡ã€‚ ç¤ºä¾‹ï¼šä½¿ç”¨std::shared_ptrç®¡ç†QObject 123456789101112131415161718192021222324252627282930313233343536373839#include &lt;QCoreApplication&gt;#include &lt;QObject&gt;#include &lt;memory&gt;#include &lt;QDebug&gt;class Worker : public QObject &#123; Q_OBJECTpublic: Worker() &#123; qDebug() &lt;&lt; &quot;Workeræ„é€ ã€‚&quot;; &#125; ~Worker() &#123; qDebug() &lt;&lt; &quot;Workerææ„ã€‚&quot;; &#125;public slots: void doWork() &#123; qDebug() &lt;&lt; &quot;Workeræ­£åœ¨å·¥ä½œ...&quot;; &#125;&#125;;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); // ä½¿ç”¨std::shared_ptrç®¡ç†Workerå¯¹è±¡ std::shared_ptr&lt;Worker&gt; workerPtr = std::make_shared&lt;Worker&gt;(); // å°†QObjectçš„ç”Ÿå‘½å‘¨æœŸä¸shared_ptrç»‘å®š QObject::connect(&amp;a, &amp;QCoreApplication::aboutToQuit, [&amp;]() &#123; workerPtr.reset(); // é‡Šæ”¾Workerå¯¹è±¡ &#125;); workerPtr-&gt;doWork(); return a.exec();&#125;#include &quot;main.moc&quot; è¾“å‡ºï¼š 123Workeræ„é€ ã€‚Workeræ­£åœ¨å·¥ä½œ...Workerææ„ã€‚ è§£é‡Šï¼š ä½¿ç”¨std::shared_ptrç®¡ç†Workerå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œç¡®ä¿åœ¨åº”ç”¨ç¨‹åºé€€å‡ºå‰æ­£ç¡®é‡Šæ”¾èµ„æºã€‚ é€šè¿‡è¿æ¥QCoreApplication::aboutToQuitä¿¡å·ï¼Œå¯ä»¥åœ¨åº”ç”¨ç¨‹åºé€€å‡ºå‰æ‰§è¡Œèµ„æºé‡Šæ”¾æ“ä½œï¼Œæå‡èµ„æºç®¡ç†çš„çµæ´»æ€§ã€‚ 9. å…³é”®å­—ï¼šnullptr ä¸ constexpr9.1 nullptr9.1.1 nullptrçš„æ¦‚å¿µnullptræ˜¯C++11å¼•å…¥çš„ä¸€ä¸ªå…³é”®å­—ï¼Œç”¨äºè¡¨ç¤ºç©ºæŒ‡é’ˆã€‚å®ƒæ›¿ä»£äº†ä¼ ç»Ÿçš„NULLå®ï¼Œæä¾›äº†æ›´å¼ºçš„ç±»å‹å®‰å…¨æ€§ã€‚ 9.1.2 ä½¿ç”¨ç¤ºä¾‹ç¤ºä¾‹ï¼š 1234567891011121314151617181920#include &lt;iostream&gt;void func(int* ptr) &#123; if(ptr == nullptr) &#123; std::cout &lt;&lt; &quot;æŒ‡é’ˆä¸ºç©ºã€‚&quot; &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;æŒ‡é’ˆæŒ‡å‘çš„å€¼ï¼š&quot; &lt;&lt; *ptr &lt;&lt; std::endl; &#125;&#125;int main() &#123; int x = 10; int* p1 = &amp;x; int* p2 = nullptr; // ä½¿ç”¨nullptr func(p1); func(p2); return 0;&#125; è¾“å‡ºï¼š 12æŒ‡é’ˆæŒ‡å‘çš„å€¼ï¼š10æŒ‡é’ˆä¸ºç©ºã€‚ è§£é‡Šï¼š nullptrå…·æœ‰ç±»å‹std::nullptr_tï¼Œèƒ½å¤Ÿè¢«éšå¼è½¬æ¢ä¸ºä»»ä½•æŒ‡é’ˆç±»å‹ï¼Œé¿å…äº†ä¸æ•´æ•°çš„æ­§ä¹‰ã€‚ æå‡äº†ä»£ç çš„ç±»å‹å®‰å…¨æ€§ï¼Œå‡å°‘äº†é”™è¯¯ã€‚ 9.2 constexpr9.2.1 constexprçš„æ¦‚å¿µconstexpræ˜¯C++11å¼•å…¥çš„å…³é”®å­—ï¼Œç”¨äºæŒ‡å®šè¡¨è¾¾å¼æˆ–å‡½æ•°åœ¨ç¼–è¯‘æ—¶è¿›è¡Œæ±‚å€¼ã€‚å®ƒå…è®¸å®šä¹‰ç¼–è¯‘æœŸå¸¸é‡ï¼Œæå‡ä»£ç çš„æ€§èƒ½å’Œå®‰å…¨æ€§ã€‚ 9.2.2 ä½¿ç”¨ç¤ºä¾‹ç¤ºä¾‹ï¼š 12345678910111213141516#include &lt;iostream&gt;// ç¼–è¯‘æœŸå¸¸é‡constexpr int square(int x) &#123; return x * x;&#125;int main() &#123; constexpr int val = square(5); // åœ¨ç¼–è¯‘æ—¶è®¡ç®— std::cout &lt;&lt; &quot;Square of 5 is &quot; &lt;&lt; val &lt;&lt; std::endl; int a = 10; // constexpr int val2 = square(a); // é”™è¯¯ï¼Œaä¸æ˜¯ç¼–è¯‘æœŸå¸¸é‡ return 0;&#125; è¾“å‡ºï¼š 1Square of 5 is 25 è§£é‡Šï¼š constexprå‡½æ•°squareåœ¨ç¼–è¯‘æ—¶è®¡ç®—5 * 5ï¼Œç»“æœèµ‹å€¼ç»™valã€‚ constexprå˜é‡å¿…é¡»åœ¨ç¼–è¯‘æ—¶èƒ½å¤Ÿç¡®å®šå…¶å€¼ï¼Œä¸èƒ½ä¾èµ–è¿è¡Œæ—¶å˜é‡ã€‚ 9.3 åœ¨Qtä¸­çš„åº”ç”¨åœ¨Qtå¼€å‘ä¸­ï¼Œnullptrå’Œconstexprè¢«å¹¿æ³›åº”ç”¨äºæé«˜ä»£ç çš„ç±»å‹å®‰å…¨æ€§å’Œæ€§èƒ½ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨constexprå®šä¹‰ç¼–è¯‘æœŸå¸¸é‡ï¼Œä¼˜åŒ–ç•Œé¢å¸ƒå±€å’Œèµ„æºç®¡ç†ã€‚ ç¤ºä¾‹ï¼šä½¿ç”¨constexprå®šä¹‰çª—å£å°ºå¯¸ 123456789101112131415161718192021#include &lt;QApplication&gt;#include &lt;QWidget&gt;#include &lt;QPushButton&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); constexpr int windowWidth = 400; constexpr int windowHeight = 300; QWidget window; window.setFixedSize(windowWidth, windowHeight); window.setWindowTitle(&quot;Qt åº”ç”¨&quot;); QPushButton button(&quot;ç‚¹å‡»æˆ‘&quot;, &amp;window); button.setGeometry(150, 130, 100, 40); window.show(); return app.exec();&#125; è§£é‡Šï¼š ä½¿ç”¨constexprå®šä¹‰çª—å£çš„å®½åº¦å’Œé«˜åº¦ï¼Œåœ¨ç¼–è¯‘æ—¶ç¡®å®šè¿™äº›å€¼ï¼Œæå‡äº†ä»£ç çš„æ€§èƒ½å’Œå¯è¯»æ€§ã€‚ é€šè¿‡setFixedSizeè®¾ç½®çª—å£çš„å›ºå®šå°ºå¯¸ï¼Œç¡®ä¿ç•Œé¢å¸ƒå±€çš„ä¸€è‡´æ€§ã€‚ 10. å…±äº«å†…å­˜ä¸äº’æ–¥é‡ï¼ˆMutexï¼‰10.1 å…±äº«å†…å­˜çš„æ¦‚å¿µåœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ä¸­ï¼Œå¤šä¸ªçº¿ç¨‹å¯èƒ½éœ€è¦è®¿é—®å’Œä¿®æ”¹å…±äº«æ•°æ®ã€‚å…±äº«å†…å­˜å…è®¸çº¿ç¨‹ä¹‹é—´é«˜æ•ˆåœ°äº¤æ¢ä¿¡æ¯ï¼Œä½†ä¹Ÿå¸¦æ¥äº†æ•°æ®ç«äº‰å’ŒåŒæ­¥çš„é—®é¢˜ã€‚ 10.2 äº’æ–¥é‡ï¼ˆMutexï¼‰10.2.1 std::mutexçš„æ¦‚å¿µstd::mutexæ˜¯C++11å¼•å…¥çš„ä¸€ä¸ªåŒæ­¥åŸè¯­ï¼Œç”¨äºä¿æŠ¤å…±äº«èµ„æºï¼Œé˜²æ­¢å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®å¯¼è‡´çš„æ•°æ®ç«äº‰ã€‚ 10.2.2 ä½¿ç”¨ç¤ºä¾‹ç¤ºä¾‹ï¼šä¿æŠ¤å…±äº«è®¡æ•°å™¨ 123456789101112131415161718192021222324252627282930313233#include &lt;iostream&gt;#include &lt;thread&gt;#include &lt;mutex&gt;int counter = 0;std::mutex mtx;void increment(int num_iterations) &#123; for(int i = 0; i &lt; num_iterations; ++i) &#123; std::lock_guard&lt;std::mutex&gt; lock(mtx); // è‡ªåŠ¨åŠ é”å’Œè§£é” ++counter; &#125;&#125;int main() &#123; const int num_threads = 5; const int num_iterations = 1000; std::thread threads[num_threads]; // å¯åŠ¨å¤šä¸ªçº¿ç¨‹ for(int i = 0; i &lt; num_threads; ++i) &#123; threads[i] = std::thread(increment, num_iterations); &#125; // ç­‰å¾…æ‰€æœ‰çº¿ç¨‹å®Œæˆ for(int i = 0; i &lt; num_threads; ++i) &#123; threads[i].join(); &#125; std::cout &lt;&lt; &quot;æœ€ç»ˆè®¡æ•°å™¨å€¼: &quot; &lt;&lt; counter &lt;&lt; std::endl; return 0;&#125; è¾“å‡ºï¼š 1æœ€ç»ˆè®¡æ•°å™¨å€¼: 5000 è§£é‡Šï¼š ä½¿ç”¨std::lock_guard&lt;std::mutex&gt;åœ¨ä½œç”¨åŸŸå†…è‡ªåŠ¨ç®¡ç†äº’æ–¥é”çš„åŠ é”ä¸è§£é”ï¼Œç¡®ä¿çº¿ç¨‹å®‰å…¨ã€‚ ä¿æŠ¤å…±äº«å˜é‡counterï¼Œé˜²æ­¢å¤šä¸ªçº¿ç¨‹åŒæ—¶ä¿®æ”¹å¯¼è‡´çš„æ•°æ®ç«äº‰ã€‚ 10.3 åœ¨Qtä¸­çš„åº”ç”¨åœ¨Qtå¼€å‘ä¸­ï¼Œå¤šçº¿ç¨‹ç¼–ç¨‹å¸¸è§äºéœ€è¦åå°å¤„ç†ä»»åŠ¡ã€æé«˜åº”ç”¨å“åº”æ€§çš„åœºæ™¯ã€‚ä½¿ç”¨äº’æ–¥é‡å’Œå…¶ä»–åŒæ­¥åŸè¯­ï¼Œå¯ä»¥ç¡®ä¿çº¿ç¨‹å®‰å…¨åœ°è®¿é—®å’Œä¿®æ”¹å…±äº«èµ„æºã€‚ ç¤ºä¾‹ï¼šä½¿ç”¨std::mutexä¿æŠ¤å…±äº«æ•°æ® 1234567891011121314151617181920212223242526272829303132333435363738394041424344#include &lt;QCoreApplication&gt;#include &lt;thread&gt;#include &lt;mutex&gt;#include &lt;vector&gt;#include &lt;iostream&gt;std::vector&lt;int&gt; data;std::mutex data_mutex;void addData(int value) &#123; std::lock_guard&lt;std::mutex&gt; lock(data_mutex); data.push_back(value);&#125;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); const int num_threads = 4; std::thread threads[num_threads]; // å¯åŠ¨å¤šä¸ªçº¿ç¨‹ï¼Œå‘å…±äº«æ•°æ®ä¸­æ·»åŠ å…ƒç´  for(int i = 0; i &lt; num_threads; ++i) &#123; threads[i] = std::thread([i]() &#123; for(int j = 0; j &lt; 5; ++j) &#123; addData(i * 10 + j); &#125; &#125;); &#125; // ç­‰å¾…æ‰€æœ‰çº¿ç¨‹å®Œæˆ for(int i = 0; i &lt; num_threads; ++i) &#123; threads[i].join(); &#125; // æ‰“å°å…±äº«æ•°æ® std::lock_guard&lt;std::mutex&gt; lock(data_mutex); std::cout &lt;&lt; &quot;å…±äº«æ•°æ®å†…å®¹:&quot; &lt;&lt; std::endl; for(auto val : data) &#123; std::cout &lt;&lt; val &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; return a.exec();&#125; è¾“å‡ºç¤ºä¾‹ï¼š 12å…±äº«æ•°æ®å†…å®¹:0 1 2 3 4 10 11 12 13 14 20 21 22 23 24 30 31 32 33 34 è§£é‡Šï¼š ä½¿ç”¨std::mutexä¿æŠ¤å…±äº«çš„dataå‘é‡ï¼Œç¡®ä¿å¤šä¸ªçº¿ç¨‹å®‰å…¨åœ°æ·»åŠ å…ƒç´ ã€‚ é€šè¿‡std::lock_guardè‡ªåŠ¨ç®¡ç†äº’æ–¥é”ï¼Œé¿å…æ‰‹åŠ¨åŠ é”å’Œè§£é”çš„å¤æ‚æ€§ã€‚ 11. C++11 STLå“ˆå¸Œæ˜ å°„å®¹å™¨ï¼šstd::unordered_map11.1 std::unordered_mapçš„æ¦‚å¿µstd::unordered_mapæ˜¯C++11å¼•å…¥çš„å…³è”å®¹å™¨ï¼ŒåŸºäºå“ˆå¸Œè¡¨å®ç°ï¼Œæä¾›å¹³å‡å¸¸æ•°æ—¶é—´å¤æ‚åº¦çš„æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤æ“ä½œã€‚ä¸std::mapä¸åŒï¼Œunordered_mapä¸­çš„å…ƒç´ æ— åºå­˜å‚¨ï¼Œä½†æŸ¥æ‰¾æ•ˆç‡æ›´é«˜ã€‚ 11.2 ä½¿ç”¨ç¤ºä¾‹ç¤ºä¾‹ï¼šå­˜å‚¨å’ŒæŸ¥æ‰¾å­¦ç”Ÿæˆç»© 123456789101112131415161718192021222324252627282930313233#include &lt;iostream&gt;#include &lt;unordered_map&gt;#include &lt;string&gt;int main() &#123; // å®šä¹‰ä¸€ä¸ªunordered_mapï¼Œé”®ä¸ºå­¦ç”Ÿå§“åï¼Œå€¼ä¸ºæˆç»© std::unordered_map&lt;std::string, int&gt; student_scores = &#123; &#123;&quot;Alice&quot;, 90&#125;, &#123;&quot;Bob&quot;, 85&#125;, &#123;&quot;Charlie&quot;, 92&#125;, &#123;&quot;Diana&quot;, 88&#125; &#125;; // æŸ¥æ‰¾å­¦ç”Ÿæˆç»© std::string name = &quot;Charlie&quot;; auto it = student_scores.find(name); if(it != student_scores.end()) &#123; std::cout &lt;&lt; name &lt;&lt; &quot;çš„æˆç»©æ˜¯ &quot; &lt;&lt; it-&gt;second &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;æœªæ‰¾åˆ°å­¦ç”Ÿ &quot; &lt;&lt; name &lt;&lt; &quot; çš„æˆç»©ã€‚&quot; &lt;&lt; std::endl; &#125; // æ’å…¥æ–°çš„å­¦ç”Ÿæˆç»© student_scores[&quot;Eve&quot;] = 95; // éå†unordered_map std::cout &lt;&lt; &quot;æ‰€æœ‰å­¦ç”Ÿçš„æˆç»©:&quot; &lt;&lt; std::endl; for(const auto&amp; pair : student_scores) &#123; std::cout &lt;&lt; pair.first &lt;&lt; &quot; : &quot; &lt;&lt; pair.second &lt;&lt; std::endl; &#125; return 0;&#125; è¾“å‡ºï¼š 1234567Charlieçš„æˆç»©æ˜¯ 92æ‰€æœ‰å­¦ç”Ÿçš„æˆç»©:Diana : 88Eve : 95Alice : 90Bob : 85Charlie : 92 è§£é‡Šï¼š std::unordered_mapæä¾›äº†é«˜æ•ˆçš„é”®å€¼å¯¹å­˜å‚¨å’ŒæŸ¥æ‰¾æœºåˆ¶ã€‚ å…ƒç´ çš„å­˜å‚¨é¡ºåºä¸æ’å…¥é¡ºåºæ— å…³ï¼Œä½†æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤æ“ä½œå…·æœ‰è¾ƒé«˜çš„æ•ˆç‡ã€‚ 11.3 è‡ªå®šä¹‰å“ˆå¸Œå‡½æ•°å¯¹äºè‡ªå®šä¹‰ç±»å‹ä½œä¸ºé”®çš„unordered_mapï¼Œéœ€è¦æä¾›å“ˆå¸Œå‡½æ•°å’Œç›¸ç­‰æ¯”è¾ƒå‡½æ•°ã€‚ ç¤ºä¾‹ï¼šä½¿ç”¨è‡ªå®šä¹‰ç±»å‹ä½œä¸ºé”® 12345678910111213141516171819202122232425262728293031323334353637383940#include &lt;iostream&gt;#include &lt;unordered_map&gt;#include &lt;string&gt;// è‡ªå®šä¹‰ç±»å‹struct Point &#123; int x; int y; bool operator==(const Point&amp; other) const &#123; return x == other.x &amp;&amp; y == other.y; &#125;&#125;;// è‡ªå®šä¹‰å“ˆå¸Œå‡½æ•°struct PointHash &#123; std::size_t operator()(const Point&amp; p) const &#123; return std::hash&lt;int&gt;()(p.x) ^ (std::hash&lt;int&gt;()(p.y) &lt;&lt; 1); &#125;&#125;;int main() &#123; // å®šä¹‰unordered_mapï¼Œé”®ä¸ºPointï¼Œå€¼ä¸ºå­—ç¬¦ä¸² std::unordered_map&lt;Point, std::string, PointHash&gt; point_map = &#123; &#123; &#123;0, 0&#125;, &quot;Origin&quot; &#125;, &#123; &#123;1, 2&#125;, &quot;Point A&quot; &#125;, &#123; &#123;3, 4&#125;, &quot;Point B&quot; &#125; &#125;; // æŸ¥æ‰¾Point Point p = &#123;1, 2&#125;; auto it = point_map.find(p); if(it != point_map.end()) &#123; std::cout &lt;&lt; &quot;Point (&quot; &lt;&lt; p.x &lt;&lt; &quot;, &quot; &lt;&lt; p.y &lt;&lt; &quot;) æ˜¯ &quot; &lt;&lt; it-&gt;second &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;æœªæ‰¾åˆ°Point (&quot; &lt;&lt; p.x &lt;&lt; &quot;, &quot; &lt;&lt; p.y &lt;&lt; &quot;)ã€‚&quot; &lt;&lt; std::endl; &#125; return 0;&#125; è¾“å‡ºï¼š 1Point (1, 2) æ˜¯ Point A è§£é‡Šï¼š å®šä¹‰äº†ä¸€ä¸ªè‡ªå®šä¹‰ç±»å‹Pointï¼Œå¹¶é‡è½½äº†operator==ä»¥æ”¯æŒç›¸ç­‰æ¯”è¾ƒã€‚ åˆ›å»ºäº†ä¸€ä¸ªè‡ªå®šä¹‰å“ˆå¸Œå‡½æ•°PointHashï¼Œç”¨äºè®¡ç®—Pointå¯¹è±¡çš„å“ˆå¸Œå€¼ã€‚ åœ¨std::unordered_mapä¸­ä½¿ç”¨Pointä½œä¸ºé”®ï¼Œéœ€è¦æŒ‡å®šå“ˆå¸Œå‡½æ•°ç±»å‹ã€‚ 11.4 åœ¨Qtä¸­çš„åº”ç”¨åœ¨Qtå¼€å‘ä¸­ï¼Œstd::unordered_mapå¸¸ç”¨äºé«˜æ•ˆåœ°ç®¡ç†å’ŒæŸ¥æ‰¾æ•°æ®ï¼Œå¦‚ç¼“å­˜æœºåˆ¶ã€å¿«é€Ÿç´¢å¼•ç­‰ã€‚ç»“åˆQtçš„å®¹å™¨ç±»å’Œä¿¡å·æ§½æœºåˆ¶ï¼Œå¯ä»¥å®ç°å¤æ‚çš„æ•°æ®ç®¡ç†é€»è¾‘ã€‚ ç¤ºä¾‹ï¼šä½¿ç”¨std::unordered_mapç®¡ç†QWidgetå¯¹è±¡ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849#include &lt;QCoreApplication&gt;#include &lt;QWidget&gt;#include &lt;unordered_map&gt;#include &lt;memory&gt;#include &lt;QString&gt;#include &lt;QDebug&gt;struct WidgetKey &#123; QString name; int id; bool operator==(const WidgetKey&amp; other) const &#123; return name == other.name &amp;&amp; id == other.id; &#125;&#125;;// è‡ªå®šä¹‰å“ˆå¸Œå‡½æ•°struct WidgetKeyHash &#123; std::size_t operator()(const WidgetKey&amp; key) const &#123; return std::hash&lt;QString&gt;()(key.name) ^ (std::hash&lt;int&gt;()(key.id) &lt;&lt; 1); &#125;&#125;;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); // å®šä¹‰unordered_mapï¼Œé”®ä¸ºWidgetKeyï¼Œå€¼ä¸ºshared_ptr&lt;QWidget&gt; std::unordered_map&lt;WidgetKey, std::shared_ptr&lt;QWidget&gt;, WidgetKeyHash&gt; widget_map; // åˆ›å»ºå¹¶æ’å…¥QWidgetå¯¹è±¡ WidgetKey key1 = &#123; &quot;MainWindow&quot;, 1 &#125;; widget_map[key1] = std::make_shared&lt;QWidget&gt;(); widget_map[key1]-&gt;setWindowTitle(&quot;Main Window&quot;); WidgetKey key2 = &#123; &quot;SettingsDialog&quot;, 2 &#125;; widget_map[key2] = std::make_shared&lt;QWidget&gt;(); widget_map[key2]-&gt;setWindowTitle(&quot;Settings Dialog&quot;); // æŸ¥æ‰¾å¹¶æ˜¾ç¤ºçª—å£æ ‡é¢˜ WidgetKey search_key = &#123; &quot;MainWindow&quot;, 1 &#125;; auto it = widget_map.find(search_key); if(it != widget_map.end()) &#123; qDebug() &lt;&lt; &quot;æ‰¾åˆ°çª—å£:&quot; &lt;&lt; it-&gt;second-&gt;windowTitle(); &#125; else &#123; qDebug() &lt;&lt; &quot;æœªæ‰¾åˆ°æŒ‡å®šçš„çª—å£ã€‚&quot;; &#125; return a.exec();&#125; è¾“å‡ºï¼š 1æ‰¾åˆ°çª—å£: &quot;Main Window&quot; è§£é‡Šï¼š ä½¿ç”¨std::unordered_mapç®¡ç†Qtçš„QWidgetå¯¹è±¡ï¼Œé€šè¿‡è‡ªå®šä¹‰é”®ç±»å‹WidgetKeyå®ç°é«˜æ•ˆæŸ¥æ‰¾ã€‚ ç»“åˆstd::shared_ptrè‡ªåŠ¨ç®¡ç†QWidgetå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œç¡®ä¿èµ„æºè¢«æ­£ç¡®é‡Šæ”¾ã€‚ 12. åŸå­æ“ä½œä¸çº¿ç¨‹åŒæ­¥12.1 åŸå­æ“ä½œï¼ˆAtomic Operationsï¼‰12.1.1 std::atomic_flagä¸std::atomicC++11å¼•å…¥äº†åŸå­æ“ä½œç±»std::atomic_flagå’Œstd::atomicï¼Œç”¨äºåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­å®ç°æ— é”ç¼–ç¨‹ï¼Œä¿è¯æ•°æ®æ“ä½œçš„åŸå­æ€§ï¼Œé˜²æ­¢æ•°æ®ç«äº‰ã€‚ 12.1.2 ä½¿ç”¨std::atomicç¤ºä¾‹ï¼šçº¿ç¨‹å®‰å…¨çš„è®¡æ•°å™¨ 1234567891011121314151617181920212223242526272829303132#include &lt;iostream&gt;#include &lt;thread&gt;#include &lt;atomic&gt;#include &lt;vector&gt;std::atomic&lt;int&gt; counter(0);void increment(int num_iterations) &#123; for(int i = 0; i &lt; num_iterations; ++i) &#123; ++counter; // åŸå­é€’å¢ &#125;&#125;int main() &#123; const int num_threads = 4; const int num_iterations = 1000; std::vector&lt;std::thread&gt; threads; // å¯åŠ¨å¤šä¸ªçº¿ç¨‹ for(int i = 0; i &lt; num_threads; ++i) &#123; threads.emplace_back(increment, num_iterations); &#125; // ç­‰å¾…æ‰€æœ‰çº¿ç¨‹å®Œæˆ for(auto&amp; th : threads) &#123; th.join(); &#125; std::cout &lt;&lt; &quot;æœ€ç»ˆè®¡æ•°å™¨å€¼: &quot; &lt;&lt; counter.load() &lt;&lt; std::endl; return 0;&#125; è¾“å‡ºï¼š 1æœ€ç»ˆè®¡æ•°å™¨å€¼: 4000 è§£é‡Šï¼š std::atomic&lt;int&gt;ä¿è¯counterçš„æ“ä½œæ˜¯åŸå­çš„ï¼Œé¿å…äº†æ•°æ®ç«äº‰ã€‚ ä½¿ç”¨counter.load()å®‰å…¨åœ°è¯»å–å½“å‰å€¼ã€‚ 12.2 æ¡ä»¶å˜é‡ï¼ˆCondition Variableï¼‰12.2.1 æ¡ä»¶å˜é‡çš„æ¦‚å¿µstd::condition_variableç”¨äºçº¿ç¨‹é—´çš„åŒæ­¥ä¸é€šä¿¡ï¼Œå…è®¸ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ç­‰å¾…ç‰¹å®šæ¡ä»¶çš„å‘ç”Ÿã€‚ 12.2.2 ä½¿ç”¨ç¤ºä¾‹ç¤ºä¾‹ï¼šç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758#include &lt;iostream&gt;#include &lt;thread&gt;#include &lt;mutex&gt;#include &lt;condition_variable&gt;#include &lt;queue&gt;#include &lt;chrono&gt;std::queue&lt;int&gt; data_queue;std::mutex mtx;std::condition_variable cv;bool finished = false;void producer(int num_items) &#123; for(int i = 1; i &lt;= num_items; ++i) &#123; &#123; std::lock_guard&lt;std::mutex&gt; lock(mtx); data_queue.push(i); std::cout &lt;&lt; &quot;ç”Ÿäº§è€…ç”Ÿäº§: &quot; &lt;&lt; i &lt;&lt; std::endl; &#125; cv.notify_one(); // é€šçŸ¥æ¶ˆè´¹è€… std::this_thread::sleep_for(std::chrono::milliseconds(100)); &#125; &#123; std::lock_guard&lt;std::mutex&gt; lock(mtx); finished = true; &#125; cv.notify_all(); // é€šçŸ¥æ‰€æœ‰æ¶ˆè´¹è€…ç”Ÿäº§ç»“æŸ&#125;void consumer(int id) &#123; while(true) &#123; std::unique_lock&lt;std::mutex&gt; lock(mtx); cv.wait(lock, []&#123; return !data_queue.empty() || finished; &#125;); if(!data_queue.empty()) &#123; int item = data_queue.front(); data_queue.pop(); lock.unlock(); std::cout &lt;&lt; &quot;æ¶ˆè´¹è€… &quot; &lt;&lt; id &lt;&lt; &quot; æ¶ˆè´¹: &quot; &lt;&lt; item &lt;&lt; std::endl; &#125; else if(finished) &#123; break; // ç”Ÿäº§ç»“æŸï¼Œé€€å‡ºå¾ªç¯ &#125; &#125;&#125;int main() &#123; std::thread prod(producer, 10); std::thread cons1(consumer, 1); std::thread cons2(consumer, 2); prod.join(); cons1.join(); cons2.join(); std::cout &lt;&lt; &quot;æ‰€æœ‰ä»»åŠ¡å®Œæˆã€‚&quot; &lt;&lt; std::endl; return 0;&#125; è¾“å‡ºç¤ºä¾‹ï¼š 12345678910ç”Ÿäº§è€…ç”Ÿäº§: 1æ¶ˆè´¹è€… 1 æ¶ˆè´¹: 1ç”Ÿäº§è€…ç”Ÿäº§: 2æ¶ˆè´¹è€… 2 æ¶ˆè´¹: 2ç”Ÿäº§è€…ç”Ÿäº§: 3æ¶ˆè´¹è€… 1 æ¶ˆè´¹: 3...ç”Ÿäº§è€…ç”Ÿäº§: 10æ¶ˆè´¹è€… 2 æ¶ˆè´¹: 10æ‰€æœ‰ä»»åŠ¡å®Œæˆã€‚ è§£é‡Šï¼š ç”Ÿäº§è€…çº¿ç¨‹ç”Ÿäº§æ•°æ®å¹¶å°†å…¶æ”¾å…¥é˜Ÿåˆ—ï¼Œéšåé€šçŸ¥æ¶ˆè´¹è€…ã€‚ æ¶ˆè´¹è€…çº¿ç¨‹ç­‰å¾…æ¡ä»¶å˜é‡çš„é€šçŸ¥ï¼Œæ¶ˆè´¹é˜Ÿåˆ—ä¸­çš„æ•°æ®ã€‚ ä½¿ç”¨finishedæ ‡å¿—ä½é€šçŸ¥æ¶ˆè´¹è€…ç”Ÿäº§ç»“æŸï¼Œé¿å…æ— é™ç­‰å¾…ã€‚ 12.3 åœ¨Qtä¸­çš„åº”ç”¨åœ¨Qtå¼€å‘ä¸­ï¼Œå¤šçº¿ç¨‹ç¼–ç¨‹å¸¸æ¶‰åŠçº¿ç¨‹é—´çš„æ•°æ®åŒæ­¥ä¸é€šä¿¡ã€‚ç»“åˆC++11çš„åŸå­æ“ä½œå’Œæ¡ä»¶å˜é‡ï¼Œå¯ä»¥å®ç°é«˜æ•ˆçš„çº¿ç¨‹åŒæ­¥æœºåˆ¶ï¼Œæå‡åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œå“åº”æ€§ã€‚ ç¤ºä¾‹ï¼šä½¿ç”¨æ¡ä»¶å˜é‡å®ç°çº¿ç¨‹åŒæ­¥ 12345678910111213141516171819202122232425262728293031323334#include &lt;QCoreApplication&gt;#include &lt;thread&gt;#include &lt;mutex&gt;#include &lt;condition_variable&gt;#include &lt;QDebug&gt;std::mutex mtx;std::condition_variable cv;bool ready = false;void worker() &#123; std::unique_lock&lt;std::mutex&gt; lock(mtx); cv.wait(lock, []&#123; return ready; &#125;); // ç­‰å¾…ä¿¡å· qDebug() &lt;&lt; &quot;çº¿ç¨‹æ”¶åˆ°ä¿¡å·ï¼Œå¼€å§‹å·¥ä½œã€‚&quot;;&#125;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); std::thread th(worker); qDebug() &lt;&lt; &quot;ä¸»çº¿ç¨‹æ­£åœ¨å‡†å¤‡æ•°æ®...&quot;; std::this_thread::sleep_for(std::chrono::seconds(2)); // æ¨¡æ‹Ÿå‡†å¤‡è¿‡ç¨‹ &#123; std::lock_guard&lt;std::mutex&gt; lock(mtx); ready = true; &#125; cv.notify_one(); // å‘é€ä¿¡å· th.join(); return a.exec();&#125; è¾“å‡ºï¼š 12ä¸»çº¿ç¨‹æ­£åœ¨å‡†å¤‡æ•°æ®...çº¿ç¨‹æ”¶åˆ°ä¿¡å·ï¼Œå¼€å§‹å·¥ä½œã€‚ è§£é‡Šï¼š å·¥ä½œçº¿ç¨‹ç­‰å¾…æ¡ä»¶å˜é‡çš„ä¿¡å·ï¼Œç›´åˆ°readyæ ‡å¿—ä½è¢«è®¾ç½®ä¸ºtrueã€‚ ä¸»çº¿ç¨‹å‡†å¤‡æ•°æ®åï¼Œè®¾ç½®readyä¸ºtrueå¹¶é€šçŸ¥å·¥ä½œçº¿ç¨‹å¼€å§‹å·¥ä½œã€‚ é€šè¿‡std::condition_variableå®ç°çº¿ç¨‹é—´çš„åŒæ­¥ï¼Œç¡®ä¿å·¥ä½œçº¿ç¨‹åœ¨æ•°æ®å‡†å¤‡å¥½åå†å¼€å§‹å·¥ä½œã€‚ 13. å¼‚å¸¸å¤„ç†ï¼šexceptionçš„æ·±å…¥ç†è§£13.1 å¼‚å¸¸ç±»çš„å±‚æ¬¡ç»“æ„C++æ ‡å‡†åº“æä¾›äº†ä¸€ä¸ªå¼‚å¸¸ç±»å±‚æ¬¡ç»“æ„ï¼Œæ‰€æœ‰æ ‡å‡†å¼‚å¸¸ç±»éƒ½ç»§æ‰¿è‡ªstd::exceptionã€‚å¸¸è§çš„å¼‚å¸¸ç±»åŒ…æ‹¬ï¼š std::runtime_error std::logic_error std::invalid_argument std::out_of_range std::bad_alloc 13.2 è‡ªå®šä¹‰å¼‚å¸¸ç±»å‹è‡ªå®šä¹‰å¼‚å¸¸ç±»å¯ä»¥æä¾›æ›´å…·ä½“çš„é”™è¯¯ä¿¡æ¯ï¼Œé€‚ç”¨äºç‰¹å®šçš„é”™è¯¯åœºæ™¯ã€‚è‡ªå®šä¹‰å¼‚å¸¸ç±»é€šå¸¸ç»§æ‰¿è‡ªstd::exceptionæˆ–å…¶å­ç±»ï¼Œå¹¶é‡å†™what()æ–¹æ³•ã€‚ ç¤ºä¾‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738#include &lt;iostream&gt;#include &lt;exception&gt;#include &lt;string&gt;// è‡ªå®šä¹‰å¼‚å¸¸ç±»class MyException : public std::exception &#123;public: MyException(const std::string&amp; message) : msg_(message) &#123;&#125; virtual const char* what() const noexcept override &#123; return msg_.c_str(); &#125;private: std::string msg_;&#125;;// å‡½æ•°ï¼Œå¯èƒ½æŠ›å‡ºè‡ªå®šä¹‰å¼‚å¸¸void riskyFunction(bool triggerError) &#123; if(triggerError) &#123; throw MyException(&quot;è‡ªå®šä¹‰é”™è¯¯å‘ç”Ÿï¼&quot;); &#125; std::cout &lt;&lt; &quot;å‡½æ•°æ­£å¸¸æ‰§è¡Œã€‚&quot; &lt;&lt; std::endl;&#125;int main() &#123; try &#123; riskyFunction(true); &#125; catch(const MyException&amp; e) &#123; std::cerr &lt;&lt; &quot;æ•è·åˆ°è‡ªå®šä¹‰å¼‚å¸¸: &quot; &lt;&lt; e.what() &lt;&lt; std::endl; &#125; catch(const std::exception&amp; e) &#123; std::cerr &lt;&lt; &quot;æ•è·åˆ°æ ‡å‡†å¼‚å¸¸: &quot; &lt;&lt; e.what() &lt;&lt; std::endl; &#125; catch(...) &#123; std::cerr &lt;&lt; &quot;æ•è·åˆ°æœªçŸ¥å¼‚å¸¸ã€‚&quot; &lt;&lt; std::endl; &#125; return 0;&#125; è¾“å‡ºï¼š 1æ•è·åˆ°è‡ªå®šä¹‰å¼‚å¸¸: è‡ªå®šä¹‰é”™è¯¯å‘ç”Ÿï¼ è§£é‡Šï¼š MyExceptionç»§æ‰¿è‡ªstd::exceptionï¼Œå¹¶é‡å†™äº†what()æ–¹æ³•ä»¥è¿”å›è‡ªå®šä¹‰é”™è¯¯ä¿¡æ¯ã€‚ åœ¨riskyFunctionä¸­ï¼Œæ ¹æ®å‚æ•°å†³å®šæ˜¯å¦æŠ›å‡ºMyExceptionã€‚ mainå‡½æ•°ä¸­çš„try-catchå—æ•è·å¹¶å¤„ç†è‡ªå®šä¹‰å¼‚å¸¸ï¼Œç¡®ä¿ç¨‹åºèƒ½å¤Ÿä¼˜é›…åœ°åº”å¯¹é”™è¯¯ã€‚ 13.3 å¼‚å¸¸å®‰å…¨æ€§ç¼–å†™å¼‚å¸¸å®‰å…¨çš„ä»£ç æ˜¯æé«˜ç¨‹åºå¯é æ€§çš„é‡è¦æ­¥éª¤ã€‚ä»¥ä¸‹æ˜¯å®ç°å¼‚å¸¸å®‰å…¨æ€§çš„å‡ ä¸ªå…³é”®åŸåˆ™ï¼š å¼ºå¼‚å¸¸ä¿è¯ï¼šæ“ä½œè¦ä¹ˆå®Œå…¨æˆåŠŸï¼Œè¦ä¹ˆå®Œå…¨æ²¡æœ‰å‰¯ä½œç”¨ã€‚ åŸºæœ¬å¼‚å¸¸ä¿è¯ï¼šå³ä½¿å‘ç”Ÿå¼‚å¸¸ï¼Œç¨‹åºçŠ¶æ€ä»ç„¶ä¿æŒæœ‰æ•ˆã€‚ æ— å¼‚å¸¸ä¿è¯ï¼šæ“ä½œä¸ä¼šæŠ›å‡ºä»»ä½•å¼‚å¸¸ã€‚ 13.3.1 ä½¿ç”¨RAIIç¡®ä¿èµ„æºé‡Šæ”¾ç»“åˆRAIIåŸåˆ™å’Œæ™ºèƒ½æŒ‡é’ˆï¼Œå¯ä»¥ç¡®ä¿åœ¨å¼‚å¸¸å‘ç”Ÿæ—¶èµ„æºèƒ½å¤Ÿè¢«æ­£ç¡®é‡Šæ”¾ï¼Œé˜²æ­¢èµ„æºæ³„æ¼ã€‚ ç¤ºä¾‹ï¼š 1234567891011121314151617181920212223242526#include &lt;iostream&gt;#include &lt;memory&gt;#include &lt;exception&gt;class Resource &#123;public: Resource() &#123; std::cout &lt;&lt; &quot;èµ„æºåˆ†é…ã€‚&quot; &lt;&lt; std::endl; &#125; ~Resource() &#123; std::cout &lt;&lt; &quot;èµ„æºé‡Šæ”¾ã€‚&quot; &lt;&lt; std::endl; &#125; void use() const &#123; std::cout &lt;&lt; &quot;ä½¿ç”¨èµ„æºã€‚&quot; &lt;&lt; std::endl; &#125;&#125;;void process() &#123; std::unique_ptr&lt;Resource&gt; res = std::make_unique&lt;Resource&gt;(); res-&gt;use(); throw std::runtime_error(&quot;å¤„ç†è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ã€‚&quot;);&#125;int main() &#123; try &#123; process(); &#125; catch(const std::exception&amp; e) &#123; std::cerr &lt;&lt; &quot;å¼‚å¸¸æ•è·: &quot; &lt;&lt; e.what() &lt;&lt; std::endl; &#125; return 0;&#125; è¾“å‡ºï¼š 1234èµ„æºåˆ†é…ã€‚ä½¿ç”¨èµ„æºã€‚èµ„æºé‡Šæ”¾ã€‚å¼‚å¸¸æ•è·: å¤„ç†è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ã€‚ è§£é‡Šï¼š ä½¿ç”¨std::unique_ptrç®¡ç†Resourceå¯¹è±¡ï¼Œç¡®ä¿å³ä½¿åœ¨processå‡½æ•°æŠ›å‡ºå¼‚å¸¸æ—¶ï¼Œèµ„æºä¹Ÿä¼šè¢«è‡ªåŠ¨é‡Šæ”¾ã€‚ é€šè¿‡RAIIå’Œæ™ºèƒ½æŒ‡é’ˆï¼Œç®€åŒ–äº†å¼‚å¸¸å®‰å…¨æ€§çš„å®ç°ï¼Œæå‡äº†ä»£ç çš„å¯é æ€§ã€‚ 13.4 åœ¨Qtä¸­çš„åº”ç”¨åœ¨Qtå¼€å‘ä¸­ï¼Œå¼‚å¸¸å¤„ç†åŒæ ·é‡è¦ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†æ–‡ä»¶æ“ä½œã€ç½‘ç»œé€šä¿¡å’ŒåŠ¨æ€å†…å­˜ç®¡ç†ç­‰å¯èƒ½å‡ºç°é”™è¯¯çš„åœºæ™¯ä¸­ã€‚ç»“åˆQtçš„ä¿¡å·æ§½æœºåˆ¶å’ŒC++çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œå¯ä»¥å®ç°æ›´åŠ å¥å£®çš„åº”ç”¨ç¨‹åºã€‚ ç¤ºä¾‹ï¼šåœ¨Qtä¸­å¤„ç†æ–‡ä»¶è¯»å–å¼‚å¸¸ 123456789101112131415161718192021222324252627282930313233343536373839404142434445#include &lt;QCoreApplication&gt;#include &lt;QFile&gt;#include &lt;QTextStream&gt;#include &lt;QDebug&gt;#include &lt;exception&gt;// è‡ªå®šä¹‰å¼‚å¸¸ç±»class FileException : public std::exception &#123;public: FileException(const QString&amp; message) : msg_(message) &#123;&#125; virtual const char* what() const noexcept override &#123; return msg_.toStdString().c_str(); &#125;private: QString msg_;&#125;;void readFile(const QString&amp; filename) &#123; QFile file(filename); if(!file.open(QIODevice::ReadOnly | QIODevice::Text)) &#123; throw FileException(QString(&quot;æ— æ³•æ‰“å¼€æ–‡ä»¶: %1&quot;).arg(filename)); &#125; QTextStream in(&amp;file); while(!in.atEnd()) &#123; QString line = in.readLine(); qDebug() &lt;&lt; line; &#125;&#125;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); try &#123; readFile(&quot;nonexistent.txt&quot;); &#125; catch(const FileException&amp; e) &#123; qCritical() &lt;&lt; &quot;æ–‡ä»¶è¯»å–é”™è¯¯:&quot; &lt;&lt; e.what(); &#125; catch(const std::exception&amp; e) &#123; qCritical() &lt;&lt; &quot;æ ‡å‡†å¼‚å¸¸:&quot; &lt;&lt; e.what(); &#125; return a.exec();&#125; è¾“å‡ºï¼š 1æ–‡ä»¶è¯»å–é”™è¯¯: æ— æ³•æ‰“å¼€æ–‡ä»¶: nonexistent.txt è§£é‡Šï¼š åœ¨readFileå‡½æ•°ä¸­ï¼Œå°è¯•æ‰“å¼€æ–‡ä»¶ï¼Œå¦‚æœå¤±è´¥åˆ™æŠ›å‡ºè‡ªå®šä¹‰çš„FileExceptionã€‚ mainå‡½æ•°ä¸­çš„try-catchå—æ•è·å¹¶å¤„ç†æ–‡ä»¶è¯»å–å¼‚å¸¸ï¼Œç¡®ä¿åº”ç”¨ç¨‹åºä¸ä¼šå› æœªå¤„ç†çš„å¼‚å¸¸è€Œå´©æºƒã€‚ æ€»ç»“æœ¬ç¯‡æ–‡ç« æ·±å…¥ä»‹ç»äº†Qt C++è¯­è¨€ä¸­çš„æ–°ç‰¹æ€§ï¼ŒåŒ…æ‹¬æ­£åˆ™è¡¨è¾¾å¼ã€æ™ºèƒ½æŒ‡é’ˆã€å…³é”®å­—nullpträ¸constexprã€å¤šçº¿ç¨‹ç¼–ç¨‹å·¥å…·ã€STLçš„å“ˆå¸Œæ˜ å°„å®¹å™¨unordered_mapã€åŸå­æ“ä½œä¸æ¡ä»¶å˜é‡ã€å¼‚å¸¸å¤„ç†çš„æ·±å…¥ç†è§£ä»¥åŠç±»å‹ç‰¹æ€§æ£€æµ‹ã€‚è¿™äº›æ–°ç‰¹æ€§ä¸ä»…æå‡äº†C++çš„ç¼–ç¨‹èƒ½åŠ›ï¼Œè¿˜ä¸ºQtå¼€å‘æä¾›äº†æ›´é«˜æ•ˆã€æ›´å®‰å…¨å’Œæ›´çµæ´»çš„å·¥å…·å’Œæ–¹æ³•ã€‚ ä¸»è¦å†…å®¹å›é¡¾ï¼š æ­£åˆ™è¡¨è¾¾å¼åŸºç¡€ ä½¿ç”¨C++11çš„&lt;regex&gt;åº“è¿›è¡Œæ¨¡å¼åŒ¹é…ã€æœç´¢å’Œæ›¿æ¢ã€‚ åœ¨Qtä¸­ä½¿ç”¨QRegularExpressionè¿›è¡Œé«˜çº§æ–‡æœ¬å¤„ç†ã€‚ æ™ºèƒ½æŒ‡é’ˆï¼šshared_ptrã€unique_ptr ä¸ weak_ptr std::unique_ptræä¾›ç‹¬å æ‰€æœ‰æƒï¼Œé€‚ç”¨äºå”¯ä¸€èµ„æºç®¡ç†ã€‚ std::shared_ptrå…è®¸å¤šä¸ªæŒ‡é’ˆå…±äº«èµ„æºï¼Œé€‚ç”¨äºéœ€è¦å…±äº«æ‰€æœ‰æƒçš„åœºæ™¯ã€‚ std::weak_ptrç”¨äºè§‚å¯Ÿä½†ä¸æ‹¥æœ‰èµ„æºï¼Œé˜²æ­¢å¾ªç¯å¼•ç”¨ã€‚ å…³é”®å­—ï¼šnullptr ä¸ constexpr nullptræå‡æŒ‡é’ˆæ“ä½œçš„ç±»å‹å®‰å…¨æ€§ï¼Œæ›¿ä»£ä¼ ç»Ÿçš„NULLã€‚ constexpræ”¯æŒç¼–è¯‘æœŸå¸¸é‡è®¡ç®—ï¼Œä¼˜åŒ–ä»£ç æ€§èƒ½å’Œå®‰å…¨æ€§ã€‚ å…±äº«å†…å­˜ä¸äº’æ–¥é‡ï¼ˆMutexï¼‰ ä½¿ç”¨std::mutexå’Œstd::lock_guardä¿æŠ¤å…±äº«èµ„æºï¼Œé˜²æ­¢æ•°æ®ç«äº‰ã€‚ åœ¨Qtä¸­ç»“åˆæ™ºèƒ½æŒ‡é’ˆå’Œäº’æ–¥é‡å®ç°çº¿ç¨‹å®‰å…¨çš„æ•°æ®ç®¡ç†ã€‚ C++11 STLå“ˆå¸Œæ˜ å°„å®¹å™¨ï¼šstd::unordered_map æä¾›é«˜æ•ˆçš„é”®å€¼å¯¹å­˜å‚¨å’ŒæŸ¥æ‰¾æœºåˆ¶ã€‚ æ”¯æŒè‡ªå®šä¹‰ç±»å‹ä½œä¸ºé”®ï¼Œé€šè¿‡è‡ªå®šä¹‰å“ˆå¸Œå‡½æ•°å®ç°é«˜æ•ˆæŸ¥æ‰¾ã€‚ åŸå­æ“ä½œä¸æ¡ä»¶å˜é‡ ä½¿ç”¨std::atomicå’Œstd::atomic_flagå®ç°æ— é”ç¼–ç¨‹ï¼Œç¡®ä¿æ•°æ®æ“ä½œçš„åŸå­æ€§ã€‚ ä½¿ç”¨std::condition_variableå®ç°çº¿ç¨‹é—´çš„åŒæ­¥ä¸é€šä¿¡ï¼Œè§£å†³ç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜ã€‚ å¼‚å¸¸å¤„ç†ï¼šexceptionçš„æ·±å…¥ç†è§£ ç†è§£å¼‚å¸¸ç±»çš„å±‚æ¬¡ç»“æ„ï¼Œä½¿ç”¨æ ‡å‡†å¼‚å¸¸ç±»å’Œè‡ªå®šä¹‰å¼‚å¸¸ç±»ã€‚ ç»“åˆRAIIå’Œæ™ºèƒ½æŒ‡é’ˆå®ç°å¼‚å¸¸å®‰å…¨çš„èµ„æºç®¡ç†ï¼Œæå‡ç¨‹åºçš„å¯é æ€§ã€‚ ä¸‹ä¸€æ­¥å­¦ä¹ å»ºè®®ï¼šæŒæ¡äº†ä¸Šè¿°C++çš„æ–°ç‰¹æ€§åï¼Œå»ºè®®ç»§ç»­æ·±å…¥ä»¥ä¸‹å†…å®¹ï¼Œä»¥å…¨é¢æå‡Qt C++ç¼–ç¨‹èƒ½åŠ›ï¼š ç±»å‹ç‰¹æ€§æ£€æµ‹ï¼štype_traitsåº“çš„åº”ç”¨ ä½¿ç”¨std::is_integralã€std::is_rvalue_referenceã€std::is_arithmeticã€std::is_volatileã€std::is_classç­‰è¿›è¡Œç±»å‹åˆ¤æ–­ï¼Œè¾…åŠ©æ¨¡æ¿å…ƒç¼–ç¨‹ã€‚ å˜é‡æ¨¡æ¿ä¸å†…è”å˜é‡ï¼ˆC++14ï¼‰ å­¦ä¹ C++14ä¸­çš„å˜é‡æ¨¡æ¿å’Œinlineå˜é‡çš„æ¦‚å¿µï¼Œåº”ç”¨äºå®é™…ç¼–ç¨‹ã€‚ å¤šçº¿ç¨‹ç¼–ç¨‹çš„é«˜çº§å·¥å…· æ·±å…¥äº†è§£çº¿ç¨‹å±€éƒ¨å­˜å‚¨ã€é”çš„ä¼˜åŒ–ç­–ç•¥ã€çº¿ç¨‹æ± ç­‰é«˜çº§å¤šçº¿ç¨‹ç¼–ç¨‹å·¥å…·ã€‚ æ¨¡æ¿ç¼–ç¨‹çš„é«˜çº§æŠ€å·§ æŒæ¡æ¨¡æ¿å…ƒç¼–ç¨‹ã€SFINAEï¼ˆæ›¿æ¢å¤±è´¥ä¸æ˜¯é”™è¯¯ï¼‰ç­‰é«˜çº§æ¨¡æ¿ç¼–ç¨‹æŠ€æœ¯ï¼Œæå‡ä»£ç çš„æ³›åŒ–å’Œå¤ç”¨èƒ½åŠ›ã€‚ Qtæ¡†æ¶çš„æ ¸å¿ƒæ¦‚å¿µä¸é«˜çº§åŠŸèƒ½ æ·±å…¥å­¦ä¹ Qtçš„ä¿¡å·ä¸æ§½æœºåˆ¶ã€äº‹ä»¶å¤„ç†ã€æ¨¡å‹-è§†å›¾æ¶æ„ã€Qt Quickç­‰é«˜çº§åŠŸèƒ½ï¼Œæ„å»ºæ›´å¤æ‚å’ŒåŠŸèƒ½ä¸°å¯Œçš„åº”ç”¨ç¨‹åºã€‚ æŒç»­å…³æ³¨ï¼Œæˆ‘ä»¬å°†åœ¨åç»­çš„æ–‡ç« ä¸­è¯¦ç»†ä»‹ç»è¿™äº›å†…å®¹ï¼Œå¸®åŠ©æ‚¨å…¨é¢æŒæ¡Qt C++ç¼–ç¨‹çš„æ–°ç‰¹æ€§å’Œé«˜çº§æŠ€å·§ï¼Œæå‡å¼€å‘æ•ˆç‡ï¼Œæ„å»ºé«˜è´¨é‡çš„Qtåº”ç”¨ç¨‹åºã€‚ å¦‚æœæ‚¨å¯¹æœ¬æ–‡å†…å®¹æœ‰ä»»ä½•ç–‘é—®æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€ä¸æˆ‘ä»¬äº¤æµã€‚æ„Ÿè°¢æ‚¨çš„é˜…è¯»ä¸æ”¯æŒï¼","categories":[],"tags":[]},{"title":"Qt C++è¯­è¨€è¿›é˜¶è¯¦è§£","slug":"Qt-C-è¯­è¨€è¿›é˜¶è¯¦è§£","date":"2024-12-26T13:30:42.000Z","updated":"2024-12-26T13:30:50.673Z","comments":true,"path":"2024/12/26/Qt-C-è¯­è¨€è¿›é˜¶è¯¦è§£/","link":"","permalink":"http://ycx81.github.io/2024/12/26/Qt-C-%E8%AF%AD%E8%A8%80%E8%BF%9B%E9%98%B6%E8%AF%A6%E8%A7%A3/","excerpt":"å‰è¨€","text":"å‰è¨€ Qt C++è¯­è¨€è¿›é˜¶è¯¦è§£åœ¨æŒæ¡äº†Qt C++è¯­è¨€ç¼–ç¨‹çš„åŸºç¡€çŸ¥è¯†åï¼Œè¿›ä¸€æ­¥æ·±å…¥C++çš„é«˜çº§ç‰¹æ€§æ˜¯æå‡ç¼–ç¨‹èƒ½åŠ›çš„å…³é”®ã€‚æœ¬ç¯‡æ–‡ç« å°†è¯¦ç»†ä»‹ç»Qt C++è¯­è¨€ç¼–ç¨‹è¿›é˜¶çš„å¤šä¸ªé‡è¦çŸ¥è¯†ç‚¹ï¼ŒåŒ…æ‹¬å•ç»§æ‰¿ã€å¤šç»§æ‰¿ã€è™šç»§æ‰¿åŠå…¶ä»–ç‰¹æ€§ã€è™šå‡½æ•°ä¸æŠ½è±¡ç±»ã€å‘½åç©ºé—´ä¸æ¨¡æ¿ç­‰ã€‚è¿™äº›å†…å®¹ä¸ä»…èƒ½å¤Ÿå¸®åŠ©æ‚¨æ›´å¥½åœ°ç†è§£C++çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰ç†å¿µï¼Œè¿˜èƒ½ä¸ºåç»­å­¦ä¹ Qtæ¡†æ¶æ‰“ä¸‹åšå®çš„åŸºç¡€ã€‚ 1. å•ç»§æ‰¿ï¼ˆSingle Inheritanceï¼‰1.1 å•ç»§æ‰¿çš„æ¦‚å¿µå•ç»§æ‰¿æ˜¯æŒ‡ä¸€ä¸ªæ´¾ç”Ÿç±»ä»…ç»§æ‰¿è‡ªä¸€ä¸ªåŸºç±»ã€‚è¿™æ˜¯C++ä¸­æœ€åŸºæœ¬çš„ç»§æ‰¿å½¢å¼ï¼Œé€šè¿‡å•ç»§æ‰¿ï¼Œå¯ä»¥å®ç°ä»£ç çš„å¤ç”¨å’Œç±»å±‚æ¬¡ç»“æ„çš„æ„å»ºã€‚ 1.2 å•ç»§æ‰¿çš„å®ç°æ–¹å¼åœ¨C++ä¸­ï¼Œå•ç»§æ‰¿é€šè¿‡åœ¨ç±»å®šä¹‰ä¸­ä½¿ç”¨å†’å·ï¼ˆ:ï¼‰å’Œç»§æ‰¿è®¿é—®æ§åˆ¶ç¬¦ï¼ˆpublicã€protectedæˆ–privateï¼‰æ¥å®ç°ã€‚å¸¸ç”¨çš„ç»§æ‰¿æ–¹å¼æ˜¯å…¬å…±ç»§æ‰¿ï¼ˆpublicï¼‰ï¼Œå®ƒç¡®ä¿åŸºç±»çš„publicå’Œprotectedæˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­ä¿æŒå…¶è®¿é—®æƒé™ã€‚ ç¤ºä¾‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637#include &lt;iostream&gt;#include &lt;string&gt;// åŸºç±»class Animal &#123;public: Animal(const std::string&amp; name) : name_(name) &#123;&#125; void eat() const &#123; std::cout &lt;&lt; name_ &lt;&lt; &quot; is eating.&quot; &lt;&lt; std::endl; &#125;protected: std::string name_;&#125;;// æ´¾ç”Ÿç±»class Dog : public Animal &#123;public: Dog(const std::string&amp; name, const std::string&amp; breed) : Animal(name), breed_(breed) &#123;&#125; void bark() const &#123; std::cout &lt;&lt; name_ &lt;&lt; &quot; the &quot; &lt;&lt; breed_ &lt;&lt; &quot; is barking.&quot; &lt;&lt; std::endl; &#125;private: std::string breed_;&#125;;int main() &#123; Dog myDog(&quot;Buddy&quot;, &quot;Golden Retriever&quot;); myDog.eat(); // è°ƒç”¨åŸºç±»çš„æˆå‘˜å‡½æ•° myDog.bark(); // è°ƒç”¨æ´¾ç”Ÿç±»çš„æˆå‘˜å‡½æ•° return 0;&#125; è¾“å‡ºï¼š 12Buddy is eating.Buddy the Golden Retriever is barking. è§£é‡Šï¼š Animalç±»æ˜¯åŸºç±»ï¼ŒåŒ…å«ä¸€ä¸ªå…¬æœ‰æˆå‘˜å‡½æ•°eatå’Œä¸€ä¸ªå—ä¿æŠ¤çš„æˆå‘˜å˜é‡name_ã€‚ Dogç±»æ˜¯æ´¾ç”Ÿç±»ï¼Œä½¿ç”¨publicç»§æ‰¿è‡ªAnimalï¼Œå¹¶æ·»åŠ äº†ä¸€ä¸ªæ–°çš„æˆå‘˜å‡½æ•°barkå’Œä¸€ä¸ªç§æœ‰æˆå‘˜å˜é‡breed_ã€‚ åœ¨mainå‡½æ•°ä¸­ï¼Œé€šè¿‡Dogç±»çš„å®ä¾‹myDogå¯ä»¥è°ƒç”¨åŸºç±»Animalçš„eatå‡½æ•°ä»¥åŠæ´¾ç”Ÿç±»Dogçš„barkå‡½æ•°ï¼Œå®ç°äº†ä»£ç çš„å¤ç”¨å’ŒåŠŸèƒ½çš„æ‰©å±•ã€‚ 1.3 å•ç»§æ‰¿çš„åº”ç”¨åœºæ™¯å•ç»§æ‰¿é€‚ç”¨äºç®€å•çš„ç±»å±‚æ¬¡ç»“æ„ï¼Œå½“ä¸€ä¸ªç±»åªéœ€è¦ç»§æ‰¿è‡ªå¦ä¸€ä¸ªç±»æ—¶ï¼Œå•ç»§æ‰¿èƒ½å¤Ÿæœ‰æ•ˆåœ°ç»„ç»‡ä»£ç ï¼Œæå‡å¯è¯»æ€§å’Œç»´æŠ¤æ€§ã€‚ä¾‹å¦‚ï¼š åŠ¨ç‰©åˆ†ç±»ï¼šAnimalï¼ˆåŸºç±»ï¼‰â†’ Dogã€Catï¼ˆæ´¾ç”Ÿç±»ï¼‰ å›¾å½¢å½¢çŠ¶ï¼šShapeï¼ˆåŸºç±»ï¼‰â†’ Circleã€Rectangleï¼ˆæ´¾ç”Ÿç±»ï¼‰ å•ç»§æ‰¿èƒ½å¤Ÿæ¸…æ™°åœ°è¡¨è¾¾ç±»ä¹‹é—´çš„â€œæ˜¯ä¸€ä¸ªâ€å…³ç³»ï¼Œç¬¦åˆé¢å‘å¯¹è±¡è®¾è®¡çš„åŸºæœ¬åŸåˆ™ã€‚ 2. å¤šç»§æ‰¿ï¼ˆMultiple Inheritanceï¼‰2.1 å¤šç»§æ‰¿çš„æ¦‚å¿µå¤šç»§æ‰¿æ˜¯æŒ‡ä¸€ä¸ªæ´¾ç”Ÿç±»åŒæ—¶ç»§æ‰¿è‡ªå¤šä¸ªåŸºç±»ã€‚è¿™ä½¿å¾—æ´¾ç”Ÿç±»èƒ½å¤Ÿç»„åˆå¤šä¸ªåŸºç±»çš„åŠŸèƒ½ï¼Œå®ç°æ›´ä¸ºå¤æ‚å’Œçµæ´»çš„ç±»å±‚æ¬¡ç»“æ„ã€‚ç„¶è€Œï¼Œå¤šç»§æ‰¿ä¹Ÿå¸¦æ¥äº†ä¸€äº›æ½œåœ¨çš„é—®é¢˜ï¼Œå¦‚è±å½¢ç»§æ‰¿å¯¼è‡´çš„äºŒä¹‰æ€§ã€‚ 2.2 å¤šç»§æ‰¿çš„å®ç°æ–¹å¼åœ¨C++ä¸­ï¼Œå¤šç»§æ‰¿é€šè¿‡åœ¨ç±»å®šä¹‰ä¸­åˆ—å‡ºå¤šä¸ªåŸºç±»ï¼Œå¹¶ç”¨é€—å·åˆ†éš”å®ƒä»¬æ¥å®ç°ã€‚æ¯ä¸ªåŸºç±»å¯ä»¥æœ‰ä¸åŒçš„ç»§æ‰¿è®¿é—®æ§åˆ¶ç¬¦ã€‚ ç¤ºä¾‹ï¼š 1234567891011121314151617181920212223242526272829303132333435#include &lt;iostream&gt;#include &lt;string&gt;// åŸºç±»1class Flyer &#123;public: void fly() const &#123; std::cout &lt;&lt; &quot;Flying in the sky.&quot; &lt;&lt; std::endl; &#125;&#125;;// åŸºç±»2class Swimmer &#123;public: void swim() const &#123; std::cout &lt;&lt; &quot;Swimming in the water.&quot; &lt;&lt; std::endl; &#125;&#125;;// æ´¾ç”Ÿç±»ï¼Œå¤šç»§æ‰¿è‡ªFlyerå’ŒSwimmerclass Duck : public Flyer, public Swimmer &#123;public: void quack() const &#123; std::cout &lt;&lt; &quot;Quack quack!&quot; &lt;&lt; std::endl; &#125;&#125;;int main() &#123; Duck daffy; daffy.fly(); // è°ƒç”¨Flyerçš„æˆå‘˜å‡½æ•° daffy.swim(); // è°ƒç”¨Swimmerçš„æˆå‘˜å‡½æ•° daffy.quack(); // è°ƒç”¨Duckçš„æˆå‘˜å‡½æ•° return 0;&#125; è¾“å‡ºï¼š 123Flying in the sky.Swimming in the water.Quack quack! è§£é‡Šï¼š Flyerå’ŒSwimmeræ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„åŸºç±»ï¼Œåˆ†åˆ«æä¾›flyå’ŒswimåŠŸèƒ½ã€‚ Duckç±»é€šè¿‡publicå¤šç»§æ‰¿è‡ªFlyerå’ŒSwimmerï¼Œå› æ­¤Duckç±»çš„å¯¹è±¡å¯ä»¥åŒæ—¶è°ƒç”¨ä¸¤ä¸ªåŸºç±»çš„æˆå‘˜å‡½æ•°ã€‚ è¿™ç§æ–¹å¼å®ç°äº†åŠŸèƒ½çš„ç»„åˆï¼Œä½¿å¾—Duckç±»å…·å¤‡é£è¡Œå’Œæ¸¸æ³³çš„èƒ½åŠ›ã€‚ 2.3 å¤šç»§æ‰¿çš„ä¼˜ç‚¹ åŠŸèƒ½ç»„åˆï¼šé€šè¿‡å¤šç»§æ‰¿ï¼Œæ´¾ç”Ÿç±»å¯ä»¥ç»„åˆå¤šä¸ªåŸºç±»çš„åŠŸèƒ½ï¼Œé¿å…é‡å¤ä»£ç ã€‚ çµæ´»æ€§ï¼šå¤šç»§æ‰¿æä¾›äº†æ›´é«˜çš„çµæ´»æ€§ï¼Œå…è®¸ç±»ä»¥å¤šç§æ–¹å¼ç»„åˆå’Œæ‰©å±•åŠŸèƒ½ã€‚ æ¨¡å‹è¡¨è¾¾åŠ›å¢å¼ºï¼šèƒ½å¤Ÿæ›´å‡†ç¡®åœ°è¡¨è¾¾ç°å®ä¸–ç•Œä¸­äº‹ç‰©çš„å¤šé‡ç‰¹æ€§ã€‚ 2.4 å¤šç»§æ‰¿çš„æ½œåœ¨é—®é¢˜å°½ç®¡å¤šç»§æ‰¿å¸¦æ¥äº†åŠŸèƒ½çš„å¼ºå¤§ç»„åˆï¼Œä½†ä¹Ÿå¼•å…¥äº†ä¸€äº›å¤æ‚æ€§å’Œæ½œåœ¨é—®é¢˜ï¼Œä¸»è¦åŒ…æ‹¬ï¼š 2.4.1 è±å½¢ç»§æ‰¿ï¼ˆDiamond Inheritanceï¼‰è±å½¢ç»§æ‰¿æ˜¯å¤šç»§æ‰¿ä¸­æœ€å¸¸è§çš„é—®é¢˜ä¹‹ä¸€ï¼ŒæŒ‡çš„æ˜¯ä¸€ä¸ªæ´¾ç”Ÿç±»é€šè¿‡å¤šä¸ªè·¯å¾„ç»§æ‰¿è‡ªåŒä¸€ä¸ªåŸºç±»ï¼Œå¯¼è‡´åŸºç±»çš„æˆå‘˜å‡ºç°äºŒä¹‰æ€§ã€‚ ç¤ºä¾‹ï¼š 1234567891011121314151617181920212223242526272829303132333435#include &lt;iostream&gt;// åŸºç±»class Animal &#123;public: void eat() const &#123; std::cout &lt;&lt; &quot;Animal is eating.&quot; &lt;&lt; std::endl; &#125;&#125;;// æ´¾ç”Ÿç±»1class Mammal : public Animal &#123;&#125;;// æ´¾ç”Ÿç±»2class Bird : public Animal &#123;&#125;;// æ´¾ç”Ÿç±»ï¼Œå¤šç»§æ‰¿è‡ªMammalå’ŒBirdclass Bat : public Mammal, public Bird &#123;public: void fly() const &#123; std::cout &lt;&lt; &quot;Bat is flying.&quot; &lt;&lt; std::endl; &#125;&#125;;int main() &#123; Bat bat; // bat.eat(); // ç¼–è¯‘é”™è¯¯ï¼ŒäºŒä¹‰æ€§ bat.Mammal::eat(); // æŒ‡å®šè°ƒç”¨Mammalè·¯å¾„çš„eat bat.Bird::eat(); // æŒ‡å®šè°ƒç”¨Birdè·¯å¾„çš„eat bat.fly(); return 0;&#125; è¾“å‡ºï¼š 123Animal is eating.Animal is eating.Bat is flying. è§£é‡Šï¼š Batç±»é€šè¿‡Mammalå’ŒBirdä¸¤ä¸ªè·¯å¾„ç»§æ‰¿è‡ªAnimalç±»ï¼Œå¯¼è‡´Batç±»ä¸­å­˜åœ¨ä¸¤ä¸ªAnimalç±»çš„å­å¯¹è±¡ã€‚ å½“å°è¯•è°ƒç”¨bat.eat()æ—¶ï¼Œç¼–è¯‘å™¨æ— æ³•ç¡®å®šè°ƒç”¨å“ªä¸ªAnimal::eat()ç‰ˆæœ¬ï¼Œå¯¼è‡´äºŒä¹‰æ€§é”™è¯¯ã€‚ éœ€è¦æ˜ç¡®æŒ‡å®šè°ƒç”¨å“ªä¸ªåŸºç±»è·¯å¾„çš„æˆå‘˜å‡½æ•°ï¼Œå¦‚bat.Mammal::eat()æˆ–bat.Bird::eat()ã€‚ 2.4.2 äºŒä¹‰æ€§é—®é¢˜é™¤äº†è±å½¢ç»§æ‰¿ï¼Œå…¶ä»–å¤šç»§æ‰¿åœºæ™¯ä¸­ä¹Ÿå¯èƒ½å‡ºç°äºŒä¹‰æ€§é—®é¢˜ï¼Œå¦‚ä¸åŒåŸºç±»ä¸­å­˜åœ¨åŒåæˆå‘˜å‡½æ•°æˆ–å˜é‡æ—¶ï¼Œæ´¾ç”Ÿç±»éœ€è¦æ˜ç¡®æŒ‡å®šè®¿é—®å“ªä¸ªåŸºç±»çš„æˆå‘˜ã€‚ ç¤ºä¾‹ï¼š 123456789101112131415161718192021222324252627282930313233#include &lt;iostream&gt;// åŸºç±»1class Base1 &#123;public: void show() const &#123; std::cout &lt;&lt; &quot;Base1 show()&quot; &lt;&lt; std::endl; &#125;&#125;;// åŸºç±»2class Base2 &#123;public: void show() const &#123; std::cout &lt;&lt; &quot;Base2 show()&quot; &lt;&lt; std::endl; &#125;&#125;;// æ´¾ç”Ÿç±»ï¼Œå¤šç»§æ‰¿è‡ªBase1å’ŒBase2class Derived : public Base1, public Base2 &#123;public: void display() const &#123; // show(); // ç¼–è¯‘é”™è¯¯ï¼ŒäºŒä¹‰æ€§ Base1::show(); // æŒ‡å®šè°ƒç”¨Base1çš„show Base2::show(); // æŒ‡å®šè°ƒç”¨Base2çš„show &#125;&#125;;int main() &#123; Derived obj; obj.display(); return 0;&#125; è¾“å‡ºï¼š 12Base1 show()Base2 show() è§£é‡Šï¼š Derivedç±»ç»§æ‰¿è‡ªBase1å’ŒBase2ï¼Œä¸¤è€…éƒ½å®šä¹‰äº†showæˆå‘˜å‡½æ•°ã€‚ è°ƒç”¨show()æ—¶ï¼Œç¼–è¯‘å™¨æ— æ³•ç¡®å®šåº”è°ƒç”¨å“ªä¸ªåŸºç±»çš„showå‡½æ•°ï¼Œå¯¼è‡´äºŒä¹‰æ€§é”™è¯¯ã€‚ éœ€è¦æ˜ç¡®æŒ‡å®šè°ƒç”¨å“ªä¸ªåŸºç±»çš„showå‡½æ•°ï¼Œå¦‚Base1::show()æˆ–Base2::show()ã€‚ 2.5 å¤šç»§æ‰¿çš„æœ€ä½³å®è·µä¸ºäº†é¿å…å¤šç»§æ‰¿å¸¦æ¥çš„å¤æ‚æ€§å’Œæ½œåœ¨é—®é¢˜ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›æœ€ä½³å®è·µï¼š ä¼˜å…ˆä½¿ç”¨ç»„åˆè€Œéç»§æ‰¿ï¼šåœ¨å¯èƒ½çš„æƒ…å†µä¸‹ï¼Œä¼˜å…ˆé€‰æ‹©ç»„åˆï¼ˆå¯¹è±¡å†…éƒ¨åŒ…å«å¦ä¸€ä¸ªå¯¹è±¡ï¼‰è€Œéç»§æ‰¿ï¼Œä»¥é™ä½ç±»ä¹‹é—´çš„è€¦åˆåº¦ã€‚ æ˜ç¡®ç±»å±‚æ¬¡ç»“æ„ï¼šè®¾è®¡æ¸…æ™°çš„ç±»å±‚æ¬¡ç»“æ„ï¼Œé¿å…ä¸å¿…è¦çš„å¤šç»§æ‰¿ï¼Œç‰¹åˆ«æ˜¯è±å½¢ç»§æ‰¿ã€‚ ä½¿ç”¨è™šç»§æ‰¿è§£å†³è±å½¢ç»§æ‰¿ï¼šå½“å¿…é¡»ä½¿ç”¨å¤šç»§æ‰¿ä¸”å­˜åœ¨è±å½¢ç»§æ‰¿æ—¶ï¼Œé‡‡ç”¨è™šç»§æ‰¿æ¥å…±äº«åŸºç±»çš„å•ä¸€å®ä¾‹ï¼Œé¿å…äºŒä¹‰æ€§ã€‚ é¿å…åŒåæˆå‘˜ï¼šå°½é‡é¿å…ä¸åŒåŸºç±»ä¸­å­˜åœ¨åŒåæˆå‘˜å‡½æ•°æˆ–å˜é‡ï¼Œå‡å°‘äºŒä¹‰æ€§é—®é¢˜ã€‚ åˆç†ä½¿ç”¨è®¿é—®æ§åˆ¶ç¬¦ï¼šåˆç†é€‰æ‹©ç»§æ‰¿çš„è®¿é—®æ§åˆ¶ç¬¦ï¼ˆpublicã€protectedã€privateï¼‰ï¼Œæ§åˆ¶åŸºç±»æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­çš„å¯è§æ€§ã€‚ 3. è™šç»§æ‰¿åŠå…¶ä»–ç‰¹æ€§ï¼ˆVirtual Inheritance and Other Featuresï¼‰3.1 è™šç»§æ‰¿çš„æ¦‚å¿µè™šç»§æ‰¿æ˜¯ä¸€ç§C++ä¸­çš„ç»§æ‰¿æœºåˆ¶ï¼Œç”¨äºè§£å†³å¤šç»§æ‰¿ä¸­è±å½¢ç»§æ‰¿å¸¦æ¥çš„äºŒä¹‰æ€§é—®é¢˜ã€‚é€šè¿‡è™šç»§æ‰¿ï¼Œæ´¾ç”Ÿç±»å…±äº«åŒä¸€ä¸ªåŸºç±»çš„å®ä¾‹ï¼Œé¿å…äº†å¤šä¸ªåŸºç±»å­å¯¹è±¡çš„å‡ºç°ã€‚ 3.2 è™šç»§æ‰¿çš„å®ç°æ–¹å¼åœ¨C++ä¸­ï¼Œä½¿ç”¨virtualå…³é”®å­—åœ¨ç»§æ‰¿æ—¶æŒ‡å®šè™šç»§æ‰¿ã€‚å…·ä½“æ¥è¯´ï¼Œåœ¨æ´¾ç”Ÿç±»ç»§æ‰¿åŸºç±»æ—¶ï¼Œä½¿ç”¨virtualå…³é”®å­—ä¿®é¥°åŸºç±»åã€‚ ç¤ºä¾‹ï¼šè§£å†³è±å½¢ç»§æ‰¿çš„äºŒä¹‰æ€§é—®é¢˜ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667#include &lt;iostream&gt;#include &lt;string&gt;// åŸºç±»class Animal &#123;public: Animal(const std::string&amp; name) : name_(name) &#123;&#125; void eat() const &#123; std::cout &lt;&lt; name_ &lt;&lt; &quot; is eating.&quot; &lt;&lt; std::endl; &#125;protected: std::string name_;&#125;;// è™šç»§æ‰¿åŸºç±»class Mammal : virtual public Animal &#123;public: Mammal(const std::string&amp; name, const std::string&amp; furColor) : Animal(name), furColor_(furColor) &#123;&#125; void showFur() const &#123; std::cout &lt;&lt; name_ &lt;&lt; &quot; has &quot; &lt;&lt; furColor_ &lt;&lt; &quot; fur.&quot; &lt;&lt; std::endl; &#125;private: std::string furColor_;&#125;;// è™šç»§æ‰¿åŸºç±»class Bird : virtual public Animal &#123;public: Bird(const std::string&amp; name, double wingSpan) : Animal(name), wingSpan_(wingSpan) &#123;&#125; void showWings() const &#123; std::cout &lt;&lt; name_ &lt;&lt; &quot; has a wingspan of &quot; &lt;&lt; wingSpan_ &lt;&lt; &quot; meters.&quot; &lt;&lt; std::endl; &#125;private: double wingSpan_;&#125;;// æ´¾ç”Ÿç±»ï¼Œå¤šç»§æ‰¿è‡ªMammalå’ŒBirdclass Bat : public Mammal, public Bird &#123;public: Bat(const std::string&amp; name, const std::string&amp; furColor, double wingSpan, bool echolocation) : Animal(name), Mammal(name, furColor), Bird(name, wingSpan), echolocation_(echolocation) &#123;&#125; void display() const &#123; eat(); // å”¯ä¸€çš„Animal::eat() showFur(); showWings(); std::cout &lt;&lt; name_ &lt;&lt; &quot; uses &quot; &lt;&lt; (echolocation_ ? &quot;echolocation.&quot; : &quot;other navigation methods.&quot;) &lt;&lt; std::endl; &#125;private: bool echolocation_;&#125;;int main() &#123; Bat bat(&quot;Bruce&quot;, &quot;brown&quot;, 1.5, true); bat.display(); return 0;&#125; è¾“å‡ºï¼š 1234Bruce is eating.Bruce has brown fur.Bruce has a wingspan of 1.5 meters.Bruce uses echolocation. è§£é‡Šï¼š Mammalå’ŒBirdç±»é€šè¿‡virtualå…³é”®å­—è™šç»§æ‰¿è‡ªAnimalç±»ï¼Œç¡®ä¿Batç±»ä¸­åªæœ‰ä¸€ä¸ªAnimalåŸºç±»å­å¯¹è±¡ã€‚ åœ¨Batç±»çš„æ„é€ å‡½æ•°ä¸­ï¼Œå¿…é¡»æ˜¾å¼è°ƒç”¨Animalç±»çš„æ„é€ å‡½æ•°ï¼Œä»¥åˆå§‹åŒ–å…±äº«çš„Animalå­å¯¹è±¡ã€‚ é€šè¿‡è™šç»§æ‰¿ï¼ŒBatç±»èƒ½å¤Ÿé¿å…è±å½¢ç»§æ‰¿å¸¦æ¥çš„äºŒä¹‰æ€§é—®é¢˜ï¼Œeatå‡½æ•°è°ƒç”¨å˜å¾—æ˜ç¡®ä¸”æ— æ­§ä¹‰ã€‚ 3.3 å…¶ä»–é«˜çº§ç»§æ‰¿ç‰¹æ€§é™¤äº†è™šç»§æ‰¿ï¼ŒC++è¿˜æä¾›äº†å…¶ä»–ä¸€äº›é«˜çº§ç»§æ‰¿ç‰¹æ€§ï¼Œä»¥å¢å¼ºç±»å±‚æ¬¡ç»“æ„çš„è¡¨è¾¾èƒ½åŠ›å’Œçµæ´»æ€§ã€‚ 3.3.1 å¤šçº§ç»§æ‰¿ï¼ˆMultilevel Inheritanceï¼‰å¤šçº§ç»§æ‰¿æ˜¯æŒ‡ä¸€ä¸ªæ´¾ç”Ÿç±»ç»§æ‰¿è‡ªå¦ä¸€ä¸ªæ´¾ç”Ÿç±»ï¼Œå½¢æˆä¸€ä¸ªç»§æ‰¿é“¾ã€‚å®ƒæœ‰åŠ©äºæ„å»ºæ›´ä¸ºå¤æ‚å’Œæœ‰å±‚æ¬¡çš„ç±»ç»“æ„ã€‚ ç¤ºä¾‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051#include &lt;iostream&gt;// åŸºç±»class Vehicle &#123;public: Vehicle(const std::string&amp; brand) : brand_(brand) &#123;&#125; void honk() const &#123; std::cout &lt;&lt; brand_ &lt;&lt; &quot; vehicle is honking.&quot; &lt;&lt; std::endl; &#125;protected: std::string brand_;&#125;;// æ´¾ç”Ÿç±»1class Car : public Vehicle &#123;public: Car(const std::string&amp; brand, int doors) : Vehicle(brand), doors_(doors) &#123;&#125; void displayDoors() const &#123; std::cout &lt;&lt; brand_ &lt;&lt; &quot; car has &quot; &lt;&lt; doors_ &lt;&lt; &quot; doors.&quot; &lt;&lt; std::endl; &#125;private: int doors_;&#125;;// æ´¾ç”Ÿç±»2ï¼Œå¤šçº§ç»§æ‰¿è‡ªCarclass ElectricCar : public Car &#123;public: ElectricCar(const std::string&amp; brand, int doors, double batteryCapacity) : Car(brand, doors), batteryCapacity_(batteryCapacity) &#123;&#125; void displayBattery() const &#123; std::cout &lt;&lt; brand_ &lt;&lt; &quot; electric car has a battery capacity of &quot; &lt;&lt; batteryCapacity_ &lt;&lt; &quot; kWh.&quot; &lt;&lt; std::endl; &#125;private: double batteryCapacity_;&#125;;int main() &#123; ElectricCar tesla(&quot;Tesla&quot;, 4, 75.0); tesla.honk(); tesla.displayDoors(); tesla.displayBattery(); return 0;&#125; è¾“å‡ºï¼š 123Tesla vehicle is honking.Tesla car has 4 doors.Tesla electric car has a battery capacity of 75 kWh. è§£é‡Šï¼š ElectricCarç±»é€šè¿‡å¤šçº§ç»§æ‰¿ä»Carç»§æ‰¿ï¼ŒCaråˆä»Vehicleç»§æ‰¿ã€‚ è¿™ç§ç»§æ‰¿æ–¹å¼å½¢æˆäº†ä¸€ä¸ªæ¸…æ™°çš„å±‚æ¬¡ç»“æ„ï¼ŒElectricCarä¸ä»…æ‹¥æœ‰Carçš„å±æ€§å’Œè¡Œä¸ºï¼Œè¿˜ç»§æ‰¿äº†Vehicleçš„åŠŸèƒ½ã€‚ 3.3.2 è™šç»§æ‰¿ä¸å¤šçº§ç»§æ‰¿çš„ç»“åˆåœ¨å¤šçº§ç»§æ‰¿ä¸­ï¼Œå¦‚æœå­˜åœ¨è±å½¢ç»§æ‰¿å…³ç³»ï¼ŒåŒæ ·éœ€è¦ä½¿ç”¨è™šç»§æ‰¿æ¥é¿å…äºŒä¹‰æ€§é—®é¢˜ã€‚é€šè¿‡åˆç†è®¾è®¡ç»§æ‰¿å…³ç³»ï¼Œå¯ä»¥æ„å»ºç¨³å®šä¸”é«˜æ•ˆçš„ç±»å±‚æ¬¡ç»“æ„ã€‚ 4. è™šå‡½æ•°ä¸æŠ½è±¡ç±»ï¼ˆVirtual Functions and Abstract Classesï¼‰4.1 è™šå‡½æ•°çš„æ¦‚å¿µè™šå‡½æ•°æ˜¯åŸºç±»ä¸­å£°æ˜ä¸ºvirtualçš„æˆå‘˜å‡½æ•°ï¼Œå…è®¸æ´¾ç”Ÿç±»å¯¹å…¶è¿›è¡Œé‡å†™ï¼ˆOverrideï¼‰ã€‚é€šè¿‡è™šå‡½æ•°ï¼Œå¯ä»¥å®ç°å¤šæ€æ€§ï¼Œä½¿å¾—åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨èƒ½å¤Ÿè°ƒç”¨æ´¾ç”Ÿç±»çš„é‡å†™å‡½æ•°ã€‚ 4.2 è™šå‡½æ•°çš„å®ç°ä¸ä½¿ç”¨ç¤ºä¾‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960#include &lt;iostream&gt;#include &lt;string&gt;// åŸºç±»class Shape &#123;public: Shape(const std::string&amp; name) : name_(name) &#123;&#125; // è™šå‡½æ•° virtual void draw() const &#123; std::cout &lt;&lt; &quot;Drawing a generic shape.&quot; &lt;&lt; std::endl; &#125; virtual ~Shape() = default; // è™šææ„å‡½æ•°protected: std::string name_;&#125;;// æ´¾ç”Ÿç±»1class Circle : public Shape &#123;public: Circle(double radius) : Shape(&quot;Circle&quot;), radius_(radius) &#123;&#125; void draw() const override &#123; std::cout &lt;&lt; &quot;Drawing a circle with radius &quot; &lt;&lt; radius_ &lt;&lt; &quot;.&quot; &lt;&lt; std::endl; &#125;private: double radius_;&#125;;// æ´¾ç”Ÿç±»2class Rectangle : public Shape &#123;public: Rectangle(double width, double height) : Shape(&quot;Rectangle&quot;), width_(width), height_(height) &#123;&#125; void draw() const override &#123; std::cout &lt;&lt; &quot;Drawing a rectangle with width &quot; &lt;&lt; width_ &lt;&lt; &quot; and height &quot; &lt;&lt; height_ &lt;&lt; &quot;.&quot; &lt;&lt; std::endl; &#125;private: double width_; double height_;&#125;;int main() &#123; Shape* shape1 = new Circle(5.0); Shape* shape2 = new Rectangle(4.0, 6.0); shape1-&gt;draw(); // è°ƒç”¨Circleçš„draw shape2-&gt;draw(); // è°ƒç”¨Rectangleçš„draw delete shape1; delete shape2; return 0;&#125; è¾“å‡ºï¼š 12Drawing a circle with radius 5.Drawing a rectangle with width 4 and height 6. è§£é‡Šï¼š Shapeç±»ä¸­å£°æ˜äº†ä¸€ä¸ªè™šå‡½æ•°drawï¼Œå¹¶åœ¨æ´¾ç”Ÿç±»Circleå’ŒRectangleä¸­è¿›è¡Œäº†é‡å†™ã€‚ åœ¨mainå‡½æ•°ä¸­ï¼Œé€šè¿‡åŸºç±»æŒ‡é’ˆshape1å’Œshape2æŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡ï¼Œè°ƒç”¨drawå‡½æ•°æ—¶ï¼Œå®é™…æ‰§è¡Œçš„æ˜¯æ´¾ç”Ÿç±»ä¸­é‡å†™çš„ç‰ˆæœ¬ï¼Œå®ç°äº†è¿è¡Œæ—¶å¤šæ€æ€§ã€‚ è™šææ„å‡½æ•°ç¡®ä¿åœ¨åˆ é™¤åŸºç±»æŒ‡é’ˆæŒ‡å‘çš„æ´¾ç”Ÿç±»å¯¹è±¡æ—¶ï¼Œæ­£ç¡®è°ƒç”¨æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°ï¼Œé˜²æ­¢èµ„æºæ³„æ¼ã€‚ 4.3 æŠ½è±¡ç±»çš„å®šä¹‰ä¸ç”¨é€”æŠ½è±¡ç±»æ˜¯åŒ…å«è‡³å°‘ä¸€ä¸ªçº¯è™šå‡½æ•°ï¼ˆPure Virtual Functionï¼‰çš„ç±»ï¼Œä¸èƒ½è¢«å®ä¾‹åŒ–ï¼Œåªèƒ½ä½œä¸ºåŸºç±»ä½¿ç”¨ã€‚æŠ½è±¡ç±»å®šä¹‰äº†æ¥å£è§„èŒƒï¼Œæ´¾ç”Ÿç±»å¿…é¡»å®ç°è¿™äº›çº¯è™šå‡½æ•°ï¼Œæ‰èƒ½è¢«å®ä¾‹åŒ–ã€‚ 4.3.1 çº¯è™šå‡½æ•°çš„å£°æ˜çº¯è™šå‡½æ•°é€šè¿‡åœ¨å‡½æ•°å£°æ˜ååŠ ä¸Š= 0æ¥è¡¨ç¤ºã€‚ ç¤ºä¾‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960#include &lt;iostream&gt;#include &lt;string&gt;// æŠ½è±¡ç±»class AbstractShape &#123;public: AbstractShape(const std::string&amp; name) : name_(name) &#123;&#125; // çº¯è™šå‡½æ•° virtual void draw() const = 0; virtual ~AbstractShape() = default; // è™šææ„å‡½æ•°protected: std::string name_;&#125;;// æ´¾ç”Ÿç±»1class Triangle : public AbstractShape &#123;public: Triangle(double base, double height) : AbstractShape(&quot;Triangle&quot;), base_(base), height_(height) &#123;&#125; void draw() const override &#123; std::cout &lt;&lt; &quot;Drawing a triangle with base &quot; &lt;&lt; base_ &lt;&lt; &quot; and height &quot; &lt;&lt; height_ &lt;&lt; &quot;.&quot; &lt;&lt; std::endl; &#125;private: double base_; double height_;&#125;;// æ´¾ç”Ÿç±»2class Square : public AbstractShape &#123;public: Square(double side) : AbstractShape(&quot;Square&quot;), side_(side) &#123;&#125; void draw() const override &#123; std::cout &lt;&lt; &quot;Drawing a square with side &quot; &lt;&lt; side_ &lt;&lt; &quot;.&quot; &lt;&lt; std::endl; &#125;private: double side_;&#125;;int main() &#123; // AbstractShape shape; // é”™è¯¯ï¼Œæ— æ³•å®ä¾‹åŒ–æŠ½è±¡ç±» AbstractShape* shape1 = new Triangle(3.0, 4.0); AbstractShape* shape2 = new Square(5.0); shape1-&gt;draw(); // è°ƒç”¨Triangleçš„draw shape2-&gt;draw(); // è°ƒç”¨Squareçš„draw delete shape1; delete shape2; return 0;&#125; è¾“å‡ºï¼š 12Drawing a triangle with base 3 and height 4.Drawing a square with side 5. è§£é‡Šï¼š AbstractShapeç±»åŒ…å«ä¸€ä¸ªçº¯è™šå‡½æ•°drawï¼Œå› æ­¤æˆä¸ºæŠ½è±¡ç±»ï¼Œä¸èƒ½è¢«å®ä¾‹åŒ–ã€‚ Triangleå’ŒSquareç±»ç»§æ‰¿è‡ªAbstractShapeå¹¶å®ç°äº†çº¯è™šå‡½æ•°drawï¼Œä½¿å¾—å®ƒä»¬æˆä¸ºå…·ä½“ç±»ï¼Œå¯ä»¥è¢«å®ä¾‹åŒ–ã€‚ é€šè¿‡åŸºç±»æŒ‡é’ˆè°ƒç”¨drawå‡½æ•°æ—¶ï¼Œå®é™…æ‰§è¡Œçš„æ˜¯æ´¾ç”Ÿç±»ä¸­é‡å†™çš„ç‰ˆæœ¬ï¼Œå®ç°äº†å¤šæ€æ€§ã€‚ 4.4 å¤šæ€æ€§çš„å®ç°ä¸åº”ç”¨å¤šæ€æ€§æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ ¸å¿ƒç‰¹æ€§ä¹‹ä¸€ï¼Œé€šè¿‡åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨è°ƒç”¨æ´¾ç”Ÿç±»çš„é‡å†™å‡½æ•°ï¼Œå®ç°ä¸åŒå¯¹è±¡çš„ä¸åŒè¡Œä¸ºã€‚å¤šæ€æ€§å¢å¼ºäº†ä»£ç çš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ï¼Œç‰¹åˆ«é€‚ç”¨äºéœ€è¦å¤„ç†ä¸åŒç±»å‹å¯¹è±¡çš„åœºæ™¯ã€‚ ç¤ºä¾‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859#include &lt;iostream&gt;#include &lt;vector&gt;#include &lt;memory&gt;// æŠ½è±¡åŸºç±»class Animal &#123;public: Animal(const std::string&amp; name) : name_(name) &#123;&#125; virtual void speak() const = 0; // çº¯è™šå‡½æ•° virtual ~Animal() = default; // è™šææ„å‡½æ•°protected: std::string name_;&#125;;// æ´¾ç”Ÿç±»1class Dog : public Animal &#123;public: Dog(const std::string&amp; name) : Animal(name) &#123;&#125; void speak() const override &#123; std::cout &lt;&lt; name_ &lt;&lt; &quot; says: Woof!&quot; &lt;&lt; std::endl; &#125;&#125;;// æ´¾ç”Ÿç±»2class Cat : public Animal &#123;public: Cat(const std::string&amp; name) : Animal(name) &#123;&#125; void speak() const override &#123; std::cout &lt;&lt; name_ &lt;&lt; &quot; says: Meow!&quot; &lt;&lt; std::endl; &#125;&#125;;// æ´¾ç”Ÿç±»3class Bird : public Animal &#123;public: Bird(const std::string&amp; name) : Animal(name) &#123;&#125; void speak() const override &#123; std::cout &lt;&lt; name_ &lt;&lt; &quot; says: Tweet!&quot; &lt;&lt; std::endl; &#125;&#125;;int main() &#123; std::vector&lt;std::unique_ptr&lt;Animal&gt;&gt; animals; animals.emplace_back(std::make_unique&lt;Dog&gt;(&quot;Buddy&quot;)); animals.emplace_back(std::make_unique&lt;Cat&gt;(&quot;Whiskers&quot;)); animals.emplace_back(std::make_unique&lt;Bird&gt;(&quot;Tweety&quot;)); for (const auto&amp; animal : animals) &#123; animal-&gt;speak(); // è°ƒç”¨å„è‡ªçš„speakå‡½æ•° &#125; return 0;&#125; è¾“å‡ºï¼š 123Buddy says: Woof!Whiskers says: Meow!Tweety says: Tweet! è§£é‡Šï¼š Animalæ˜¯ä¸€ä¸ªæŠ½è±¡åŸºç±»ï¼Œå®šä¹‰äº†çº¯è™šå‡½æ•°speakã€‚ Dogã€Catå’ŒBirdç±»ç»§æ‰¿è‡ªAnimalå¹¶å®ç°äº†speakå‡½æ•°ã€‚ åœ¨mainå‡½æ•°ä¸­ï¼Œé€šè¿‡std::unique_ptr&lt;Animal&gt;å­˜å‚¨ä¸åŒç±»å‹çš„åŠ¨ç‰©å¯¹è±¡ï¼Œå¹¶é€šè¿‡åŸºç±»æŒ‡é’ˆè°ƒç”¨speakå‡½æ•°ï¼Œå®é™…æ‰§è¡Œçš„æ˜¯å„è‡ªæ´¾ç”Ÿç±»ä¸­çš„å®ç°ï¼Œå®ç°äº†å¤šæ€æ€§ã€‚ ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆï¼ˆstd::unique_ptrï¼‰è‡ªåŠ¨ç®¡ç†å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œé¿å…æ‰‹åŠ¨ç®¡ç†å†…å­˜ã€‚ 4.5 æŠ½è±¡ç±»çš„åº”ç”¨åœºæ™¯æŠ½è±¡ç±»ä¸»è¦ç”¨äºå®šä¹‰æ¥å£è§„èŒƒï¼Œå¼ºåˆ¶æ´¾ç”Ÿç±»å®ç°ç‰¹å®šçš„åŠŸèƒ½ã€‚å¸¸è§çš„åº”ç”¨åœºæ™¯åŒ…æ‹¬ï¼š æ¥å£å®šä¹‰ï¼šå®šä¹‰ä¸€ç»„ç›¸å…³çš„æ“ä½œï¼Œç¡®ä¿æ‰€æœ‰æ´¾ç”Ÿç±»å®ç°è¿™äº›æ“ä½œã€‚ æ¡†æ¶è®¾è®¡ï¼šåœ¨è½¯ä»¶æ¡†æ¶ä¸­ï¼ŒæŠ½è±¡ç±»ä½œä¸ºåŸºç±»ï¼Œå®šä¹‰æ¡†æ¶æ‰€éœ€çš„åŸºæœ¬åŠŸèƒ½ï¼Œæ´¾ç”Ÿç±»å®ç°å…·ä½“çš„ä¸šåŠ¡é€»è¾‘ã€‚ å¤šæ€æ€§å®ç°ï¼šé€šè¿‡æŠ½è±¡ç±»å®ç°å¤šæ€æ€§ï¼Œå¤„ç†ä¸åŒç±»å‹çš„å¯¹è±¡æ—¶æ— éœ€äº†è§£å…·ä½“ç±»å‹ï¼Œåªéœ€ä¾èµ–åŸºç±»æ¥å£ã€‚ ç¤ºä¾‹ï¼šå›¾å½¢ç»˜åˆ¶æ¡†æ¶ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162#include &lt;iostream&gt;#include &lt;vector&gt;#include &lt;memory&gt;// æŠ½è±¡åŸºç±»class Drawable &#123;public: virtual void draw() const = 0; // çº¯è™šå‡½æ•° virtual ~Drawable() = default; // è™šææ„å‡½æ•°&#125;;// æ´¾ç”Ÿç±»1class Line : public Drawable &#123;public: void draw() const override &#123; std::cout &lt;&lt; &quot;Drawing a line.&quot; &lt;&lt; std::endl; &#125;&#125;;// æ´¾ç”Ÿç±»2class Circle : public Drawable &#123;public: void draw() const override &#123; std::cout &lt;&lt; &quot;Drawing a circle.&quot; &lt;&lt; std::endl; &#125;&#125;;// æ´¾ç”Ÿç±»3class Rectangle : public Drawable &#123;public: void draw() const override &#123; std::cout &lt;&lt; &quot;Drawing a rectangle.&quot; &lt;&lt; std::endl; &#125;&#125;;// ç»˜å›¾å·¥å…·class DrawingTool &#123;public: void addShape(std::unique_ptr&lt;Drawable&gt; shape) &#123; shapes_.emplace_back(std::move(shape)); &#125; void render() const &#123; for (const auto&amp; shape : shapes_) &#123; shape-&gt;draw(); &#125; &#125;private: std::vector&lt;std::unique_ptr&lt;Drawable&gt;&gt; shapes_;&#125;;int main() &#123; DrawingTool tool; tool.addShape(std::make_unique&lt;Line&gt;()); tool.addShape(std::make_unique&lt;Circle&gt;()); tool.addShape(std::make_unique&lt;Rectangle&gt;()); tool.render(); return 0;&#125; è¾“å‡ºï¼š 123Drawing a line.Drawing a circle.Drawing a rectangle. è§£é‡Šï¼š Drawableæ˜¯ä¸€ä¸ªæŠ½è±¡åŸºç±»ï¼Œå®šä¹‰äº†çº¯è™šå‡½æ•°drawã€‚ Lineã€Circleå’ŒRectangleç±»ç»§æ‰¿è‡ªDrawableå¹¶å®ç°äº†drawå‡½æ•°ï¼Œå…·ä½“ç»˜åˆ¶ä¸åŒçš„å›¾å½¢ã€‚ DrawingToolç±»é€šè¿‡å­˜å‚¨Drawableç±»å‹çš„æ™ºèƒ½æŒ‡é’ˆï¼Œç®¡ç†å’Œæ¸²æŸ“å„ç§å›¾å½¢å¯¹è±¡ï¼Œå®ç°äº†ç»˜å›¾å·¥å…·çš„å¤šæ€æ€§å’Œæ‰©å±•æ€§ã€‚ 5. å‘½åç©ºé—´ä¸æ¨¡æ¿ï¼ˆNamespaces and Templatesï¼‰5.1 å‘½åç©ºé—´ï¼ˆNamespacesï¼‰5.1.1 å‘½åç©ºé—´çš„æ¦‚å¿µå‘½åç©ºé—´æ˜¯C++ä¸­ç”¨äºç»„ç»‡ä»£ç å¹¶é¿å…å‘½åå†²çªçš„æœºåˆ¶ã€‚é€šè¿‡å°†ç›¸å…³çš„ç±»ã€å‡½æ•°ã€å˜é‡ç­‰å°è£…åœ¨ä¸€ä¸ªå‘½åç©ºé—´ä¸­ï¼Œå¯ä»¥ç¡®ä¿ä¸åŒæ¨¡å—ä¹‹é—´çš„æ ‡è¯†ç¬¦ä¸ä¼šç›¸äº’å¹²æ‰°ã€‚ 5.1.2 å‘½åç©ºé—´çš„å®šä¹‰ä¸ä½¿ç”¨ç¤ºä¾‹ï¼š 123456789101112131415161718192021222324252627#include &lt;iostream&gt;// å®šä¹‰å‘½åç©ºé—´Mathnamespace Math &#123; const double PI = 3.141592653589793; double square(double x) &#123; return x * x; &#125;&#125;// å®šä¹‰å‘½åç©ºé—´Utilsnamespace Utils &#123; void printMessage(const std::string&amp; message) &#123; std::cout &lt;&lt; &quot;Message: &quot; &lt;&lt; message &lt;&lt; std::endl; &#125;&#125;int main() &#123; double radius = 5.0; double area = Math::PI * Math::square(radius); std::cout &lt;&lt; &quot;Area of circle: &quot; &lt;&lt; area &lt;&lt; std::endl; Utils::printMessage(&quot;Hello, Namespaces!&quot;); return 0;&#125; è¾“å‡ºï¼š 12Area of circle: 78.5398Message: Hello, Namespaces! è§£é‡Šï¼š å‘½åç©ºé—´çš„å®šä¹‰ï¼šé€šè¿‡namespace Math &#123; ... &#125;å’Œnamespace Utils &#123; ... &#125;å®šä¹‰äº†ä¸¤ä¸ªå‘½åç©ºé—´Mathå’ŒUtilsã€‚ å‘½åç©ºé—´æˆå‘˜çš„è®¿é—®ï¼šä½¿ç”¨Math::PIå’ŒMath::square(radius)è®¿é—®Mathå‘½åç©ºé—´ä¸­çš„æˆå‘˜ï¼Œä½¿ç”¨Utils::printMessageè®¿é—®Utilså‘½åç©ºé—´ä¸­çš„å‡½æ•°ã€‚ é¿å…å‘½åå†²çªï¼šå³ä½¿ä¸åŒå‘½åç©ºé—´ä¸­å­˜åœ¨ç›¸åŒåç§°çš„å‡½æ•°æˆ–å˜é‡ï¼Œé€šè¿‡å‘½åç©ºé—´å‰ç¼€å¯ä»¥æ˜ç¡®åŒºåˆ†å®ƒä»¬ã€‚ 5.1.3 ä½¿ç”¨usingå£°æ˜ä¸ºäº†ç®€åŒ–å‘½åç©ºé—´æˆå‘˜çš„è®¿é—®ï¼Œå¯ä»¥ä½¿ç”¨usingå£°æ˜ã€‚ç„¶è€Œï¼Œè¿‡åº¦ä½¿ç”¨usingå¯èƒ½ä¼šå¼•å…¥å‘½åå†²çªï¼Œéœ€è°¨æ…ä½¿ç”¨ã€‚ ç¤ºä¾‹ï¼š 123456789101112131415161718192021222324#include &lt;iostream&gt;namespace Alpha &#123; void greet() &#123; std::cout &lt;&lt; &quot;Hello from Alpha!&quot; &lt;&lt; std::endl; &#125;&#125;namespace Beta &#123; void greet() &#123; std::cout &lt;&lt; &quot;Hello from Beta!&quot; &lt;&lt; std::endl; &#125;&#125;int main() &#123; using Alpha::greet; // å¼•å…¥Alphaå‘½åç©ºé—´çš„greetå‡½æ•° greet(); // è°ƒç”¨Alpha::greet // greet(); // ä»ç„¶åªèƒ½è°ƒç”¨Alpha::greetï¼ŒBeta::greetä¸ä¼šè¢«å¼•å…¥ Beta::greet(); // é€šè¿‡å‘½åç©ºé—´å‰ç¼€è°ƒç”¨Beta::greet return 0;&#125; è¾“å‡ºï¼š 12Hello from Alpha!Hello from Beta! è§£é‡Šï¼š using Alpha::greet;å¼•å…¥äº†Alphaå‘½åç©ºé—´çš„greetå‡½æ•°ï¼Œä½¿å¾—å¯ä»¥ç›´æ¥è°ƒç”¨greet()è€Œä¸éœ€è¦å‰ç¼€ã€‚ Beta::greet();ä»ç„¶éœ€è¦ä½¿ç”¨å‘½åç©ºé—´å‰ç¼€æ¥è°ƒç”¨Betaå‘½åç©ºé—´çš„greetå‡½æ•°ï¼Œé¿å…äº†å‘½åå†²çªã€‚ 5.2 æ¨¡æ¿ï¼ˆTemplatesï¼‰5.2.1 æ¨¡æ¿çš„æ¦‚å¿µæ¨¡æ¿æ˜¯C++ä¸­çš„ä¸€ç§æ³›å‹ç¼–ç¨‹æœºåˆ¶ï¼Œå…è®¸ç¼–å†™ä¸ç±»å‹æ— å…³çš„ä»£ç ã€‚é€šè¿‡æ¨¡æ¿ï¼Œå¯ä»¥å®ç°å‡½æ•°å’Œç±»çš„æ³›å‹åŒ–ï¼Œæé«˜ä»£ç çš„å¤ç”¨æ€§å’Œçµæ´»æ€§ã€‚ 5.2.2 å‡½æ•°æ¨¡æ¿å‡½æ•°æ¨¡æ¿ä½¿å¾—åŒä¸€å‡½æ•°å¯ä»¥å¤„ç†ä¸åŒç±»å‹çš„æ•°æ®ã€‚ ç¤ºä¾‹ï¼š 12345678910111213141516171819202122232425262728#include &lt;iostream&gt;// å®šä¹‰ä¸€ä¸ªå‡½æ•°æ¨¡æ¿ï¼Œç”¨äºäº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼template &lt;typename T&gt;void swapValues(T&amp; a, T&amp; b) &#123; T temp = a; a = b; b = temp;&#125;int main() &#123; int x = 10, y = 20; std::cout &lt;&lt; &quot;Before swap: x = &quot; &lt;&lt; x &lt;&lt; &quot;, y = &quot; &lt;&lt; y &lt;&lt; std::endl; swapValues(x, y); std::cout &lt;&lt; &quot;After swap: x = &quot; &lt;&lt; x &lt;&lt; &quot;, y = &quot; &lt;&lt; y &lt;&lt; std::endl; double m = 1.5, n = 2.5; std::cout &lt;&lt; &quot;Before swap: m = &quot; &lt;&lt; m &lt;&lt; &quot;, n = &quot; &lt;&lt; n &lt;&lt; std::endl; swapValues(m, n); std::cout &lt;&lt; &quot;After swap: m = &quot; &lt;&lt; m &lt;&lt; &quot;, n = &quot; &lt;&lt; n &lt;&lt; std::endl; std::string s1 = &quot;Hello&quot;, s2 = &quot;World&quot;; std::cout &lt;&lt; &quot;Before swap: s1 = &quot; &lt;&lt; s1 &lt;&lt; &quot;, s2 = &quot; &lt;&lt; s2 &lt;&lt; std::endl; swapValues(s1, s2); std::cout &lt;&lt; &quot;After swap: s1 = &quot; &lt;&lt; s1 &lt;&lt; &quot;, s2 = &quot; &lt;&lt; s2 &lt;&lt; std::endl; return 0;&#125; è¾“å‡ºï¼š 123456Before swap: x = 10, y = 20After swap: x = 20, y = 10Before swap: m = 1.5, n = 2.5After swap: m = 2.5, n = 1.5Before swap: s1 = Hello, s2 = WorldAfter swap: s1 = World, s2 = Hello è§£é‡Šï¼š swapValuesæ˜¯ä¸€ä¸ªå‡½æ•°æ¨¡æ¿ï¼Œä½¿ç”¨template &lt;typename T&gt;å®šä¹‰ã€‚ å¯ä»¥å°†swapValuesåº”ç”¨äºä¸åŒç±»å‹çš„æ•°æ®ï¼Œå¦‚intã€doubleã€std::stringï¼Œæ— éœ€ä¸ºæ¯ç§ç±»å‹ç¼–å†™å•ç‹¬çš„äº¤æ¢å‡½æ•°ã€‚ 5.2.3 ç±»æ¨¡æ¿ç±»æ¨¡æ¿å…è®¸å®šä¹‰ä¸ç±»å‹æ— å…³çš„ç±»ï¼Œé€‚ç”¨äºå®ç°å®¹å™¨ç±»å’Œå…¶ä»–æ³›å‹ç±»ã€‚ ç¤ºä¾‹ï¼š 123456789101112131415161718192021222324252627282930#include &lt;iostream&gt;// å®šä¹‰ä¸€ä¸ªç±»æ¨¡æ¿ï¼Œç”¨äºå­˜å‚¨ä¸€å¯¹å€¼template &lt;typename T1, typename T2&gt;class Pair &#123;public: Pair(T1 first, T2 second) : first_(first), second_(second) &#123;&#125; T1 getFirst() const &#123; return first_; &#125; T2 getSecond() const &#123; return second_; &#125; void setFirst(T1 first) &#123; first_ = first; &#125; void setSecond(T2 second) &#123; second_ = second; &#125;private: T1 first_; T2 second_;&#125;;int main() &#123; // ä½¿ç”¨Pairæ¨¡æ¿å­˜å‚¨intå’Œdouble Pair&lt;int, double&gt; p1(1, 3.14); std::cout &lt;&lt; &quot;Pair1: (&quot; &lt;&lt; p1.getFirst() &lt;&lt; &quot;, &quot; &lt;&lt; p1.getSecond() &lt;&lt; &quot;)&quot; &lt;&lt; std::endl; // ä½¿ç”¨Pairæ¨¡æ¿å­˜å‚¨std::stringå’Œchar Pair&lt;std::string, char&gt; p2(&quot;Hello&quot;, &#x27;A&#x27;); std::cout &lt;&lt; &quot;Pair2: (&quot; &lt;&lt; p2.getFirst() &lt;&lt; &quot;, &quot; &lt;&lt; p2.getSecond() &lt;&lt; &quot;)&quot; &lt;&lt; std::endl; return 0;&#125; è¾“å‡ºï¼š 12Pair1: (1, 3.14)Pair2: (Hello, A) è§£é‡Šï¼š Pairæ˜¯ä¸€ä¸ªç±»æ¨¡æ¿ï¼Œä½¿ç”¨template &lt;typename T1, typename T2&gt;å®šä¹‰ã€‚ å¯ä»¥åˆ›å»ºä¸åŒç±»å‹çš„Pairå¯¹è±¡ï¼Œå¦‚Pair&lt;int, double&gt;å’ŒPair&lt;std::string, char&gt;ï¼Œå®ç°äº†ç±»å‹çš„çµæ´»ç»„åˆã€‚ 5.2.4 æ¨¡æ¿ç‰¹åŒ–æ¨¡æ¿ç‰¹åŒ–å…è®¸é’ˆå¯¹ç‰¹å®šç±»å‹å®šåˆ¶æ¨¡æ¿çš„è¡Œä¸ºã€‚ ç¤ºä¾‹ï¼š 123456789101112131415161718192021222324252627282930313233#include &lt;iostream&gt;#include &lt;string&gt;// é€šç”¨æ¨¡æ¿template &lt;typename T&gt;class Printer &#123;public: void print(const T&amp; data) const &#123; std::cout &lt;&lt; &quot;Data: &quot; &lt;&lt; data &lt;&lt; std::endl; &#125;&#125;;// æ¨¡æ¿ç‰¹åŒ–ï¼Œé’ˆå¯¹std::stringç±»å‹template &lt;&gt;class Printer&lt;std::string&gt; &#123;public: void print(const std::string&amp; data) const &#123; std::cout &lt;&lt; &quot;String Data: \\&quot;&quot; &lt;&lt; data &lt;&lt; &quot;\\&quot;&quot; &lt;&lt; std::endl; &#125;&#125;;int main() &#123; Printer&lt;int&gt; intPrinter; intPrinter.print(100); Printer&lt;double&gt; doublePrinter; doublePrinter.print(3.14159); Printer&lt;std::string&gt; stringPrinter; stringPrinter.print(&quot;Hello, Templates!&quot;); return 0;&#125; è¾“å‡ºï¼š 123Data: 100Data: 3.14159String Data: &quot;Hello, Templates!&quot; è§£é‡Šï¼š é€šç”¨æ¨¡æ¿Printer&lt;T&gt;å®šä¹‰äº†å¦‚ä½•æ‰“å°ä¸åŒç±»å‹çš„æ•°æ®ã€‚ é’ˆå¯¹std::stringç±»å‹ï¼Œè¿›è¡Œäº†æ¨¡æ¿ç‰¹åŒ–ï¼Œå®šåˆ¶äº†ä¸åŒçš„æ‰“å°æ ¼å¼ã€‚ å½“ä½¿ç”¨Printer&lt;std::string&gt;æ—¶ï¼Œè°ƒç”¨çš„æ˜¯ç‰¹åŒ–åçš„Printer&lt;std::string&gt;ç‰ˆæœ¬ï¼Œè€Œä¸æ˜¯é€šç”¨æ¨¡æ¿ã€‚ 5.3 æ€»ç»“å‘½åç©ºé—´å’Œæ¨¡æ¿æ˜¯C++ä¸­éå¸¸é‡è¦çš„é«˜çº§ç‰¹æ€§ã€‚å‘½åç©ºé—´å¸®åŠ©ç»„ç»‡ä»£ç ï¼Œé¿å…å‘½åå†²çªï¼Œè€Œæ¨¡æ¿åˆ™æ”¯æŒæ³›å‹ç¼–ç¨‹ï¼Œæå‡ä»£ç çš„å¤ç”¨æ€§å’Œçµæ´»æ€§ã€‚é€šè¿‡åˆç†ä½¿ç”¨å‘½åç©ºé—´å’Œæ¨¡æ¿ï¼Œå¯ä»¥ç¼–å†™å‡ºæ›´æ¸…æ™°ã€æ›´é«˜æ•ˆã€æ›´å¯ç»´æŠ¤çš„ä»£ç ã€‚ 6. C++ IOæµç±»åº“ï¼ˆC++ IO Stream Libraryï¼‰6.1 IOæµçš„åŸºæœ¬æ¦‚å¿µC++æ ‡å‡†åº“ä¸­çš„IOæµï¼ˆInput&#x2F;Output Streamsï¼‰æä¾›äº†ç”¨äºå¤„ç†è¾“å…¥å’Œè¾“å‡ºçš„æœºåˆ¶ã€‚é€šè¿‡IOæµï¼Œå¯ä»¥å®ç°ä¸æ§åˆ¶å°ã€æ–‡ä»¶ã€å­—ç¬¦ä¸²ç­‰ä¸åŒæ•°æ®æºå’Œç›®æ ‡çš„äº¤äº’ã€‚ 6.2 è¾“å…¥è¾“å‡ºæµå¯¹è±¡C++æ ‡å‡†åº“ä¸»è¦æä¾›ä»¥ä¸‹IOæµå¯¹è±¡ï¼š std::cinï¼šæ ‡å‡†è¾“å…¥æµï¼Œé€šå¸¸ä¸é”®ç›˜å…³è”ã€‚ std::coutï¼šæ ‡å‡†è¾“å‡ºæµï¼Œé€šå¸¸ä¸æ§åˆ¶å°å…³è”ã€‚ std::cerrï¼šæ ‡å‡†é”™è¯¯è¾“å‡ºæµï¼Œç”¨äºè¾“å‡ºé”™è¯¯ä¿¡æ¯ã€‚ std::clogï¼šæ ‡å‡†æ—¥å¿—è¾“å‡ºæµï¼Œç”¨äºè¾“å‡ºæ—¥å¿—ä¿¡æ¯ã€‚ 6.3 ä½¿ç”¨std::cinå’Œstd::coutç¤ºä¾‹ï¼š 1234567891011121314151617#include &lt;iostream&gt;#include &lt;string&gt;int main() &#123; std::string name; int age; std::cout &lt;&lt; &quot;è¯·è¾“å…¥æ‚¨çš„å§“å: &quot;; std::cin &gt;&gt; name; std::cout &lt;&lt; &quot;è¯·è¾“å…¥æ‚¨çš„å¹´é¾„: &quot;; std::cin &gt;&gt; age; std::cout &lt;&lt; &quot;æ‚¨å¥½, &quot; &lt;&lt; name &lt;&lt; &quot;! æ‚¨ä»Šå¹´ &quot; &lt;&lt; age &lt;&lt; &quot; å²ã€‚&quot; &lt;&lt; std::endl; return 0;&#125; è¿è¡Œç¤ºä¾‹ï¼š 123è¯·è¾“å…¥æ‚¨çš„å§“å: å¼ ä¸‰è¯·è¾“å…¥æ‚¨çš„å¹´é¾„: 25æ‚¨å¥½, å¼ ä¸‰! æ‚¨ä»Šå¹´ 25 å²ã€‚ è§£é‡Šï¼š std::coutç”¨äºè¾“å‡ºæç¤ºä¿¡æ¯åˆ°æ§åˆ¶å°ã€‚ std::cinç”¨äºä»æ§åˆ¶å°è¯»å–ç”¨æˆ·è¾“å…¥çš„æ•°æ®ã€‚ ä½¿ç”¨æ’å…¥è¿ç®—ç¬¦&lt;&lt;å’Œæå–è¿ç®—ç¬¦&gt;&gt;å®ç°æ•°æ®çš„è¾“å‡ºå’Œè¾“å…¥ã€‚ 6.4 æ–‡ä»¶è¾“å…¥è¾“å‡ºï¼ˆFile I&#x2F;Oï¼‰C++æ ‡å‡†åº“æä¾›äº†&lt;fstream&gt;å¤´æ–‡ä»¶ä¸­çš„std::ifstreamå’Œstd::ofstreamç±»ï¼Œç”¨äºæ–‡ä»¶çš„è¯»å–å’Œå†™å…¥ã€‚ 6.4.1 å†™å…¥æ–‡ä»¶ç¤ºä¾‹ï¼š 123456789101112131415161718192021#include &lt;iostream&gt;#include &lt;fstream&gt;#include &lt;string&gt;int main() &#123; std::ofstream outFile(&quot;example.txt&quot;); // æ‰“å¼€æ–‡ä»¶ç”¨äºå†™å…¥ if (!outFile) &#123; std::cerr &lt;&lt; &quot;æ— æ³•æ‰“å¼€æ–‡ä»¶è¿›è¡Œå†™å…¥ã€‚&quot; &lt;&lt; std::endl; return 1; &#125; std::string data = &quot;è¿™æ˜¯å†™å…¥æ–‡ä»¶çš„ç¬¬ä¸€è¡Œã€‚\\nè¿™æ˜¯å†™å…¥æ–‡ä»¶çš„ç¬¬äºŒè¡Œã€‚&quot;; outFile &lt;&lt; data; outFile.close(); // å…³é—­æ–‡ä»¶ std::cout &lt;&lt; &quot;æ•°æ®å·²æˆåŠŸå†™å…¥æ–‡ä»¶ã€‚&quot; &lt;&lt; std::endl; return 0;&#125; è¾“å‡ºï¼š 1æ•°æ®å·²æˆåŠŸå†™å…¥æ–‡ä»¶ã€‚ è§£é‡Šï¼š åˆ›å»ºä¸€ä¸ªstd::ofstreamå¯¹è±¡å¹¶æŒ‡å®šæ–‡ä»¶åexample.txtï¼Œä»¥æ‰“å¼€æ–‡ä»¶è¿›è¡Œå†™å…¥ã€‚ ä½¿ç”¨æ’å…¥è¿ç®—ç¬¦&lt;&lt;å°†å­—ç¬¦ä¸²å†™å…¥æ–‡ä»¶ã€‚ å…³é—­æ–‡ä»¶ä»¥é‡Šæ”¾èµ„æºã€‚ 6.4.2 è¯»å–æ–‡ä»¶ç¤ºä¾‹ï¼š 123456789101112131415161718192021#include &lt;iostream&gt;#include &lt;fstream&gt;#include &lt;string&gt;int main() &#123; std::ifstream inFile(&quot;example.txt&quot;); // æ‰“å¼€æ–‡ä»¶ç”¨äºè¯»å– if (!inFile) &#123; std::cerr &lt;&lt; &quot;æ— æ³•æ‰“å¼€æ–‡ä»¶è¿›è¡Œè¯»å–ã€‚&quot; &lt;&lt; std::endl; return 1; &#125; std::string line; while (std::getline(inFile, line)) &#123; // é€è¡Œè¯»å–æ–‡ä»¶ std::cout &lt;&lt; line &lt;&lt; std::endl; &#125; inFile.close(); // å…³é—­æ–‡ä»¶ return 0;&#125; è¾“å‡ºï¼š 12è¿™æ˜¯å†™å…¥æ–‡ä»¶çš„ç¬¬ä¸€è¡Œã€‚è¿™æ˜¯å†™å…¥æ–‡ä»¶çš„ç¬¬äºŒè¡Œã€‚ è§£é‡Šï¼š åˆ›å»ºä¸€ä¸ªstd::ifstreamå¯¹è±¡å¹¶æŒ‡å®šæ–‡ä»¶åexample.txtï¼Œä»¥æ‰“å¼€æ–‡ä»¶è¿›è¡Œè¯»å–ã€‚ ä½¿ç”¨std::getlineé€è¡Œè¯»å–æ–‡ä»¶å†…å®¹ï¼Œå¹¶è¾“å‡ºåˆ°æ§åˆ¶å°ã€‚ å…³é—­æ–‡ä»¶ä»¥é‡Šæ”¾èµ„æºã€‚ 6.5 å…¶ä»–IOæµåŠŸèƒ½6.5.1 æ ¼å¼åŒ–è¾“å‡ºC++ IOæµæ”¯æŒå¤šç§æ ¼å¼åŒ–æ“ä½œï¼Œå¦‚æ§åˆ¶å®½åº¦ã€å¯¹é½æ–¹å¼ã€æ•°å€¼æ ¼å¼ç­‰ã€‚ ç¤ºä¾‹ï¼š 1234567891011121314151617181920#include &lt;iostream&gt;#include &lt;iomanip&gt;int main() &#123; double pi = 3.141592653589793; int num = 42; std::cout &lt;&lt; &quot;é»˜è®¤æ ¼å¼:&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;pi = &quot; &lt;&lt; pi &lt;&lt; std::endl; std::cout &lt;&lt; &quot;num = &quot; &lt;&lt; num &lt;&lt; std::endl; std::cout &lt;&lt; &quot;\\nè®¾ç½®å®½åº¦å’Œç²¾åº¦:&quot; &lt;&lt; std::endl; std::cout &lt;&lt; std::setw(10) &lt;&lt; std::fixed &lt;&lt; std::setprecision(4) &lt;&lt; pi &lt;&lt; std::endl; std::cout &lt;&lt; std::setw(10) &lt;&lt; num &lt;&lt; std::endl; std::cout &lt;&lt; &quot;\\nç§‘å­¦è®¡æ•°æ³•:&quot; &lt;&lt; std::endl; std::cout &lt;&lt; std::scientific &lt;&lt; pi &lt;&lt; std::endl; return 0;&#125; è¾“å‡ºï¼š 12345678910é»˜è®¤æ ¼å¼:pi = 3.14159num = 42è®¾ç½®å®½åº¦å’Œç²¾åº¦: 3.1416 42ç§‘å­¦è®¡æ•°æ³•:3.141593e+00 è§£é‡Šï¼š std::setw(10)è®¾ç½®è¾“å‡ºå®½åº¦ä¸º10ä¸ªå­—ç¬¦ã€‚ std::fixedå’Œstd::setprecision(4)è®¾ç½®æµ®ç‚¹æ•°çš„å›ºå®šå°æ•°ç‚¹æ ¼å¼å’Œç²¾åº¦ä¸º4ä½ã€‚ std::scientificå°†æµ®ç‚¹æ•°ä»¥ç§‘å­¦è®¡æ•°æ³•æ ¼å¼è¾“å‡ºã€‚ 6.6 æ€»ç»“C++çš„IOæµç±»åº“æä¾›äº†å¼ºå¤§ä¸”çµæ´»çš„è¾“å…¥è¾“å‡ºåŠŸèƒ½ï¼Œæ”¯æŒä¸æ§åˆ¶å°ã€æ–‡ä»¶å’Œå…¶ä»–æ•°æ®æºçš„äº¤äº’ã€‚é€šè¿‡æŒæ¡IOæµçš„åŸºæœ¬ç”¨æ³•å’Œæ ¼å¼åŒ–è¾“å‡ºæŠ€å·§ï¼Œå¯ä»¥é«˜æ•ˆåœ°å¤„ç†å„ç§è¾“å…¥è¾“å‡ºéœ€æ±‚ï¼Œç¼–å†™å‡ºåŠŸèƒ½ä¸°å¯Œçš„åº”ç”¨ç¨‹åºã€‚ 7. æ ‡å‡†æ¨¡æ¿åº“ï¼ˆSTLï¼‰â€”â€”vectorã€dequeä¸stackæ ‡å‡†æ¨¡æ¿åº“ï¼ˆSTLï¼‰æ˜¯C++æ ‡å‡†åº“çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œæä¾›äº†ä¸€ç³»åˆ—é€šç”¨çš„æ•°æ®ç»“æ„å’Œç®—æ³•ã€‚STLä¸­çš„å®¹å™¨ç±»ï¼ˆå¦‚vectorã€dequeã€stackï¼‰ä½¿å¾—æ•°æ®ç®¡ç†å’Œæ“ä½œæ›´åŠ ä¾¿æ·å’Œé«˜æ•ˆã€‚ 7.1 vector7.1.1 vectorçš„æ¦‚å¿µstd::vectoræ˜¯ä¸€ä¸ªåŠ¨æ€æ•°ç»„ï¼Œæ”¯æŒéšæœºè®¿é—®ã€é«˜æ•ˆçš„å…ƒç´ æ’å…¥å’Œåˆ é™¤æ“ä½œã€‚vectorèƒ½å¤Ÿæ ¹æ®éœ€è¦è‡ªåŠ¨è°ƒæ•´å¤§å°ï¼Œæ˜¯æœ€å¸¸ç”¨çš„STLå®¹å™¨ä¹‹ä¸€ã€‚ 7.1.2 vectorçš„åŸºæœ¬ç”¨æ³•ç¤ºä¾‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243#include &lt;iostream&gt;#include &lt;vector&gt;int main() &#123; std::vector&lt;int&gt; numbers; // åˆ›å»ºä¸€ä¸ªç©ºçš„vector // æ·»åŠ å…ƒç´  numbers.push_back(10); numbers.push_back(20); numbers.push_back(30); // è®¿é—®å…ƒç´  std::cout &lt;&lt; &quot;Vector elements: &quot;; for (size_t i = 0; i &lt; numbers.size(); ++i) &#123; std::cout &lt;&lt; numbers[i] &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; // ä½¿ç”¨è¿­ä»£å™¨è®¿é—® std::cout &lt;&lt; &quot;Using iterators: &quot;; for (auto it = numbers.begin(); it != numbers.end(); ++it) &#123; std::cout &lt;&lt; *it &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; // ä¿®æ”¹å…ƒç´  numbers[1] = 25; std::cout &lt;&lt; &quot;After modification: &quot;; for (const auto&amp; num : numbers) &#123; std::cout &lt;&lt; num &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; // åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´  numbers.pop_back(); std::cout &lt;&lt; &quot;After pop_back: &quot;; for (const auto&amp; num : numbers) &#123; std::cout &lt;&lt; num &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; return 0;&#125; è¾“å‡ºï¼š 1234Vector elements: 10 20 30 Using iterators: 10 20 30 After modification: 10 25 30 After pop_back: 10 25 è§£é‡Šï¼š ä½¿ç”¨push_backå‘vectorä¸­æ·»åŠ å…ƒç´ ã€‚ é€šè¿‡ä¸‹æ ‡å’Œè¿­ä»£å™¨è®¿é—®å’Œä¿®æ”¹å…ƒç´ ã€‚ ä½¿ç”¨pop_backåˆ é™¤vectorçš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚ 7.1.3 vectorçš„é«˜çº§æ“ä½œç¤ºä¾‹ï¼šæ’å…¥å’Œåˆ é™¤å…ƒç´  12345678910111213141516171819202122232425262728#include &lt;iostream&gt;#include &lt;vector&gt;int main() &#123; std::vector&lt;std::string&gt; fruits = &#123;&quot;Apple&quot;, &quot;Banana&quot;, &quot;Cherry&quot;&#125;; // åœ¨ç¬¬äºŒä¸ªä½ç½®æ’å…¥å…ƒç´  fruits.insert(fruits.begin() + 1, &quot;Blueberry&quot;); std::cout &lt;&lt; &quot;After insert: &quot;; for (const auto&amp; fruit : fruits) &#123; std::cout &lt;&lt; fruit &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; // åˆ é™¤ç¬¬ä¸‰ä¸ªå…ƒç´  fruits.erase(fruits.begin() + 2); std::cout &lt;&lt; &quot;After erase: &quot;; for (const auto&amp; fruit : fruits) &#123; std::cout &lt;&lt; fruit &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; // æ¸…ç©ºvector fruits.clear(); std::cout &lt;&lt; &quot;After clear, size: &quot; &lt;&lt; fruits.size() &lt;&lt; std::endl; return 0;&#125; è¾“å‡ºï¼š 123After insert: Apple Blueberry Banana Cherry After erase: Apple Blueberry Cherry After clear, size: 0 è§£é‡Šï¼š insertç”¨äºåœ¨æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ ã€‚ eraseç”¨äºåˆ é™¤æŒ‡å®šä½ç½®çš„å…ƒç´ ã€‚ clearç”¨äºç§»é™¤vectorä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚ 7.2 deque7.2.1 dequeçš„æ¦‚å¿µstd::dequeï¼ˆåŒç«¯é˜Ÿåˆ—ï¼‰æ˜¯ä¸€ä¸ªå¯ä»¥åœ¨ä¸¤ç«¯é«˜æ•ˆæ’å…¥å’Œåˆ é™¤å…ƒç´ çš„åºåˆ—å®¹å™¨ã€‚ç›¸æ¯”vectorï¼Œdequeåœ¨ä¸¤ç«¯çš„æ“ä½œæ›´é«˜æ•ˆï¼Œä½†éšæœºè®¿é—®æ€§èƒ½ç•¥ä½ã€‚ 7.2.2 dequeçš„åŸºæœ¬ç”¨æ³•ç¤ºä¾‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738#include &lt;iostream&gt;#include &lt;deque&gt;int main() &#123; std::deque&lt;int&gt; d; // åœ¨å‰ç«¯å’Œåç«¯æ·»åŠ å…ƒç´  d.push_back(100); d.push_front(50); d.push_back(150); d.push_front(25); // è®¿é—®å…ƒç´  std::cout &lt;&lt; &quot;Deque elements: &quot;; for (const auto&amp; elem : d) &#123; std::cout &lt;&lt; elem &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; // ä¿®æ”¹å…ƒç´  d[1] = 75; std::cout &lt;&lt; &quot;After modification: &quot;; for (const auto&amp; elem : d) &#123; std::cout &lt;&lt; elem &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; // åˆ é™¤å‰ç«¯å’Œåç«¯å…ƒç´  d.pop_front(); d.pop_back(); std::cout &lt;&lt; &quot;After pop operations: &quot;; for (const auto&amp; elem : d) &#123; std::cout &lt;&lt; elem &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; return 0;&#125; è¾“å‡ºï¼š 123Deque elements: 25 50 100 150 After modification: 25 75 100 150 After pop operations: 75 100 è§£é‡Šï¼š push_backå’Œpush_frontç”¨äºåœ¨dequeçš„åç«¯å’Œå‰ç«¯æ·»åŠ å…ƒç´ ã€‚ pop_backå’Œpop_frontç”¨äºä»åç«¯å’Œå‰ç«¯åˆ é™¤å…ƒç´ ã€‚ é€šè¿‡ä¸‹æ ‡è®¿é—®å’Œä¿®æ”¹å…ƒç´ ã€‚ 7.2.3 dequeçš„é«˜çº§æ“ä½œç¤ºä¾‹ï¼šæ’å…¥å’Œåˆ é™¤å¤šä¸ªå…ƒç´  123456789101112131415161718192021222324#include &lt;iostream&gt;#include &lt;deque&gt;int main() &#123; std::deque&lt;int&gt; d = &#123;1, 2, 3, 4, 5&#125;; // åœ¨ä½ç½®2æ’å…¥å¤šä¸ªå…ƒç´  d.insert(d.begin() + 2, 3, 99); // æ’å…¥ä¸‰ä¸ª99 std::cout &lt;&lt; &quot;After insert: &quot;; for (const auto&amp; elem : d) &#123; std::cout &lt;&lt; elem &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; // åˆ é™¤èŒƒå›´å†…çš„å…ƒç´  d.erase(d.begin() + 1, d.begin() + 4); std::cout &lt;&lt; &quot;After erase: &quot;; for (const auto&amp; elem : d) &#123; std::cout &lt;&lt; elem &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; return 0;&#125; è¾“å‡ºï¼š 12After insert: 1 2 99 99 99 3 4 5 After erase: 1 99 3 4 5 è§£é‡Šï¼š insertå¯ä»¥æ’å…¥å¤šä¸ªç›¸åŒçš„å…ƒç´ æˆ–ä¸€ä¸ªèŒƒå›´çš„å…ƒç´ ã€‚ eraseå¯ä»¥åˆ é™¤æŒ‡å®šèŒƒå›´å†…çš„å…ƒç´ ã€‚ 7.3 stack7.3.1 stackçš„æ¦‚å¿µstd::stackæ˜¯ä¸€ç§å®¹å™¨é€‚é…å™¨ï¼Œæä¾›åè¿›å…ˆå‡ºï¼ˆLIFOï¼‰çš„æ•°æ®ç»“æ„ã€‚å®ƒé»˜è®¤åŸºäºstd::dequeå®ç°ï¼Œä½†ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–å®¹å™¨ï¼ˆå¦‚std::vectorã€std::listï¼‰ã€‚ 7.3.2 stackçš„åŸºæœ¬ç”¨æ³•ç¤ºä¾‹ï¼š 1234567891011121314151617181920212223242526#include &lt;iostream&gt;#include &lt;stack&gt;#include &lt;string&gt;int main() &#123; std::stack&lt;std::string&gt; s; // å‹å…¥å…ƒç´  s.push(&quot;Apple&quot;); s.push(&quot;Banana&quot;); s.push(&quot;Cherry&quot;); // æŸ¥çœ‹æ ˆé¡¶å…ƒç´  std::cout &lt;&lt; &quot;æ ˆé¡¶å…ƒç´ : &quot; &lt;&lt; s.top() &lt;&lt; std::endl; // å¼¹å‡ºå…ƒç´  s.pop(); std::cout &lt;&lt; &quot;å¼¹å‡ºåæ ˆé¡¶å…ƒç´ : &quot; &lt;&lt; s.top() &lt;&lt; std::endl; // æ£€æŸ¥æ ˆæ˜¯å¦ä¸ºç©º if (!s.empty()) &#123; std::cout &lt;&lt; &quot;æ ˆä¸ä¸ºç©ºï¼Œå¤§å°: &quot; &lt;&lt; s.size() &lt;&lt; std::endl; &#125; return 0;&#125; è¾“å‡ºï¼š 123æ ˆé¡¶å…ƒç´ : Cherryå¼¹å‡ºåæ ˆé¡¶å…ƒç´ : Bananaæ ˆä¸ä¸ºç©ºï¼Œå¤§å°: 2 è§£é‡Šï¼š pushç”¨äºå‘æ ˆé¡¶æ·»åŠ å…ƒç´ ã€‚ topç”¨äºæŸ¥çœ‹æ ˆé¡¶å…ƒç´ ã€‚ popç”¨äºç§»é™¤æ ˆé¡¶å…ƒç´ ã€‚ emptyå’Œsizeç”¨äºæ£€æŸ¥æ ˆçš„çŠ¶æ€ã€‚ 7.3.3 stackçš„é™åˆ¶std::stackä»…æ”¯æŒæœ‰é™çš„æ“ä½œï¼Œå¦‚pushã€popã€topç­‰ï¼Œä¸èƒ½ç›´æ¥è®¿é—®æ ˆä¸­çš„ä¸­é—´å…ƒç´ ã€‚å¦‚æœéœ€è¦æ›´çµæ´»çš„è®¿é—®ï¼Œå¯ä»¥é€‰æ‹©å…¶ä»–å®¹å™¨ï¼ˆå¦‚std::vectoræˆ–std::dequeï¼‰æˆ–ä½¿ç”¨è¿­ä»£å™¨ã€‚ 7.4 æ€»ç»“STLä¸­çš„vectorã€dequeå’Œstackæä¾›äº†é«˜æ•ˆã€çµæ´»çš„å®¹å™¨é€‰æ‹©ï¼Œé€‚ç”¨äºä¸åŒçš„åº”ç”¨åœºæ™¯ã€‚é€šè¿‡ç†Ÿç»ƒæŒæ¡è¿™äº›å®¹å™¨çš„ä½¿ç”¨ï¼Œå¯ä»¥æ˜¾è‘—æå‡C++ç¨‹åºçš„æ€§èƒ½å’Œå¯ç»´æŠ¤æ€§ã€‚åœ¨Qtå¼€å‘ä¸­ï¼Œè¿™äº›å®¹å™¨ç±»åŒæ ·å¹¿æ³›åº”ç”¨äºæ•°æ®ç®¡ç†ã€ç•Œé¢æ„å»ºç­‰æ–¹é¢ï¼Œæ˜¯æ¯ä¸ªQtå¼€å‘è€…å¿…å¤‡çš„å·¥å…·ã€‚ 8. æ ‡å‡†æ¨¡æ¿åº“ï¼ˆSTLï¼‰â€”â€”queueã€setä¸mapæ ‡å‡†æ¨¡æ¿åº“ï¼ˆSTLï¼‰ä¸­çš„queueã€setå’Œmapæ˜¯å¸¸ç”¨çš„å®¹å™¨ç±»å‹ï¼Œé€‚ç”¨äºä¸åŒçš„æ•°æ®ç»„ç»‡å’Œç®¡ç†éœ€æ±‚ã€‚ç†è§£å®ƒä»¬çš„ç‰¹æ€§å’Œåº”ç”¨åœºæ™¯ï¼Œå¯ä»¥æœ‰æ•ˆåœ°æå‡ç¼–ç¨‹æ•ˆç‡å’Œä»£ç è´¨é‡ã€‚ 8.1 queue8.1.1 queueçš„æ¦‚å¿µstd::queueæ˜¯ä¸€ä¸ªå…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰çš„å®¹å™¨é€‚é…å™¨ï¼ŒåŸºäºåº•å±‚å®¹å™¨ï¼ˆå¦‚std::dequeæˆ–std::listï¼‰å®ç°ã€‚å®ƒä¸»è¦ç”¨äºéœ€è¦æŒ‰é¡ºåºå¤„ç†å…ƒç´ çš„åœºæ™¯ï¼Œå¦‚ä»»åŠ¡è°ƒåº¦ã€æ¶ˆæ¯é˜Ÿåˆ—ç­‰ã€‚ 8.1.2 queueçš„åŸºæœ¬ç”¨æ³•ç¤ºä¾‹ï¼š 123456789101112131415161718192021222324252627282930#include &lt;iostream&gt;#include &lt;queue&gt;#include &lt;string&gt;int main() &#123; std::queue&lt;std::string&gt; q; // å…¥é˜Ÿ q.push(&quot;First&quot;); q.push(&quot;Second&quot;); q.push(&quot;Third&quot;); // è®¿é—®é˜Ÿé¦–å…ƒç´  std::cout &lt;&lt; &quot;é˜Ÿé¦–å…ƒç´ : &quot; &lt;&lt; q.front() &lt;&lt; std::endl; // è®¿é—®é˜Ÿå°¾å…ƒç´  std::cout &lt;&lt; &quot;é˜Ÿå°¾å…ƒç´ : &quot; &lt;&lt; q.back() &lt;&lt; std::endl; // å‡ºé˜Ÿ q.pop(); std::cout &lt;&lt; &quot;å‡ºé˜Ÿåæ–°çš„é˜Ÿé¦–å…ƒç´ : &quot; &lt;&lt; q.front() &lt;&lt; std::endl; // æ£€æŸ¥é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º while (!q.empty()) &#123; std::cout &lt;&lt; &quot;å‡ºé˜Ÿå…ƒç´ : &quot; &lt;&lt; q.front() &lt;&lt; std::endl; q.pop(); &#125; return 0;&#125; è¾“å‡ºï¼š 12345é˜Ÿé¦–å…ƒç´ : Firsté˜Ÿå°¾å…ƒç´ : Thirdå‡ºé˜Ÿåæ–°çš„é˜Ÿé¦–å…ƒç´ : Secondå‡ºé˜Ÿå…ƒç´ : Secondå‡ºé˜Ÿå…ƒç´ : Third è§£é‡Šï¼š pushç”¨äºå‘é˜Ÿå°¾æ·»åŠ å…ƒç´ ã€‚ frontå’Œbackåˆ†åˆ«ç”¨äºè®¿é—®é˜Ÿé¦–å’Œé˜Ÿå°¾å…ƒç´ ã€‚ popç”¨äºç§»é™¤é˜Ÿé¦–å…ƒç´ ã€‚ emptyç”¨äºæ£€æŸ¥é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºã€‚ 8.1.3 queueçš„é«˜çº§æ“ä½œç¤ºä¾‹ï¼š 12345678910111213141516171819#include &lt;iostream&gt;#include &lt;queue&gt;int main() &#123; std::queue&lt;int&gt; q; // å…¥é˜Ÿå¤šä¸ªå…ƒç´  for (int i = 1; i &lt;= 5; ++i) &#123; q.push(i * 10); &#125; // ä½¿ç”¨å¾ªç¯å¤„ç†é˜Ÿåˆ— while (!q.empty()) &#123; std::cout &lt;&lt; &quot;Processing element: &quot; &lt;&lt; q.front() &lt;&lt; std::endl; q.pop(); &#125; return 0;&#125; è¾“å‡ºï¼š 12345Processing element: 10Processing element: 20Processing element: 30Processing element: 40Processing element: 50 è§£é‡Šï¼š ä½¿ç”¨å¾ªç¯å…¥é˜Ÿå’Œå‡ºé˜Ÿå…ƒç´ ï¼Œå®ç°å¯¹é˜Ÿåˆ—çš„æ‰¹é‡å¤„ç†ã€‚ 8.2 set8.2.1 setçš„æ¦‚å¿µstd::setæ˜¯ä¸€ä¸ªå…³è”å®¹å™¨ï¼Œå­˜å‚¨å”¯ä¸€çš„ã€æœ‰åºçš„å…ƒç´ ã€‚setåŸºäºå¹³è¡¡äºŒå‰æ ‘ï¼ˆé€šå¸¸æ˜¯çº¢é»‘æ ‘ï¼‰å®ç°ï¼Œæä¾›é«˜æ•ˆçš„æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤æ“ä½œã€‚ 8.2.2 setçš„åŸºæœ¬ç”¨æ³•ç¤ºä¾‹ï¼š 123456789101112131415161718192021222324252627282930313233343536#include &lt;iostream&gt;#include &lt;set&gt;#include &lt;string&gt;int main() &#123; std::set&lt;std::string&gt; fruits; // æ’å…¥å…ƒç´  fruits.insert(&quot;Apple&quot;); fruits.insert(&quot;Banana&quot;); fruits.insert(&quot;Cherry&quot;); fruits.insert(&quot;Apple&quot;); // é‡å¤å…ƒç´ ï¼Œä¸ä¼šè¢«æ’å…¥ // éå†set std::cout &lt;&lt; &quot;Fruits set contains:&quot; &lt;&lt; std::endl; for (const auto&amp; fruit : fruits) &#123; std::cout &lt;&lt; fruit &lt;&lt; std::endl; &#125; // æŸ¥æ‰¾å…ƒç´  auto it = fruits.find(&quot;Banana&quot;); if (it != fruits.end()) &#123; std::cout &lt;&lt; &quot;Found: &quot; &lt;&lt; *it &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;Banana not found.&quot; &lt;&lt; std::endl; &#125; // åˆ é™¤å…ƒç´  fruits.erase(&quot;Cherry&quot;); std::cout &lt;&lt; &quot;After erasing Cherry:&quot; &lt;&lt; std::endl; for (const auto&amp; fruit : fruits) &#123; std::cout &lt;&lt; fruit &lt;&lt; std::endl; &#125; return 0;&#125; è¾“å‡ºï¼š 12345678Fruits set contains:AppleBananaCherryFound: BananaAfter erasing Cherry:AppleBanana è§£é‡Šï¼š insertç”¨äºå‘setä¸­æ·»åŠ å…ƒç´ ï¼Œé‡å¤å…ƒç´ ä¸ä¼šè¢«æ’å…¥ã€‚ findç”¨äºæŸ¥æ‰¾å…ƒç´ ï¼Œè¿”å›æŒ‡å‘å…ƒç´ çš„è¿­ä»£å™¨æˆ–endè¿­ä»£å™¨ã€‚ eraseç”¨äºåˆ é™¤æŒ‡å®šå…ƒç´ ã€‚ 8.2.3 setçš„é«˜çº§æ“ä½œç¤ºä¾‹ï¼šé›†åˆè¿ç®— 123456789101112131415161718192021#include &lt;iostream&gt;#include &lt;set&gt;int main() &#123; std::set&lt;int&gt; setA = &#123;1, 2, 3, 4, 5&#125;; std::set&lt;int&gt; setB = &#123;4, 5, 6, 7, 8&#125;; std::set&lt;int&gt; intersection; // è®¡ç®—äº¤é›† std::set_intersection(setA.begin(), setA.end(), setB.begin(), setB.end(), std::inserter(intersection, intersection.begin())); std::cout &lt;&lt; &quot;Intersection of setA and setB:&quot; &lt;&lt; std::endl; for (const auto&amp; elem : intersection) &#123; std::cout &lt;&lt; elem &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; return 0;&#125; è¾“å‡ºï¼š 12Intersection of setA and setB:4 5 è§£é‡Šï¼š ä½¿ç”¨std::set_intersectionç®—æ³•è®¡ç®—ä¸¤ä¸ªsetçš„äº¤é›†ã€‚ é€šè¿‡std::inserterå°†ç»“æœæ’å…¥åˆ°intersectioné›†åˆä¸­ã€‚ 8.3 map8.3.1 mapçš„æ¦‚å¿µstd::mapæ˜¯ä¸€ä¸ªå…³è”å®¹å™¨ï¼Œå­˜å‚¨é”®å€¼å¯¹ï¼ˆkey-value pairsï¼‰ï¼Œå¹¶æ ¹æ®é”®è¿›è¡Œæœ‰åºå­˜å‚¨ã€‚mapåŸºäºå¹³è¡¡äºŒå‰æ ‘å®ç°ï¼Œé”®æ˜¯å”¯ä¸€çš„ï¼Œæä¾›é«˜æ•ˆçš„æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤æ“ä½œã€‚ 8.3.2 mapçš„åŸºæœ¬ç”¨æ³•ç¤ºä¾‹ï¼š 123456789101112131415161718192021222324252627282930313233343536#include &lt;iostream&gt;#include &lt;map&gt;#include &lt;string&gt;int main() &#123; std::map&lt;std::string, int&gt; ageMap; // æ’å…¥é”®å€¼å¯¹ ageMap[&quot;Alice&quot;] = 30; ageMap[&quot;Bob&quot;] = 25; ageMap[&quot;Charlie&quot;] = 35; // éå†map std::cout &lt;&lt; &quot;Age Map:&quot; &lt;&lt; std::endl; for (const auto&amp; pair : ageMap) &#123; std::cout &lt;&lt; pair.first &lt;&lt; &quot; is &quot; &lt;&lt; pair.second &lt;&lt; &quot; years old.&quot; &lt;&lt; std::endl; &#125; // æŸ¥æ‰¾é”® std::string name = &quot;Bob&quot;; auto it = ageMap.find(name); if (it != ageMap.end()) &#123; std::cout &lt;&lt; it-&gt;first &lt;&lt; &quot; is &quot; &lt;&lt; it-&gt;second &lt;&lt; &quot; years old.&quot; &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; name &lt;&lt; &quot; not found in the map.&quot; &lt;&lt; std::endl; &#125; // åˆ é™¤é”®å€¼å¯¹ ageMap.erase(&quot;Charlie&quot;); std::cout &lt;&lt; &quot;After erasing Charlie:&quot; &lt;&lt; std::endl; for (const auto&amp; pair : ageMap) &#123; std::cout &lt;&lt; pair.first &lt;&lt; &quot; is &quot; &lt;&lt; pair.second &lt;&lt; &quot; years old.&quot; &lt;&lt; std::endl; &#125; return 0;&#125; è¾“å‡ºï¼š 12345678Age Map:Alice is 30 years old.Bob is 25 years old.Charlie is 35 years old.Bob is 25 years old.After erasing Charlie:Alice is 30 years old.Bob is 25 years old. è§£é‡Šï¼š ä½¿ç”¨ä¸‹æ ‡è¿ç®—ç¬¦[]å‘mapä¸­æ’å…¥æˆ–æ›´æ–°é”®å€¼å¯¹ã€‚ findç”¨äºæŸ¥æ‰¾ç‰¹å®šé”®ï¼Œè¿”å›æŒ‡å‘é”®å€¼å¯¹çš„è¿­ä»£å™¨æˆ–endè¿­ä»£å™¨ã€‚ eraseç”¨äºåˆ é™¤æŒ‡å®šé”®å€¼å¯¹ã€‚ 8.3.3 mapçš„é«˜çº§æ“ä½œç¤ºä¾‹ï¼šéå†å’Œæ¡ä»¶æ’å…¥ 1234567891011121314151617181920212223242526272829303132333435363738#include &lt;iostream&gt;#include &lt;map&gt;#include &lt;string&gt;int main() &#123; std::map&lt;std::string, int&gt; scoreMap = &#123; &#123;&quot;Alice&quot;, 85&#125;, &#123;&quot;Bob&quot;, 92&#125;, &#123;&quot;Charlie&quot;, 78&#125;, &#123;&quot;Diana&quot;, 88&#125; &#125;; // éå†å¹¶è¾“å‡ºæˆç»©é«˜äº80çš„å­¦ç”Ÿ std::cout &lt;&lt; &quot;Students with scores above 80:&quot; &lt;&lt; std::endl; for (const auto&amp; pair : scoreMap) &#123; if (pair.second &gt; 80) &#123; std::cout &lt;&lt; pair.first &lt;&lt; &quot; scored &quot; &lt;&lt; pair.second &lt;&lt; std::endl; &#125; &#125; // ä½¿ç”¨insertæ–¹æ³•æ’å…¥æ–°é”®å€¼å¯¹ auto result = scoreMap.insert(&#123;&quot;Eve&quot;, 95&#125;); if (result.second) &#123; std::cout &lt;&lt; &quot;Inserted Eve with score &quot; &lt;&lt; result.first-&gt;second &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;Failed to insert Eve, key already exists.&quot; &lt;&lt; std::endl; &#125; // å°è¯•æ’å…¥å·²å­˜åœ¨çš„é”® result = scoreMap.insert(&#123;&quot;Alice&quot;, 90&#125;); if (result.second) &#123; std::cout &lt;&lt; &quot;Inserted Alice with score &quot; &lt;&lt; result.first-&gt;second &lt;&lt; std::endl; &#125; else &#123; std::cout &lt;&lt; &quot;Failed to insert Alice, key already exists.&quot; &lt;&lt; std::endl; &#125; return 0;&#125; è¾“å‡ºï¼š 123456Students with scores above 80:Alice scored 85Bob scored 92Diana scored 88Inserted Eve with score 95Failed to insert Alice, key already exists. è§£é‡Šï¼š ä½¿ç”¨insertæ–¹æ³•æ’å…¥æ–°çš„é”®å€¼å¯¹ï¼Œinsertè¿”å›ä¸€ä¸ªpairï¼Œå…¶ä¸­secondè¡¨ç¤ºæ’å…¥æ˜¯å¦æˆåŠŸã€‚ å°è¯•æ’å…¥å·²å­˜åœ¨çš„é”®ï¼ˆå¦‚&quot;Alice&quot;ï¼‰ä¼šå¤±è´¥ï¼Œé¿å…äº†é”®çš„é‡å¤ã€‚ 8.4 æ€»ç»“STLä¸­çš„queueã€setå’Œmapä¸ºC++å¼€å‘è€…æä¾›äº†é«˜æ•ˆã€å¯é çš„æ•°æ®ç»“æ„ï¼Œé€‚ç”¨äºå„ç§ç¼–ç¨‹éœ€æ±‚ã€‚é€šè¿‡æ·±å…¥ç†è§£å®ƒä»¬çš„ç‰¹æ€§å’Œåº”ç”¨åœºæ™¯ï¼Œå¯ä»¥å¤§å¤§æå‡ç¨‹åºçš„æ€§èƒ½å’Œå¯ç»´æŠ¤æ€§ã€‚åœ¨Qtå¼€å‘ä¸­ï¼Œè¿™äº›å®¹å™¨ç±»åŒæ ·å‘æŒ¥ç€é‡è¦ä½œç”¨ï¼Œç‰¹åˆ«æ˜¯åœ¨æ•°æ®ç®¡ç†å’Œç•Œé¢äº¤äº’ç­‰æ–¹é¢ã€‚ 9. C++å¼‚å¸¸å¤„ç†ï¼ˆException Handlingï¼‰9.1 å¼‚å¸¸å¤„ç†çš„æ¦‚å¿µå¼‚å¸¸å¤„ç†æ˜¯C++ä¸­ç”¨äºå¤„ç†è¿è¡Œæ—¶é”™è¯¯å’Œæ„å¤–æƒ…å†µçš„æœºåˆ¶ã€‚é€šè¿‡å¼‚å¸¸å¤„ç†ï¼Œå¯ä»¥åœ¨ç¨‹åºä¸­ä¼˜é›…åœ°åº”å¯¹é”™è¯¯ï¼Œé¿å…ç¨‹åºå´©æºƒï¼Œå¹¶æä¾›æ¢å¤æˆ–æ¸…ç†èµ„æºçš„æœºä¼šã€‚ 9.2 å¼‚å¸¸å¤„ç†çš„åŸºæœ¬è¯­æ³•C++æä¾›äº†tryã€catchå’Œthrowä¸‰ä¸ªå…³é”®å­—æ¥å®ç°å¼‚å¸¸å¤„ç†ã€‚ åŸºæœ¬ç»“æ„ï¼š 123456789try &#123; // å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„ä»£ç &#125; catch (ExceptionType1 e1) &#123; // å¤„ç†ExceptionType1ç±»å‹çš„å¼‚å¸¸&#125; catch (ExceptionType2 e2) &#123; // å¤„ç†ExceptionType2ç±»å‹çš„å¼‚å¸¸&#125; catch (...) &#123; // å¤„ç†æ‰€æœ‰å…¶ä»–ç±»å‹çš„å¼‚å¸¸&#125; 9.3 ä½¿ç”¨tryã€catchå’Œthrowç¤ºä¾‹ï¼š 123456789101112131415161718192021222324252627#include &lt;iostream&gt;#include &lt;stdexcept&gt;// å‡½æ•°ï¼Œè®¡ç®—ä¸¤ä¸ªæ•°çš„é™¤æ³•double divide(double numerator, double denominator) &#123; if (denominator == 0) &#123; throw std::invalid_argument(&quot;åˆ†æ¯ä¸èƒ½ä¸ºé›¶ã€‚&quot;); &#125; return numerator / denominator;&#125;int main() &#123; double a = 10.0, b = 0.0; try &#123; double result = divide(a, b); std::cout &lt;&lt; &quot;ç»“æœ: &quot; &lt;&lt; result &lt;&lt; std::endl; &#125; catch (const std::invalid_argument&amp; e) &#123; std::cerr &lt;&lt; &quot;å¼‚å¸¸æ•è·: &quot; &lt;&lt; e.what() &lt;&lt; std::endl; &#125; catch (...) &#123; std::cerr &lt;&lt; &quot;æœªçŸ¥å¼‚å¸¸å‘ç”Ÿã€‚&quot; &lt;&lt; std::endl; &#125; std::cout &lt;&lt; &quot;ç¨‹åºç»§ç»­è¿è¡Œ...&quot; &lt;&lt; std::endl; return 0;&#125; è¾“å‡ºï¼š 12å¼‚å¸¸æ•è·: åˆ†æ¯ä¸èƒ½ä¸ºé›¶ã€‚ç¨‹åºç»§ç»­è¿è¡Œ... è§£é‡Šï¼š divideå‡½æ•°åœ¨åˆ†æ¯ä¸ºé›¶æ—¶ï¼Œé€šè¿‡throwæŠ›å‡ºstd::invalid_argumentå¼‚å¸¸ã€‚ tryå—ä¸­è°ƒç”¨divideå‡½æ•°ï¼Œå¯èƒ½æŠ›å‡ºå¼‚å¸¸ã€‚ catchå—æ•è·å¹¶å¤„ç†std::invalid_argumentç±»å‹çš„å¼‚å¸¸ï¼Œè¾“å‡ºé”™è¯¯ä¿¡æ¯ã€‚ ç¨‹åºåœ¨å¼‚å¸¸å¤„ç†åç»§ç»­è¿è¡Œï¼Œé¿å…äº†å´©æºƒã€‚ 9.4 è‡ªå®šä¹‰å¼‚å¸¸ç±»é™¤äº†ä½¿ç”¨æ ‡å‡†åº“ä¸­çš„å¼‚å¸¸ç±»å¤–ï¼Œè¿˜å¯ä»¥å®šä¹‰è‡ªå®šä¹‰å¼‚å¸¸ç±»ï¼Œä»¥æä¾›æ›´å…·ä½“çš„é”™è¯¯ä¿¡æ¯ã€‚ ç¤ºä¾‹ï¼š 123456789101112131415161718192021222324252627282930313233343536#include &lt;iostream&gt;#include &lt;exception&gt;#include &lt;string&gt;// è‡ªå®šä¹‰å¼‚å¸¸ç±»class MyException : public std::exception &#123;public: MyException(const std::string&amp; message) : msg_(message) &#123;&#125; virtual const char* what() const noexcept override &#123; return msg_.c_str(); &#125; private: std::string msg_;&#125;;// å‡½æ•°ï¼Œæ¨¡æ‹Ÿé”™è¯¯void riskyFunction(bool triggerError) &#123; if (triggerError) &#123; throw MyException(&quot;è‡ªå®šä¹‰é”™è¯¯å‘ç”Ÿï¼&quot;); &#125; std::cout &lt;&lt; &quot;å‡½æ•°æ­£å¸¸æ‰§è¡Œã€‚&quot; &lt;&lt; std::endl;&#125;int main() &#123; try &#123; riskyFunction(true); &#125; catch (const MyException&amp; e) &#123; std::cerr &lt;&lt; &quot;æ•è·åˆ°è‡ªå®šä¹‰å¼‚å¸¸: &quot; &lt;&lt; e.what() &lt;&lt; std::endl; &#125; catch (const std::exception&amp; e) &#123; std::cerr &lt;&lt; &quot;æ•è·åˆ°æ ‡å‡†å¼‚å¸¸: &quot; &lt;&lt; e.what() &lt;&lt; std::endl; &#125; return 0;&#125; è¾“å‡ºï¼š 1æ•è·åˆ°è‡ªå®šä¹‰å¼‚å¸¸: è‡ªå®šä¹‰é”™è¯¯å‘ç”Ÿï¼ è§£é‡Šï¼š MyExceptionç»§æ‰¿è‡ªstd::exceptionï¼Œå¹¶é‡å†™äº†whatå‡½æ•°ä»¥è¿”å›è‡ªå®šä¹‰çš„é”™è¯¯ä¿¡æ¯ã€‚ riskyFunctionæ ¹æ®å‚æ•°å†³å®šæ˜¯å¦æŠ›å‡ºMyExceptionã€‚ mainå‡½æ•°ä¸­çš„tryå—è°ƒç”¨riskyFunctionï¼Œå¹¶é€šè¿‡catchå—æ•è·å’Œå¤„ç†è‡ªå®šä¹‰å¼‚å¸¸ã€‚ 9.5 å¼‚å¸¸å®‰å…¨æ€§ä¸æœ€ä½³å®è·µåœ¨ç¼–å†™å¼‚å¸¸å¤„ç†ä»£ç æ—¶ï¼Œåº”éµå¾ªä»¥ä¸‹æœ€ä½³å®è·µï¼Œç¡®ä¿ç¨‹åºçš„å¼‚å¸¸å®‰å…¨æ€§å’Œå¥å£®æ€§ï¼š æä¾›æœ‰æ„ä¹‰çš„é”™è¯¯ä¿¡æ¯ï¼šå¼‚å¸¸å¯¹è±¡åº”åŒ…å«è¶³å¤Ÿçš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œå¸®åŠ©è°ƒè¯•å’Œé—®é¢˜å®šä½ã€‚ å°½é‡å‡å°‘å¼‚å¸¸çš„æŠ›å‡ºï¼šåªåœ¨çœŸæ­£éœ€è¦æ—¶æŠ›å‡ºå¼‚å¸¸ï¼Œé¿å…åœ¨æ€§èƒ½æ•æ„Ÿçš„ä»£ç ä¸­é¢‘ç¹æŠ›å‡ºå¼‚å¸¸ã€‚ éµå¾ªRAIIåŸåˆ™ï¼šé€šè¿‡èµ„æºè·å–å³åˆå§‹åŒ–ï¼ˆRAIIï¼‰ç®¡ç†èµ„æºï¼Œç¡®ä¿åœ¨å¼‚å¸¸å‘ç”Ÿæ—¶èµ„æºè¢«æ­£ç¡®é‡Šæ”¾ã€‚ é¿å…èµ„æºæ³„æ¼ï¼šç¡®ä¿æ‰€æœ‰èµ„æºï¼ˆå¦‚å†…å­˜ã€æ–‡ä»¶å¥æŸ„ï¼‰åœ¨å¼‚å¸¸å‘ç”Ÿæ—¶éƒ½èƒ½è¢«é‡Šæ”¾ï¼Œå¯ä»¥ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆå’Œå®¹å™¨ç±»æ¥ç®¡ç†èµ„æºã€‚ æ•è·å¼‚å¸¸çš„é€‚å½“èŒƒå›´ï¼šå°½é‡åœ¨éœ€è¦çš„åœ°æ–¹æ•è·å¼‚å¸¸ï¼Œé¿å…åœ¨è¿‡å¤§çš„èŒƒå›´å†…æ•è·å¼‚å¸¸ï¼Œå¯¼è‡´éš¾ä»¥ç†è§£çš„é”™è¯¯å¤„ç†ã€‚ ä½¿ç”¨ç‰¹å®šçš„å¼‚å¸¸ç±»å‹ï¼šå°½é‡æ•è·å…·ä½“çš„å¼‚å¸¸ç±»å‹ï¼Œè€Œä¸æ˜¯ä½¿ç”¨é€šé…ç¬¦catch(...)ï¼Œä»¥ä¾¿è¿›è¡Œé’ˆå¯¹æ€§çš„é”™è¯¯å¤„ç†ã€‚ ä¿æŒå¼‚å¸¸è§„èŒƒï¼šå‡½æ•°åº”æ˜ç¡®å£°æ˜å¯èƒ½æŠ›å‡ºçš„å¼‚å¸¸ç±»å‹ï¼Œå¹¶éµå¾ªä¸€è‡´çš„å¼‚å¸¸å¤„ç†ç­–ç•¥ã€‚ ç¤ºä¾‹ï¼šä½¿ç”¨RAIIå’Œæ™ºèƒ½æŒ‡é’ˆç¡®ä¿å¼‚å¸¸å®‰å…¨ 123456789101112131415161718192021222324252627282930313233343536#include &lt;iostream&gt;#include &lt;memory&gt;#include &lt;stdexcept&gt;// èµ„æºç±»class Resource &#123;public: Resource() &#123; std::cout &lt;&lt; &quot;èµ„æºå·²åˆ†é…ã€‚&quot; &lt;&lt; std::endl; &#125; ~Resource() &#123; std::cout &lt;&lt; &quot;èµ„æºå·²é‡Šæ”¾ã€‚&quot; &lt;&lt; std::endl; &#125; void doSomething() const &#123; std::cout &lt;&lt; &quot;èµ„æºæ­£åœ¨ä½¿ç”¨ã€‚&quot; &lt;&lt; std::endl; &#125;&#125;;// å‡½æ•°ï¼Œä½¿ç”¨èµ„æºå¹¶å¯èƒ½æŠ›å‡ºå¼‚å¸¸void useResource(bool triggerError) &#123; std::unique_ptr&lt;Resource&gt; res = std::make_unique&lt;Resource&gt;(); res-&gt;doSomething(); if (triggerError) &#123; throw std::runtime_error(&quot;åœ¨ä½¿ç”¨èµ„æºæ—¶å‘ç”Ÿé”™è¯¯ã€‚&quot;); &#125; // resåœ¨å‡½æ•°ç»“æŸæ—¶è‡ªåŠ¨é‡Šæ”¾ï¼Œæ— éœ€æ‰‹åŠ¨delete&#125;int main() &#123; try &#123; useResource(true); &#125; catch (const std::exception&amp; e) &#123; std::cerr &lt;&lt; &quot;å¼‚å¸¸æ•è·: &quot; &lt;&lt; e.what() &lt;&lt; std::endl; &#125; return 0;&#125; è¾“å‡ºï¼š 1234èµ„æºå·²åˆ†é…ã€‚èµ„æºæ­£åœ¨ä½¿ç”¨ã€‚å¼‚å¸¸æ•è·: åœ¨ä½¿ç”¨èµ„æºæ—¶å‘ç”Ÿé”™è¯¯ã€‚èµ„æºå·²é‡Šæ”¾ã€‚ è§£é‡Šï¼š ä½¿ç”¨std::unique_ptrç®¡ç†Resourceå¯¹è±¡ï¼Œç¡®ä¿å³ä½¿åœ¨å¼‚å¸¸å‘ç”Ÿæ—¶ï¼Œèµ„æºä¹Ÿèƒ½è¢«è‡ªåŠ¨é‡Šæ”¾ã€‚ useResourceå‡½æ•°ä¸­ï¼Œå½“triggerErrorä¸ºtrueæ—¶ï¼ŒæŠ›å‡ºstd::runtime_errorå¼‚å¸¸ã€‚ åœ¨mainå‡½æ•°ä¸­ï¼Œé€šè¿‡try-catchå—æ•è·å¹¶å¤„ç†å¼‚å¸¸ï¼Œé¿å…ç¨‹åºå´©æºƒã€‚ 9.6 æ€»ç»“å¼‚å¸¸å¤„ç†æ˜¯C++ä¸­ç¡®ä¿ç¨‹åºå¥å£®æ€§å’Œç¨³å®šæ€§çš„é‡è¦æœºåˆ¶ã€‚é€šè¿‡åˆç†ä½¿ç”¨tryã€catchå’Œthrowï¼Œå¹¶ç»“åˆè‡ªå®šä¹‰å¼‚å¸¸ç±»å’ŒRAIIåŸåˆ™ï¼Œå¯ä»¥æœ‰æ•ˆåœ°åº”å¯¹è¿è¡Œæ—¶é”™è¯¯ï¼Œæå‡ç¨‹åºçš„å¯é æ€§ã€‚åœ¨Qtå¼€å‘ä¸­ï¼Œå¼‚å¸¸å¤„ç†åŒæ ·è‡³å…³é‡è¦ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†æ–‡ä»¶æ“ä½œã€ç½‘ç»œé€šä¿¡å’ŒåŠ¨æ€å†…å­˜ç®¡ç†ç­‰å¯èƒ½å‡ºç°é”™è¯¯çš„åœºæ™¯ä¸­ã€‚ æ€»ç»“æœ¬ç¯‡æ–‡ç« è¯¦ç»†ä»‹ç»äº†Qt C++è¯­è¨€ç¼–ç¨‹è¿›é˜¶çš„ä¸‹åŠéƒ¨åˆ†å†…å®¹ï¼Œæ¶µç›–äº†å‘½åç©ºé—´ä¸æ¨¡æ¿ã€C++ IOæµç±»åº“ã€STLå®¹å™¨ï¼ˆvectorã€dequeã€stackã€queueã€setã€mapï¼‰ä»¥åŠC++å¼‚å¸¸å¤„ç†æœºåˆ¶ã€‚è¿™äº›é«˜çº§ç‰¹æ€§å’Œå·¥å…·ä¸ä»…ä¸°å¯Œäº†C++çš„ç¼–ç¨‹èƒ½åŠ›ï¼Œä¹Ÿä¸ºQtå¼€å‘æä¾›äº†å¼ºå¤§çš„æ”¯æŒï¼Œä½¿å¾—å¼€å‘è€…èƒ½å¤Ÿç¼–å†™å‡ºæ›´åŠ é«˜æ•ˆã€çµæ´»å’Œå¯ç»´æŠ¤çš„åº”ç”¨ç¨‹åºã€‚ ä¸»è¦å†…å®¹å›é¡¾ï¼š å‘½åç©ºé—´ä¸æ¨¡æ¿ï¼š å‘½åç©ºé—´ç”¨äºç»„ç»‡ä»£ç ï¼Œé¿å…å‘½åå†²çªã€‚ æ¨¡æ¿æ”¯æŒæ³›å‹ç¼–ç¨‹ï¼Œå®ç°å‡½æ•°å’Œç±»çš„ç±»å‹æ³›åŒ–å’Œå¤ç”¨ã€‚ C++ IOæµç±»åº“ï¼š æä¾›äº†ä¸æ§åˆ¶å°å’Œæ–‡ä»¶çš„é«˜æ•ˆè¾“å…¥è¾“å‡ºæœºåˆ¶ã€‚ æ”¯æŒæ ¼å¼åŒ–è¾“å‡ºï¼Œæ»¡è¶³å„ç§æ•°æ®å±•ç¤ºéœ€æ±‚ã€‚ STLå®¹å™¨ï¼š **vector**ï¼šåŠ¨æ€æ•°ç»„ï¼Œæ”¯æŒéšæœºè®¿é—®å’Œé«˜æ•ˆçš„å…ƒç´ æ“ä½œã€‚ **deque**ï¼šåŒç«¯é˜Ÿåˆ—ï¼Œæ”¯æŒä¸¤ç«¯çš„é«˜æ•ˆæ’å…¥å’Œåˆ é™¤ã€‚ **stack**ï¼šåè¿›å…ˆå‡ºï¼ˆLIFOï¼‰å®¹å™¨é€‚é…å™¨ã€‚ **queue**ï¼šå…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰å®¹å™¨é€‚é…å™¨ã€‚ **set**ï¼šæœ‰åºçš„å”¯ä¸€å…ƒç´ é›†åˆï¼Œæ”¯æŒé«˜æ•ˆçš„æŸ¥æ‰¾å’Œé›†åˆè¿ç®—ã€‚ **map**ï¼šé”®å€¼å¯¹çš„æœ‰åºé›†åˆï¼Œé€‚ç”¨äºå¿«é€ŸæŸ¥æ‰¾å’Œå…³è”æ•°æ®ç®¡ç†ã€‚ C++å¼‚å¸¸å¤„ç†ï¼š é€šè¿‡tryã€catchå’Œthrowå®ç°è¿è¡Œæ—¶é”™è¯¯å¤„ç†ã€‚ æ”¯æŒè‡ªå®šä¹‰å¼‚å¸¸ç±»ï¼Œç»“åˆRAIIå’Œæ™ºèƒ½æŒ‡é’ˆç¡®ä¿å¼‚å¸¸å®‰å…¨æ€§ã€‚ ä¸‹ä¸€æ­¥å­¦ä¹ å»ºè®®ï¼šæŒæ¡äº†C++çš„è¿›é˜¶ç‰¹æ€§åï¼Œå»ºè®®ç»§ç»­æ·±å…¥ä»¥ä¸‹å†…å®¹ï¼Œä»¥å…¨é¢æå‡Qt C++ç¼–ç¨‹èƒ½åŠ›ï¼š Qtæ¡†æ¶æ ¸å¿ƒæ¦‚å¿µï¼šå¦‚ä¿¡å·ä¸æ§½æœºåˆ¶ã€äº‹ä»¶å¤„ç†ã€Qtçš„å®¹å™¨ç±»ç­‰ã€‚ Qt GUIå¼€å‘ï¼šå­¦ä¹ Qt Widgetsã€Qt Quickç­‰ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„æ¨¡å—ã€‚ Qtå¤šçº¿ç¨‹ç¼–ç¨‹ï¼šæŒæ¡Qtæä¾›çš„å¤šçº¿ç¨‹ç±»å’Œæœºåˆ¶ï¼Œå®ç°é«˜æ€§èƒ½å’Œå“åº”å¼åº”ç”¨ã€‚ Qtç½‘ç»œç¼–ç¨‹ï¼šäº†è§£Qtçš„ç½‘ç»œæ¨¡å—ï¼Œæ„å»ºç½‘ç»œåº”ç”¨å’ŒæœåŠ¡ã€‚ Qté¡¹ç›®å®æˆ˜ï¼šé€šè¿‡å®é™…é¡¹ç›®çš„å¼€å‘ï¼Œç»“åˆç†è®ºçŸ¥è¯†ï¼Œå·©å›ºå’Œåº”ç”¨æ‰€å­¦å†…å®¹ã€‚ æŒç»­å…³æ³¨ï¼Œæˆ‘ä»¬å°†åœ¨åç»­çš„æ–‡ç« ä¸­è¯¦ç»†ä»‹ç»è¿™äº›å†…å®¹ï¼Œå¸®åŠ©æ‚¨å…¨é¢æŒæ¡Qt C++ç¼–ç¨‹çš„é«˜çº§æŠ€èƒ½ï¼Œæå‡å¼€å‘æ•ˆç‡ï¼Œæ„å»ºé«˜è´¨é‡çš„Qtåº”ç”¨ç¨‹åºã€‚ å¦‚æœæ‚¨å¯¹æœ¬æ–‡å†…å®¹æœ‰ä»»ä½•ç–‘é—®æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€ä¸æˆ‘ä»¬äº¤æµã€‚æ„Ÿè°¢æ‚¨çš„é˜…è¯»ä¸æ”¯æŒï¼","categories":[],"tags":[]},{"title":"Qt C++è¯­è¨€ç¼–ç¨‹åŸºç¡€","slug":"Qt-C-è¯­è¨€ç¼–ç¨‹åŸºç¡€","date":"2024-12-26T13:25:38.000Z","updated":"2024-12-26T13:38:46.410Z","comments":true,"path":"2024/12/26/Qt-C-è¯­è¨€ç¼–ç¨‹åŸºç¡€/","link":"","permalink":"http://ycx81.github.io/2024/12/26/Qt-C-%E8%AF%AD%E8%A8%80%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/","excerpt":"å‰è¨€","text":"å‰è¨€ Qt C++è¯­è¨€ç¼–ç¨‹åŸºç¡€è¯¦è§£åœ¨å­¦ä¹ Qtå¼€å‘ä¹‹å‰ï¼ŒæŒæ¡C++ç¼–ç¨‹è¯­è¨€çš„åŸºç¡€çŸ¥è¯†è‡³å…³é‡è¦ã€‚æœ¬ç¯‡æ–‡ç« å°†è¯¦ç»†ä»‹ç»Qt C++è¯­è¨€ç¼–ç¨‹çš„åŸºç¡€çŸ¥è¯†ï¼ŒåŒ…æ‹¬Visual Studio 2022çš„å®‰è£…ã€C++è¯­è¨€åŸºç¡€æ¦‚è¿°ã€æŒ‡é’ˆä¸å¼•ç”¨ã€ç±»ä¸å¯¹è±¡ä»¥åŠå…¶ä»–ç›¸å…³ç‰¹æ€§ã€‚æœ¬æ–‡é€‚åˆåˆå­¦è€…å’Œå¸Œæœ›å·©å›ºåŸºç¡€çš„å¼€å‘è€…ã€‚ 1. Visual Studio 2022å®‰è£…1.1 ä¸‹è½½Visual Studio 2022Visual Studio 2022æ˜¯å¾®è½¯æ¨å‡ºçš„é›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰ï¼Œæ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€ï¼ŒåŒ…æ‹¬C++ã€‚ä»¥ä¸‹æ˜¯ä¸‹è½½å’Œå®‰è£…çš„æ­¥éª¤ï¼š è®¿é—®å®˜æ–¹ç½‘ç«™ï¼šå‰å¾€Visual Studioå®˜ç½‘ã€‚ é€‰æ‹©ç‰ˆæœ¬ï¼šVisual Studioæä¾›å¤šä¸ªç‰ˆæœ¬ï¼ŒåŒ…æ‹¬Communityï¼ˆå…è´¹ï¼‰ã€Professionalå’ŒEnterpriseã€‚å¯¹äºä¸ªäººå­¦ä¹ å’Œå¼€æºé¡¹ç›®ï¼ŒCommunityç‰ˆå·²è¶³å¤Ÿã€‚ ä¸‹è½½å®‰è£…ç¨‹åºï¼šç‚¹å‡»â€œä¸‹è½½â€æŒ‰é’®ï¼Œä¸‹è½½Visual Studio Installerã€‚ 1.2 å®‰è£…Visual Studio 2022 è¿è¡Œå®‰è£…ç¨‹åºï¼šåŒå‡»ä¸‹è½½çš„å®‰è£…ç¨‹åºï¼ˆé€šå¸¸æ˜¯vs_installer.exeï¼‰å¯åŠ¨å®‰è£…å‘å¯¼ã€‚ é€‰æ‹©å·¥ä½œè´Ÿè½½ï¼šåœ¨å®‰è£…å‘å¯¼ä¸­ï¼Œé€‰æ‹©é€‚åˆçš„å·¥ä½œè´Ÿè½½ã€‚å¯¹äºC++å¼€å‘ï¼Œå»ºè®®é€‰æ‹©ï¼š â€œä½¿ç”¨C++çš„æ¡Œé¢å¼€å‘â€ï¼šåŒ…å«ç”¨äºå¼€å‘Windowsæ¡Œé¢åº”ç”¨çš„å·¥å…·å’Œåº“ã€‚ â€œä½¿ç”¨C++çš„æ¸¸æˆå¼€å‘â€ï¼ˆå¯é€‰ï¼‰ï¼šå¦‚æœä½ è®¡åˆ’è¿›è¡Œæ¸¸æˆå¼€å‘ã€‚ å®‰è£…ç»„ä»¶ï¼šæ ¹æ®éœ€æ±‚ï¼Œå¯ä»¥æ·»åŠ æ›´å¤šç»„ä»¶ï¼Œå¦‚â€œC++ CMakeå·¥å…·â€ã€â€œVisual Studioæ‰©å±•â€ç­‰ã€‚ å¼€å§‹å®‰è£…ï¼šç‚¹å‡»â€œå®‰è£…â€æŒ‰é’®ï¼Œç­‰å¾…å®‰è£…è¿‡ç¨‹å®Œæˆã€‚è¿™å¯èƒ½éœ€è¦ä¸€äº›æ—¶é—´ï¼Œå…·ä½“å–å†³äºé€‰æ‹©çš„ç»„ä»¶å’Œç½‘ç»œé€Ÿåº¦ã€‚ é¦–æ¬¡å¯åŠ¨ï¼šå®‰è£…å®Œæˆåï¼Œå¯åŠ¨Visual Studioã€‚æ ¹æ®æç¤ºç™»å½•æˆ–åˆ›å»ºä¸€ä¸ªå¾®è½¯è´¦æˆ·ï¼Œä»¥ä¾¿åŒæ­¥è®¾ç½®å’Œè·å–æ›´å¤šåŠŸèƒ½ã€‚ 1.3 é…ç½®C++å¼€å‘ç¯å¢ƒ æ›´æ–°å’Œæ‰©å±•ï¼šç¡®ä¿æ‰€æœ‰ç»„ä»¶å·²æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚å¯ä»¥é€šè¿‡Visual Studio Installerè¿›è¡Œæ›´æ–°ã€‚ è®¾ç½®ä¸»é¢˜å’Œå¸ƒå±€ï¼šåœ¨â€œå·¥å…·â€ &gt; â€œé€‰é¡¹â€ä¸­ï¼Œå¯ä»¥è°ƒæ•´IDEçš„ä¸»é¢˜ï¼ˆå¦‚æš—è‰²æ¨¡å¼ï¼‰å’Œç¼–è¾‘å™¨å¸ƒå±€ï¼Œä»¥æå‡å¼€å‘ä½“éªŒã€‚ éªŒè¯å®‰è£…ï¼šåˆ›å»ºä¸€ä¸ªç®€å•çš„C++æ§åˆ¶å°åº”ç”¨ç¨‹åºï¼Œç¡®ä¿å¼€å‘ç¯å¢ƒé…ç½®æ­£ç¡®ã€‚ 123456#include &lt;iostream&gt;int main() &#123; std::cout &lt;&lt; &quot;Hello, Visual Studio 2022!&quot; &lt;&lt; std::endl; return 0;&#125; ç¼–è¯‘å¹¶è¿è¡Œï¼Œç¡®è®¤è¾“å‡ºâ€œHello, Visual Studio 2022!â€ã€‚ 2. C++è¯­è¨€åŸºç¡€æ¦‚è¿°C++æ˜¯ä¸€ç§åŠŸèƒ½å¼ºå¤§çš„ç¼–ç¨‹è¯­è¨€ï¼Œå¹¿æ³›åº”ç”¨äºç³»ç»Ÿè½¯ä»¶ã€æ¸¸æˆå¼€å‘ã€å®æ—¶ç‰©ç†æ¨¡æ‹Ÿç­‰é¢†åŸŸã€‚ä»¥ä¸‹æ˜¯C++è¯­è¨€çš„åŸºæœ¬ç»„æˆéƒ¨åˆ†ã€‚ 2.1 åŸºæœ¬è¯­æ³•C++çš„åŸºæœ¬è¯­æ³•ç±»ä¼¼äºCè¯­è¨€ï¼Œä½†å¼•å…¥äº†é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ç‰¹æ€§ã€‚ä¸€ä¸ªç®€å•çš„C++ç¨‹åºç»“æ„å¦‚ä¸‹ï¼š 123456#include &lt;iostream&gt; // é¢„å¤„ç†æŒ‡ä»¤ï¼ŒåŒ…å«è¾“å…¥è¾“å‡ºåº“int main() &#123; // ä¸»å‡½æ•°ï¼Œç¨‹åºå…¥å£ std::cout &lt;&lt; &quot;Hello, World!&quot; &lt;&lt; std::endl; // è¾“å‡ºè¯­å¥ return 0; // è¿”å›å€¼&#125; 2.2 æ•°æ®ç±»å‹C++æ”¯æŒå¤šç§æ•°æ®ç±»å‹ï¼Œä¸»è¦åˆ†ä¸ºåŸºæœ¬æ•°æ®ç±»å‹å’Œç”¨æˆ·è‡ªå®šä¹‰æ•°æ®ç±»å‹ã€‚ åŸºæœ¬æ•°æ®ç±»å‹ï¼š æ•´å‹ï¼šint, short, long, long long æµ®ç‚¹å‹ï¼šfloat, double, long double å­—ç¬¦å‹ï¼šchar å¸ƒå°”å‹ï¼šbool ç”¨æˆ·è‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼š ç»“æ„ä½“ï¼ˆstructï¼‰ è”åˆä½“ï¼ˆunionï¼‰ æšä¸¾ï¼ˆenumï¼‰ ç±»ï¼ˆclassï¼‰ 2.3 æ§åˆ¶ç»“æ„æ§åˆ¶ç»“æ„ç”¨äºæ§åˆ¶ç¨‹åºçš„æ‰§è¡Œæµç¨‹ï¼Œä¸»è¦åŒ…æ‹¬æ¡ä»¶è¯­å¥å’Œå¾ªç¯è¯­å¥ã€‚ æ¡ä»¶è¯­å¥ï¼š ifè¯­å¥ else ifå’Œelse switchè¯­å¥ 12345678int number = 10;if (number &gt; 0) &#123; std::cout &lt;&lt; &quot;Positive number&quot; &lt;&lt; std::endl;&#125; else if (number &lt; 0) &#123; std::cout &lt;&lt; &quot;Negative number&quot; &lt;&lt; std::endl;&#125; else &#123; std::cout &lt;&lt; &quot;Zero&quot; &lt;&lt; std::endl;&#125; å¾ªç¯è¯­å¥ï¼š forå¾ªç¯ whileå¾ªç¯ do-whileå¾ªç¯ 123for (int i = 0; i &lt; 5; ++i) &#123; std::cout &lt;&lt; &quot;i = &quot; &lt;&lt; i &lt;&lt; std::endl;&#125; 2.4 ç¼–ç¨‹èŒƒå¼C++æ”¯æŒå¤šç§ç¼–ç¨‹èŒƒå¼ï¼ŒåŒ…æ‹¬ï¼š è¿‡ç¨‹å¼ç¼–ç¨‹ï¼šåŸºäºå‡½æ•°å’Œè¿‡ç¨‹çš„ç¼–ç¨‹æ–¹å¼ã€‚ é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰ï¼šåŸºäºå¯¹è±¡å’Œç±»ï¼Œæ”¯æŒå°è£…ã€ç»§æ‰¿å’Œå¤šæ€ã€‚ æ³›å‹ç¼–ç¨‹ï¼šé€šè¿‡æ¨¡æ¿å®ç°ä»£ç çš„æ³›åŒ–å’Œå¤ç”¨ã€‚ å‡½æ•°å¼ç¼–ç¨‹ï¼ˆéƒ¨åˆ†æ”¯æŒï¼‰ï¼šå¦‚Lambdaè¡¨è¾¾å¼å’ŒSTLç®—æ³•ã€‚ 3. C++æŒ‡é’ˆä¸å¼•ç”¨æŒ‡é’ˆå’Œå¼•ç”¨æ˜¯C++ä¸­éå¸¸é‡è¦çš„æ¦‚å¿µï¼ŒæŒæ¡å®ƒä»¬å¯¹äºç†è§£å†…å­˜ç®¡ç†å’Œé«˜æ•ˆç¼–ç¨‹è‡³å…³é‡è¦ã€‚ 3.1 æŒ‡é’ˆï¼ˆPointerï¼‰æŒ‡é’ˆæ˜¯ä¸€ä¸ªå˜é‡ï¼Œç”¨äºå­˜å‚¨å¦ä¸€ä¸ªå˜é‡çš„å†…å­˜åœ°å€ã€‚é€šè¿‡æŒ‡é’ˆï¼Œå¯ä»¥é—´æ¥è®¿é—®å’Œä¿®æ”¹å˜é‡çš„å€¼ã€‚ 3.1.1 æŒ‡é’ˆçš„å£°æ˜ä¸åˆå§‹åŒ–123456789int main() &#123; int var = 10; // å£°æ˜ä¸€ä¸ªæ•´å‹å˜é‡ int* ptr = &amp;var; // å£°æ˜ä¸€ä¸ªæŒ‡å‘æ•´å‹çš„æŒ‡é’ˆï¼Œå¹¶åˆå§‹åŒ–ä¸ºvarçš„åœ°å€ std::cout &lt;&lt; &quot;varçš„å€¼: &quot; &lt;&lt; var &lt;&lt; std::endl; std::cout &lt;&lt; &quot;ptræŒ‡å‘çš„åœ°å€: &quot; &lt;&lt; ptr &lt;&lt; std::endl; std::cout &lt;&lt; &quot;ptræŒ‡å‘çš„å€¼: &quot; &lt;&lt; *ptr &lt;&lt; std::endl; // ä½¿ç”¨*è¿ç®—ç¬¦è§£å¼•ç”¨ return 0;&#125; 3.1.2 æŒ‡é’ˆè¿ç®—æŒ‡é’ˆå¯ä»¥è¿›è¡Œç®—æœ¯è¿ç®—ï¼Œå¦‚åŠ å‡ã€‚ç‰¹åˆ«æ˜¯åœ¨æ•°ç»„æ“ä½œä¸­ï¼ŒæŒ‡é’ˆè¿ç®—éå¸¸å¸¸è§ã€‚ 123456int arr[5] = &#123;1, 2, 3, 4, 5&#125;;int* p = arr; // æŒ‡å‘æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ for (int i = 0; i &lt; 5; ++i) &#123; std::cout &lt;&lt; *(p + i) &lt;&lt; &quot; &quot;; // è¾“å‡ºæ•°ç»„å…ƒç´ &#125; 3.1.3 ç©ºæŒ‡é’ˆä¸æ‚¬ç©ºæŒ‡é’ˆ ç©ºæŒ‡é’ˆï¼šä¸æŒ‡å‘ä»»ä½•æœ‰æ•ˆå†…å­˜åœ°å€çš„æŒ‡é’ˆï¼Œé€šå¸¸åˆå§‹åŒ–ä¸ºnullptrã€‚ 1int* ptr = nullptr; æ‚¬ç©ºæŒ‡é’ˆï¼šæŒ‡é’ˆåŸæœ¬æŒ‡å‘çš„å†…å­˜å·²è¢«é‡Šæ”¾æˆ–é‡æ–°åˆ†é…ï¼Œä½†æŒ‡é’ˆæœªè¢«æ›´æ–°ï¼Œå¯¼è‡´æŒ‡å‘æ— æ•ˆåœ°å€ã€‚ 1234int* ptr = new int(5);delete ptr;// ptrç°åœ¨æˆä¸ºæ‚¬ç©ºæŒ‡é’ˆptr = nullptr; // åŠæ—¶ç½®ç©ºï¼Œé¿å…æ‚¬ç©º 3.2 å¼•ç”¨ï¼ˆReferenceï¼‰å¼•ç”¨æ˜¯ä¸€ä¸ªå˜é‡çš„åˆ«åï¼Œå¿…é¡»åœ¨å£°æ˜æ—¶åˆå§‹åŒ–ï¼Œä¸”ä¸èƒ½æ”¹å˜å¼•ç”¨çš„å¯¹è±¡ã€‚ 3.2.1 å¼•ç”¨çš„å£°æ˜ä¸ä½¿ç”¨1234567891011int main() &#123; int var = 20; int&amp; ref = var; // å£°æ˜ä¸€ä¸ªå¼•ç”¨ï¼Œrefæ˜¯varçš„åˆ«å std::cout &lt;&lt; &quot;varçš„å€¼: &quot; &lt;&lt; var &lt;&lt; std::endl; std::cout &lt;&lt; &quot;refçš„å€¼: &quot; &lt;&lt; ref &lt;&lt; std::endl; ref = 30; // ä¿®æ”¹refä¹Ÿä¼šä¿®æ”¹var std::cout &lt;&lt; &quot;ä¿®æ”¹åçš„var: &quot; &lt;&lt; var &lt;&lt; std::endl; return 0;&#125; 3.2.2 å¸¸é‡å¼•ç”¨å¸¸é‡å¼•ç”¨ç”¨äºç»‘å®šä¸´æ—¶å¯¹è±¡æˆ–å¸¸é‡ï¼Œä¿è¯å¼•ç”¨çš„å¯¹è±¡ä¸ä¼šè¢«ä¿®æ”¹ã€‚ 12345678910void printValue(const int&amp; ref) &#123; std::cout &lt;&lt; &quot;å€¼ä¸º: &quot; &lt;&lt; ref &lt;&lt; std::endl;&#125;int main() &#123; int var = 50; printValue(var); printValue(100); // ä¸´æ—¶å¯¹è±¡ä¹Ÿå¯ä»¥é€šè¿‡å¸¸é‡å¼•ç”¨ä¼ é€’ return 0;&#125; 3.3 æŒ‡é’ˆä¸å¼•ç”¨çš„åŒºåˆ« ç‰¹æ€§ æŒ‡é’ˆ å¼•ç”¨ å£°æ˜ int* ptr; int&amp; ref = var; åˆå§‹åŒ– å¯ä»¥å…ˆå£°æ˜ååˆå§‹åŒ– å¿…é¡»åœ¨å£°æ˜æ—¶åˆå§‹åŒ– é‡èµ‹å€¼ å¯ä»¥æŒ‡å‘ä¸åŒçš„å˜é‡ ä¸èƒ½æ”¹å˜å¼•ç”¨çš„ç›®æ ‡ ç©ºå€¼ å¯ä»¥ä¸ºnullptr å¿…é¡»å¼•ç”¨æœ‰æ•ˆçš„å¯¹è±¡ï¼Œä¸å…è®¸ä¸ºç©º è¯­æ³• éœ€è¦ä½¿ç”¨*å’Œ&amp;è¿›è¡Œè§£å¼•ç”¨å’Œå–åœ°å€ ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€é¢å¤–è¿ç®—ç¬¦ 3.4 å†…å­˜ç®¡ç†çš„é‡è¦æ€§æ­£ç¡®ä½¿ç”¨æŒ‡é’ˆå’Œå¼•ç”¨å¯¹äºå†…å­˜ç®¡ç†è‡³å…³é‡è¦ã€‚é”™è¯¯çš„æŒ‡é’ˆæ“ä½œå¯èƒ½å¯¼è‡´å†…å­˜æ³„æ¼ã€æ‚¬ç©ºæŒ‡é’ˆå’Œæœªå®šä¹‰è¡Œä¸ºã€‚ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆï¼ˆå¦‚std::unique_ptrå’Œstd::shared_ptrï¼‰å¯ä»¥æœ‰æ•ˆç®¡ç†åŠ¨æ€å†…å­˜ï¼Œå‡å°‘é”™è¯¯é£é™©ã€‚ 4. C++ç±»ä¸å¯¹è±¡ï¼ˆä¸€ï¼‰é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰æ˜¯C++çš„é‡è¦ç‰¹æ€§ä¹‹ä¸€ï¼Œé€šè¿‡ç±»å’Œå¯¹è±¡å®ç°ä»£ç çš„å°è£…ã€å¤ç”¨å’Œæ‰©å±•ã€‚ä»¥ä¸‹æ˜¯C++ä¸­ç±»ä¸å¯¹è±¡çš„åŸºæœ¬æ¦‚å¿µã€‚ 4.1 ç±»ï¼ˆClassï¼‰ç±»æ˜¯å¯¹è±¡çš„è“å›¾ï¼Œå®šä¹‰äº†å¯¹è±¡çš„å±æ€§ï¼ˆæˆå‘˜å˜é‡ï¼‰å’Œè¡Œä¸ºï¼ˆæˆå‘˜å‡½æ•°ï¼‰ã€‚ 4.1.1 ç±»çš„å®šä¹‰123456789101112131415class Person &#123;public: // æ„é€ å‡½æ•° Person(std::string name, int age) : name_(name), age_(age) &#123;&#125; // æˆå‘˜å‡½æ•° void introduce() const &#123; std::cout &lt;&lt; &quot;æˆ‘æ˜¯&quot; &lt;&lt; name_ &lt;&lt; &quot;ï¼Œä»Šå¹´&quot; &lt;&lt; age_ &lt;&lt; &quot;å²ã€‚&quot; &lt;&lt; std::endl; &#125;private: // æˆå‘˜å˜é‡ std::string name_; int age_;&#125;; è®¿é—®ä¿®é¥°ç¬¦ï¼š publicï¼šå…¬æœ‰æˆå‘˜ï¼Œç±»å¤–å¯ä»¥è®¿é—®ã€‚ privateï¼šç§æœ‰æˆå‘˜ï¼Œç±»å¤–ä¸å¯è®¿é—®ã€‚ protectedï¼šå—ä¿æŠ¤æˆå‘˜ï¼Œæ´¾ç”Ÿç±»å¯ä»¥è®¿é—®ã€‚ 4.1.2 ç±»çš„å®ä¾‹åŒ–12345int main() &#123; Person person(&quot;å¼ ä¸‰&quot;, 25); // åˆ›å»ºå¯¹è±¡ person.introduce(); // è°ƒç”¨æˆå‘˜å‡½æ•° return 0;&#125; 4.2 å¯¹è±¡ï¼ˆObjectï¼‰å¯¹è±¡æ˜¯ç±»çš„å®ä¾‹ï¼Œå…·æœ‰ç±»å®šä¹‰çš„å±æ€§å’Œè¡Œä¸ºã€‚æ¯ä¸ªå¯¹è±¡åœ¨å†…å­˜ä¸­å æœ‰ç‹¬ç«‹çš„ç©ºé—´ã€‚ 4.2.1 åŠ¨æ€å¯¹è±¡ä¸é™æ€å¯¹è±¡ é™æ€å¯¹è±¡ï¼šåœ¨æ ˆä¸Šåˆ†é…ï¼Œç”Ÿå‘½å‘¨æœŸç”±ä½œç”¨åŸŸå†³å®šã€‚ 1Person person(&quot;æå››&quot;, 30); // é™æ€å¯¹è±¡ åŠ¨æ€å¯¹è±¡ï¼šåœ¨å †ä¸Šåˆ†é…ï¼Œéœ€è¦æ‰‹åŠ¨ç®¡ç†å†…å­˜ã€‚ 123Person* ptr = new Person(&quot;ç‹äº”&quot;, 35); // åŠ¨æ€å¯¹è±¡ptr-&gt;introduce();delete ptr; // é‡Šæ”¾å†…å­˜ 4.3 æˆå‘˜å˜é‡ä¸æˆå‘˜å‡½æ•° æˆå‘˜å˜é‡ï¼šæè¿°å¯¹è±¡çš„çŠ¶æ€å’Œå±æ€§ã€‚ 123456789101112class Rectangle &#123;public: Rectangle(double width, double height) : width_(width), height_(height) &#123;&#125; double area() const &#123; return width_ * height_; &#125;private: double width_; double height_;&#125;; æˆå‘˜å‡½æ•°ï¼šæè¿°å¯¹è±¡çš„è¡Œä¸ºå’Œæ“ä½œã€‚ 12Rectangle rect(5.0, 3.0);std::cout &lt;&lt; &quot;é¢ç§¯: &quot; &lt;&lt; rect.area() &lt;&lt; std::endl; 4.4 è®¿é—®ä¿®é¥°ç¬¦è®¿é—®ä¿®é¥°ç¬¦ç”¨äºæ§åˆ¶ç±»æˆå‘˜çš„å¯è§æ€§å’Œè®¿é—®æƒé™ã€‚ publicï¼šå…¬å¼€æˆå‘˜ï¼Œç±»å¤–å¯è®¿é—®ã€‚ privateï¼šç§æœ‰æˆå‘˜ï¼Œç±»å¤–ä¸å¯è®¿é—®ã€‚ protectedï¼šå—ä¿æŠ¤æˆå‘˜ï¼Œåªæœ‰æ´¾ç”Ÿç±»å’Œç±»å†…éƒ¨å¯è®¿é—®ã€‚ 1234567891011121314151617class Base &#123;public: void publicMethod() &#123;&#125;protected: void protectedMethod() &#123;&#125;private: void privateMethod() &#123;&#125;&#125;;class Derived : public Base &#123;public: void accessMethods() &#123; publicMethod(); // å¯è®¿é—® protectedMethod(); // å¯è®¿é—® // privateMethod(); // ä¸å¯è®¿é—®ï¼Œç¼–è¯‘é”™è¯¯ &#125;&#125;; 4.5 å°è£…ï¼ˆEncapsulationï¼‰å°è£…æ˜¯OOPçš„æ ¸å¿ƒæ¦‚å¿µï¼Œé€šè¿‡å°†æ•°æ®å’Œæ“ä½œæ•°æ®çš„å‡½æ•°ç»‘å®šåœ¨ä¸€èµ·ï¼Œéšè—å†…éƒ¨å®ç°ç»†èŠ‚ï¼Œä»…æš´éœ²æ¥å£ï¼Œæå‡ä»£ç çš„å®‰å…¨æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ 1234567891011121314151617181920212223class BankAccount &#123;public: BankAccount(double balance) : balance_(balance) &#123;&#125; void deposit(double amount) &#123; if (amount &gt; 0) &#123; balance_ += amount; &#125; &#125; void withdraw(double amount) &#123; if (amount &gt; 0 &amp;&amp; amount &lt;= balance_) &#123; balance_ -= amount; &#125; &#125; double getBalance() const &#123; return balance_; &#125;private: double balance_; // ç§æœ‰æˆå‘˜ï¼Œå¤–éƒ¨ä¸å¯ç›´æ¥è®¿é—®&#125;; 5. C++ç±»ä¸å¯¹è±¡ï¼ˆäºŒï¼‰åœ¨æŒæ¡äº†ç±»ä¸å¯¹è±¡çš„åŸºç¡€åï¼Œè¿›ä¸€æ­¥äº†è§£C++ä¸­ç±»çš„é«˜çº§ç‰¹æ€§ï¼Œå¦‚ç»§æ‰¿ã€å¤šæ€å’Œå°è£…ç­‰ï¼Œå°†æœ‰åŠ©äºç¼–å†™æ›´çµæ´»å’Œå¯å¤ç”¨çš„ä»£ç ã€‚ 5.1 ç»§æ‰¿ï¼ˆInheritanceï¼‰ç»§æ‰¿å…è®¸ä¸€ä¸ªç±»ï¼ˆæ´¾ç”Ÿç±»ï¼‰ç»§æ‰¿å¦ä¸€ä¸ªç±»ï¼ˆåŸºç±»ï¼‰çš„å±æ€§å’Œè¡Œä¸ºï¼Œä»è€Œå®ç°ä»£ç å¤ç”¨å’Œå±‚æ¬¡åŒ–è®¾è®¡ã€‚ 5.1.1 å•ç»§æ‰¿å•ç»§æ‰¿æŒ‡ä¸€ä¸ªæ´¾ç”Ÿç±»åªèƒ½ç»§æ‰¿ä¸€ä¸ªåŸºç±»ã€‚ 1234567891011121314151617181920class Animal &#123;public: void eat() &#123; std::cout &lt;&lt; &quot;åŠ¨ç‰©åœ¨åƒé£Ÿç‰©ã€‚&quot; &lt;&lt; std::endl; &#125;&#125;;class Dog : public Animal &#123;public: void bark() &#123; std::cout &lt;&lt; &quot;ç‹—åœ¨å«ã€‚&quot; &lt;&lt; std::endl; &#125;&#125;;int main() &#123; Dog dog; dog.eat(); // ç»§æ‰¿è‡ªAnimal dog.bark(); // Dogè‡ªèº«çš„å‡½æ•° return 0;&#125; 5.1.2 å¤šç»§æ‰¿å¤šç»§æ‰¿æŒ‡ä¸€ä¸ªæ´¾ç”Ÿç±»å¯ä»¥ç»§æ‰¿å¤šä¸ªåŸºç±»ã€‚è™½ç„¶å¤šç»§æ‰¿æä¾›äº†æ›´å¤§çš„çµæ´»æ€§ï¼Œä½†ä¹Ÿå¯èƒ½å¼•å‘å¤æ‚æ€§ï¼Œå¦‚è±å½¢ç»§æ‰¿é—®é¢˜ã€‚ 12345678910111213141516171819202122232425262728class Flyer &#123;public: void fly() &#123; std::cout &lt;&lt; &quot;å¯ä»¥é£è¡Œã€‚&quot; &lt;&lt; std::endl; &#125;&#125;;class Swimmer &#123;public: void swim() &#123; std::cout &lt;&lt; &quot;å¯ä»¥æ¸¸æ³³ã€‚&quot; &lt;&lt; std::endl; &#125;&#125;;class Duck : public Flyer, public Swimmer &#123;public: void quack() &#123; std::cout &lt;&lt; &quot;é¸­å­åœ¨å«ã€‚&quot; &lt;&lt; std::endl; &#125;&#125;;int main() &#123; Duck duck; duck.fly(); duck.swim(); duck.quack(); return 0;&#125; 5.2 å¤šæ€ï¼ˆPolymorphismï¼‰å¤šæ€å…è®¸å¯¹è±¡ä»¥å¤šç§å½¢å¼å‡ºç°ï¼Œä¸»è¦é€šè¿‡è™šå‡½æ•°å®ç°ã€‚å®ƒä½¿å¾—åŒä¸€æ¥å£å¯ä»¥è°ƒç”¨ä¸åŒçš„å®ç°ï¼Œå¢å¼ºäº†ä»£ç çš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ã€‚ 5.2.1 è™šå‡½æ•°è™šå‡½æ•°æ˜¯åœ¨åŸºç±»ä¸­å£°æ˜ä¸ºvirtualçš„æˆå‘˜å‡½æ•°ï¼Œå…è®¸æ´¾ç”Ÿç±»é‡å†™å®ƒä»¬ã€‚ 1234567891011121314151617181920212223242526272829303132class Shape &#123;public: virtual void draw() const &#123; std::cout &lt;&lt; &quot;ç»˜åˆ¶ä¸€ä¸ªå½¢çŠ¶ã€‚&quot; &lt;&lt; std::endl; &#125;&#125;;class Circle : public Shape &#123;public: void draw() const override &#123; std::cout &lt;&lt; &quot;ç»˜åˆ¶ä¸€ä¸ªåœ†å½¢ã€‚&quot; &lt;&lt; std::endl; &#125;&#125;;class Rectangle : public Shape &#123;public: void draw() const override &#123; std::cout &lt;&lt; &quot;ç»˜åˆ¶ä¸€ä¸ªçŸ©å½¢ã€‚&quot; &lt;&lt; std::endl; &#125;&#125;;int main() &#123; Shape* shape1 = new Circle(); Shape* shape2 = new Rectangle(); shape1-&gt;draw(); // è¾“å‡ºï¼šç»˜åˆ¶ä¸€ä¸ªåœ†å½¢ã€‚ shape2-&gt;draw(); // è¾“å‡ºï¼šç»˜åˆ¶ä¸€ä¸ªçŸ©å½¢ã€‚ delete shape1; delete shape2; return 0;&#125; 5.2.2 æŠ½è±¡ç±»æŠ½è±¡ç±»æ˜¯åŒ…å«è‡³å°‘ä¸€ä¸ªçº¯è™šå‡½æ•°çš„ç±»ï¼Œä¸èƒ½å®ä¾‹åŒ–ï¼Œé€šå¸¸ä½œä¸ºæ¥å£ä½¿ç”¨ã€‚ 1234567891011121314151617181920class AbstractShape &#123;public: virtual void draw() const = 0; // çº¯è™šå‡½æ•° virtual ~AbstractShape() = default; // è™šææ„å‡½æ•°&#125;;class Triangle : public AbstractShape &#123;public: void draw() const override &#123; std::cout &lt;&lt; &quot;ç»˜åˆ¶ä¸€ä¸ªä¸‰è§’å½¢ã€‚&quot; &lt;&lt; std::endl; &#125;&#125;;int main() &#123; // AbstractShape shape; // é”™è¯¯ï¼Œæ— æ³•å®ä¾‹åŒ–æŠ½è±¡ç±» AbstractShape* shape = new Triangle(); shape-&gt;draw(); // è¾“å‡ºï¼šç»˜åˆ¶ä¸€ä¸ªä¸‰è§’å½¢ã€‚ delete shape; return 0;&#125; 5.3 å°è£…ä¸è®¿é—®æ§åˆ¶å°è£…ä¸ä»…ä»…æ˜¯å°†æ•°æ®å’Œå‡½æ•°ç»‘å®šåœ¨ä¸€èµ·ï¼Œè¿˜æ¶‰åŠé€šè¿‡è®¿é—®æ§åˆ¶ç¬¦é™åˆ¶å¯¹æ•°æ®çš„è®¿é—®ï¼Œç¡®ä¿æ•°æ®çš„ä¸€è‡´æ€§å’Œå®‰å…¨æ€§ã€‚ 123456789101112131415161718class Employee &#123;public: Employee(std::string name, double salary) : name_(name), salary_(salary) &#123;&#125; void setSalary(double salary) &#123; if (salary &gt; 0) &#123; salary_ = salary; &#125; &#125; double getSalary() const &#123; return salary_; &#125;private: std::string name_; double salary_;&#125;; åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œsalary_æ˜¯ç§æœ‰æˆå‘˜ï¼Œä¸èƒ½ç›´æ¥ä»ç±»å¤–éƒ¨è®¿é—®ã€‚é€šè¿‡setSalaryå’ŒgetSalaryå‡½æ•°æ¥æ§åˆ¶å¯¹salary_çš„è®¿é—®å’Œä¿®æ”¹ï¼Œç¡®ä¿å…¶å€¼å§‹ç»ˆæœ‰æ•ˆã€‚ 5.4 æ„é€ å‡½æ•°ä¸ææ„å‡½æ•°æ„é€ å‡½æ•°å’Œææ„å‡½æ•°æ˜¯ç±»ä¸­ç”¨äºå¯¹è±¡ç”Ÿå‘½å‘¨æœŸç®¡ç†çš„é‡è¦æˆå‘˜å‡½æ•°ã€‚ 5.4.1 æ„é€ å‡½æ•°æ„é€ å‡½æ•°ç”¨äºåœ¨åˆ›å»ºå¯¹è±¡æ—¶åˆå§‹åŒ–æˆå‘˜å˜é‡ã€‚ é»˜è®¤æ„é€ å‡½æ•°ï¼šæ— å‚æ•°æ„é€ å‡½æ•°ã€‚ å¸¦å‚æ•°æ„é€ å‡½æ•°ï¼šæ¥å—å‚æ•°ï¼Œç”¨äºåˆå§‹åŒ–å¯¹è±¡ã€‚ æ‹·è´æ„é€ å‡½æ•°ï¼šç”¨äºé€šè¿‡å·²æœ‰å¯¹è±¡åˆ›å»ºæ–°å¯¹è±¡ã€‚ 123456789101112131415class Point &#123;public: // é»˜è®¤æ„é€ å‡½æ•° Point() : x_(0), y_(0) &#123;&#125; // å¸¦å‚æ•°æ„é€ å‡½æ•° Point(double x, double y) : x_(x), y_(y) &#123;&#125; // æ‹·è´æ„é€ å‡½æ•° Point(const Point&amp; other) : x_(other.x_), y_(other.y_) &#123;&#125;private: double x_; double y_;&#125;; 5.4.2 ææ„å‡½æ•°ææ„å‡½æ•°åœ¨å¯¹è±¡ç”Ÿå‘½å‘¨æœŸç»“æŸæ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œç”¨äºé‡Šæ”¾èµ„æºã€‚ 12345678910111213141516171819202122class Resource &#123;public: Resource() &#123; data_ = new int[100]; std::cout &lt;&lt; &quot;èµ„æºå·²åˆ†é…ã€‚&quot; &lt;&lt; std::endl; &#125; ~Resource() &#123; delete[] data_; std::cout &lt;&lt; &quot;èµ„æºå·²é‡Šæ”¾ã€‚&quot; &lt;&lt; std::endl; &#125;private: int* data_;&#125;;int main() &#123; &#123; Resource res; &#125; // resçš„ææ„å‡½æ•°è‡ªåŠ¨è°ƒç”¨ï¼Œé‡Šæ”¾èµ„æº return 0;&#125; 5.4.3 æ‹·è´æ„é€ å‡½æ•°æ‹·è´æ„é€ å‡½æ•°ç”¨äºåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡æ˜¯é€šè¿‡å¦ä¸€ä¸ªåŒç±»å‹å¯¹è±¡çš„å¤åˆ¶æ„é€ è€Œæ¥ã€‚ 123456789101112131415161718class CopyExample &#123;public: CopyExample(int value) : value_(value) &#123;&#125; // è‡ªå®šä¹‰æ‹·è´æ„é€ å‡½æ•° CopyExample(const CopyExample&amp; other) : value_(other.value_) &#123; std::cout &lt;&lt; &quot;æ‹·è´æ„é€ å‡½æ•°è¢«è°ƒç”¨ã€‚&quot; &lt;&lt; std::endl; &#125;private: int value_;&#125;;int main() &#123; CopyExample obj1(10); CopyExample obj2 = obj1; // è°ƒç”¨æ‹·è´æ„é€ å‡½æ•° return 0;&#125; å¦‚æœæ²¡æœ‰è‡ªå®šä¹‰æ‹·è´æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨å°†ç”Ÿæˆé»˜è®¤çš„æ‹·è´æ„é€ å‡½æ•°ï¼Œé€ä¸ªæˆå‘˜è¿›è¡Œæ‹·è´ã€‚ 6. ç±»çš„å…¶ä»–ç‰¹æ€§é™¤äº†ç»§æ‰¿ã€å¤šæ€å’ŒåŸºæœ¬çš„å°è£…ï¼ŒC++ç±»è¿˜å…·å¤‡è®¸å¤šé«˜çº§ç‰¹æ€§ï¼Œå¦‚å‹å…ƒã€é™æ€æˆå‘˜ã€åµŒå¥—ç±»å’ŒåŒ¿åå¯¹è±¡ç­‰ã€‚è¿™äº›ç‰¹æ€§ä½¿å¾—C++ç±»æ›´åŠ çµæ´»å’Œå¼ºå¤§ã€‚ 6.1 å‹å…ƒï¼ˆFriendï¼‰å‹å…ƒå…è®¸å¤–éƒ¨å‡½æ•°æˆ–ç±»è®¿é—®ç±»çš„ç§æœ‰å’Œå—ä¿æŠ¤æˆå‘˜ã€‚å°½ç®¡è¿™è¿èƒŒäº†å°è£…åŸåˆ™ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹éå¸¸æœ‰ç”¨ï¼Œå¦‚é‡è½½è¿ç®—ç¬¦æˆ–å®ç°è¾…åŠ©åŠŸèƒ½ã€‚ 6.1.1 å‹å…ƒå‡½æ•°123456789101112131415161718192021class Box &#123;private: double width_;public: Box(double width) : width_(width) &#123;&#125; // å£°æ˜å‹å…ƒå‡½æ•° friend void printWidth(const Box&amp; box);&#125;;// å®šä¹‰å‹å…ƒå‡½æ•°void printWidth(const Box&amp; box) &#123; std::cout &lt;&lt; &quot;Box width: &quot; &lt;&lt; box.width_ &lt;&lt; std::endl;&#125;int main() &#123; Box box(10.5); printWidth(box); // å‹å…ƒå‡½æ•°å¯ä»¥è®¿é—®ç§æœ‰æˆå‘˜ return 0;&#125; 6.1.2 å‹å…ƒç±»1234567891011121314151617181920212223242526class ClassB; // å‰å‘å£°æ˜class ClassA &#123;private: int value_;public: ClassA(int value) : value_(value) &#123;&#125; // å£°æ˜ClassBä¸ºå‹å…ƒç±» friend class ClassB;&#125;;class ClassB &#123;public: void showValue(const ClassA&amp; a) &#123; std::cout &lt;&lt; &quot;ClassAçš„å€¼: &quot; &lt;&lt; a.value_ &lt;&lt; std::endl; // è®¿é—®ClassAçš„ç§æœ‰æˆå‘˜ &#125;&#125;;int main() &#123; ClassA a(42); ClassB b; b.showValue(a); return 0;&#125; 6.2 é™æ€æˆå‘˜ï¼ˆStatic Membersï¼‰é™æ€æˆå‘˜å±äºç±»æœ¬èº«ï¼Œè€Œä¸æ˜¯ç±»çš„ä»»ä½•å®ä¾‹ã€‚é™æ€æˆå‘˜å˜é‡åœ¨æ‰€æœ‰å¯¹è±¡ä¹‹é—´å…±äº«ï¼Œé™æ€æˆå‘˜å‡½æ•°åªèƒ½è®¿é—®é™æ€æˆå‘˜ã€‚ 6.2.1 é™æ€æˆå‘˜å˜é‡123456789101112131415161718192021222324252627class Counter &#123;public: static int count; // é™æ€æˆå‘˜å˜é‡å£°æ˜ Counter() &#123; ++count; &#125; ~Counter() &#123; --count; &#125;&#125;;// é™æ€æˆå‘˜å˜é‡å®šä¹‰å’Œåˆå§‹åŒ–int Counter::count = 0;int main() &#123; std::cout &lt;&lt; &quot;åˆå§‹è®¡æ•°: &quot; &lt;&lt; Counter::count &lt;&lt; std::endl; Counter c1; std::cout &lt;&lt; &quot;åˆ›å»ºä¸€ä¸ªå¯¹è±¡åè®¡æ•°: &quot; &lt;&lt; Counter::count &lt;&lt; std::endl; &#123; Counter c2; std::cout &lt;&lt; &quot;åˆ›å»ºç¬¬äºŒä¸ªå¯¹è±¡åè®¡æ•°: &quot; &lt;&lt; Counter::count &lt;&lt; std::endl; &#125; std::cout &lt;&lt; &quot;é”€æ¯ç¬¬äºŒä¸ªå¯¹è±¡åè®¡æ•°: &quot; &lt;&lt; Counter::count &lt;&lt; std::endl; return 0;&#125; 6.2.2 é™æ€æˆå‘˜å‡½æ•°1234567891011class Utility &#123;public: static void showMessage() &#123; std::cout &lt;&lt; &quot;è¿™æ˜¯ä¸€ä¸ªé™æ€æˆå‘˜å‡½æ•°ã€‚&quot; &lt;&lt; std::endl; &#125;&#125;;int main() &#123; Utility::showMessage(); // ç›´æ¥é€šè¿‡ç±»åè°ƒç”¨ return 0;&#125; 6.3 åµŒå¥—ç±»ï¼ˆNested Classesï¼‰åµŒå¥—ç±»æ˜¯åœ¨ä¸€ä¸ªç±»çš„å†…éƒ¨å®šä¹‰çš„ç±»ã€‚åµŒå¥—ç±»å¯ä»¥è®¿é—®å¤–éƒ¨ç±»çš„æˆå‘˜ï¼ŒåŒ…æ‹¬ç§æœ‰æˆå‘˜ã€‚ 1234567891011121314151617181920212223class Outer &#123;public: class Inner &#123; public: void display() &#123; std::cout &lt;&lt; &quot;è¿™æ˜¯åµŒå¥—ç±»Innerçš„æˆå‘˜å‡½æ•°ã€‚&quot; &lt;&lt; std::endl; &#125; &#125;; void showInner() &#123; Inner inner; inner.display(); &#125;&#125;;int main() &#123; Outer outer; outer.showInner(); Outer::Inner inner; inner.display(); return 0;&#125; 6.4 åŒ¿åå¯¹è±¡ï¼ˆTemporary Objectsï¼‰åŒ¿åå¯¹è±¡æ˜¯æ²¡æœ‰åå­—çš„ä¸´æ—¶å¯¹è±¡ï¼Œé€šå¸¸ç”¨äºå‡½æ•°è¿”å›å€¼æˆ–ä½œä¸ºè¡¨è¾¾å¼çš„ä¸€éƒ¨åˆ†ã€‚ 12345678910111213141516171819class Temp &#123;public: Temp() &#123; std::cout &lt;&lt; &quot;ä¸´æ—¶å¯¹è±¡å·²åˆ›å»ºã€‚&quot; &lt;&lt; std::endl; &#125; ~Temp() &#123; std::cout &lt;&lt; &quot;ä¸´æ—¶å¯¹è±¡å·²é”€æ¯ã€‚&quot; &lt;&lt; std::endl; &#125; void show() &#123; std::cout &lt;&lt; &quot;ä¸´æ—¶å¯¹è±¡çš„æ–¹æ³•ã€‚&quot; &lt;&lt; std::endl; &#125;&#125;;int main() &#123; Temp().show(); // åˆ›å»ºä¸€ä¸ªåŒ¿åå¯¹è±¡å¹¶è°ƒç”¨showæ–¹æ³• return 0;&#125; 7. æ„é€ å‡½æ•°ã€ææ„å‡½æ•°ä¸æ‹·è´æ„é€ å‡½æ•°å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†æ˜¯C++ç¼–ç¨‹ä¸­çš„é‡è¦æ–¹é¢ã€‚æ„é€ å‡½æ•°ã€ææ„å‡½æ•°å’Œæ‹·è´æ„é€ å‡½æ•°åœ¨ç®¡ç†èµ„æºå’Œç¡®ä¿å¯¹è±¡æ­£ç¡®åˆå§‹åŒ–å’Œé”€æ¯ä¸­èµ·ç€å…³é”®ä½œç”¨ã€‚ 7.1 æ„é€ å‡½æ•°ï¼ˆConstructorï¼‰æ„é€ å‡½æ•°æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æˆå‘˜å‡½æ•°ï¼Œç”¨äºåœ¨åˆ›å»ºå¯¹è±¡æ—¶åˆå§‹åŒ–æˆå‘˜å˜é‡ã€‚æ„é€ å‡½æ•°çš„åç§°ä¸ç±»åç›¸åŒï¼Œä¸”æ²¡æœ‰è¿”å›ç±»å‹ã€‚ 7.1.1 é»˜è®¤æ„é€ å‡½æ•°å¦‚æœæœªæ˜¾å¼å®šä¹‰ä»»ä½•æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨å°†ç”Ÿæˆä¸€ä¸ªé»˜è®¤æ„é€ å‡½æ•°ã€‚ 1234567891011class DefaultExample &#123;public: int value;&#125;;int main() &#123; DefaultExample obj; obj.value = 100; std::cout &lt;&lt; &quot;å€¼: &quot; &lt;&lt; obj.value &lt;&lt; std::endl; return 0;&#125; 7.1.2 å¸¦å‚æ•°æ„é€ å‡½æ•°å¸¦å‚æ•°æ„é€ å‡½æ•°å…è®¸åœ¨åˆ›å»ºå¯¹è±¡æ—¶ä¼ é€’åˆå§‹å€¼ã€‚ 123456789101112131415161718class Parameterized &#123;public: Parameterized(int x, int y) : x_(x), y_(y) &#123;&#125; void display() const &#123; std::cout &lt;&lt; &quot;x = &quot; &lt;&lt; x_ &lt;&lt; &quot;, y = &quot; &lt;&lt; y_ &lt;&lt; std::endl; &#125;private: int x_; int y_;&#125;;int main() &#123; Parameterized obj(5, 10); obj.display(); return 0;&#125; 7.1.3 å§”æ‰˜æ„é€ å‡½æ•°ï¼ˆC++11å¼•å…¥ï¼‰å§”æ‰˜æ„é€ å‡½æ•°å…è®¸ä¸€ä¸ªæ„é€ å‡½æ•°è°ƒç”¨åŒä¸€ç±»ä¸­çš„å¦ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œä»¥å‡å°‘é‡å¤ä»£ç ã€‚ 12345678910111213141516171819202122class Point &#123;public: Point() : Point(0, 0) &#123;&#125; // å§”æ‰˜è°ƒç”¨å¸¦å‚æ•°æ„é€ å‡½æ•° Point(int x, int y) : x_(x), y_(y) &#123;&#125; void display() const &#123; std::cout &lt;&lt; &quot;Point(&quot; &lt;&lt; x_ &lt;&lt; &quot;, &quot; &lt;&lt; y_ &lt;&lt; &quot;)&quot; &lt;&lt; std::endl; &#125;private: int x_; int y_;&#125;;int main() &#123; Point p1; Point p2(3, 4); p1.display(); p2.display(); return 0;&#125; 7.2 ææ„å‡½æ•°ï¼ˆDestructorï¼‰ææ„å‡½æ•°åœ¨å¯¹è±¡ç”Ÿå‘½å‘¨æœŸç»“æŸæ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œç”¨äºé‡Šæ”¾èµ„æºå’Œæ‰§è¡Œæ¸…ç†å·¥ä½œã€‚ææ„å‡½æ•°çš„åç§°ä¸ºç±»åä¹‹å‰åŠ ä¸Šæ³¢æµªå·ï¼ˆ~ï¼‰ï¼Œä¸”æ²¡æœ‰å‚æ•°å’Œè¿”å›ç±»å‹ã€‚ 12345678910111213141516171819202122class ResourceHolder &#123;public: ResourceHolder() &#123; data_ = new int[100]; std::cout &lt;&lt; &quot;èµ„æºå·²åˆ†é…ã€‚&quot; &lt;&lt; std::endl; &#125; ~ResourceHolder() &#123; delete[] data_; std::cout &lt;&lt; &quot;èµ„æºå·²é‡Šæ”¾ã€‚&quot; &lt;&lt; std::endl; &#125;private: int* data_;&#125;;int main() &#123; &#123; ResourceHolder holder; &#125; // holderçš„ææ„å‡½æ•°è‡ªåŠ¨è°ƒç”¨ï¼Œé‡Šæ”¾èµ„æº return 0;&#125; 7.3 æ‹·è´æ„é€ å‡½æ•°ï¼ˆCopy Constructorï¼‰æ‹·è´æ„é€ å‡½æ•°ç”¨äºé€šè¿‡ç°æœ‰å¯¹è±¡åˆ›å»ºæ–°å¯¹è±¡ï¼Œç¡®ä¿å¯¹è±¡çš„æ­£ç¡®å¤åˆ¶ï¼Œå°¤å…¶æ˜¯åœ¨ç®¡ç†åŠ¨æ€èµ„æºæ—¶ã€‚ 7.3.1 é»˜è®¤æ‹·è´æ„é€ å‡½æ•°å¦‚æœæœªæ˜¾å¼å®šä¹‰æ‹·è´æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨å°†ç”Ÿæˆä¸€ä¸ªé»˜è®¤çš„æˆå‘˜é€ä¸ªæ‹·è´çš„æ‹·è´æ„é€ å‡½æ•°ã€‚ 123456789101112class Simple &#123;public: int value;&#125;;int main() &#123; Simple obj1; obj1.value = 10; Simple obj2 = obj1; // ä½¿ç”¨é»˜è®¤æ‹·è´æ„é€ å‡½æ•° std::cout &lt;&lt; &quot;obj2.value = &quot; &lt;&lt; obj2.value &lt;&lt; std::endl; return 0;&#125; 7.3.2 è‡ªå®šä¹‰æ‹·è´æ„é€ å‡½æ•°å¯¹äºåŒ…å«æŒ‡é’ˆæˆ–éœ€è¦æ·±æ‹·è´çš„ç±»ï¼Œéœ€è‡ªå®šä¹‰æ‹·è´æ„é€ å‡½æ•°ï¼Œä»¥é¿å…æµ…æ‹·è´å¸¦æ¥çš„é—®é¢˜ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738class DeepCopy &#123;public: DeepCopy(int size) : size_(size), data_(new int[size]) &#123; for (int i = 0; i &lt; size_; ++i) &#123; data_[i] = i; &#125; &#125; // è‡ªå®šä¹‰æ‹·è´æ„é€ å‡½æ•° DeepCopy(const DeepCopy&amp; other) : size_(other.size_), data_(new int[other.size_]) &#123; for (int i = 0; i &lt; size_; ++i) &#123; data_[i] = other.data_[i]; &#125; std::cout &lt;&lt; &quot;æ·±æ‹·è´æ„é€ å‡½æ•°è¢«è°ƒç”¨ã€‚&quot; &lt;&lt; std::endl; &#125; ~DeepCopy() &#123; delete[] data_; &#125; void display() const &#123; for (int i = 0; i &lt; size_; ++i) &#123; std::cout &lt;&lt; data_[i] &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; &#125;private: int size_; int* data_;&#125;;int main() &#123; DeepCopy obj1(5); DeepCopy obj2 = obj1; // è°ƒç”¨è‡ªå®šä¹‰æ‹·è´æ„é€ å‡½æ•° obj2.display(); return 0;&#125; 8. C++å‹å…ƒä¸åŠ¨æ€å†…å­˜å‹å…ƒå’ŒåŠ¨æ€å†…å­˜ç®¡ç†æ˜¯C++ä¸­é«˜çº§ä½†é‡è¦çš„æ¦‚å¿µï¼ŒæŒæ¡å®ƒä»¬æœ‰åŠ©äºç¼–å†™é«˜æ•ˆå’Œå®‰å…¨çš„ä»£ç ã€‚ 8.1 å‹å…ƒï¼ˆFriendï¼‰å‹å…ƒå…è®¸éæˆå‘˜å‡½æ•°æˆ–ç±»è®¿é—®ç±»çš„ç§æœ‰å’Œå—ä¿æŠ¤æˆå‘˜ã€‚è™½ç„¶å¢åŠ äº†çµæ´»æ€§ï¼Œä½†æ»¥ç”¨å‹å…ƒå¯èƒ½ç ´åå°è£…æ€§ã€‚ 8.1.1 å‹å…ƒå‡½æ•°123456789101112131415161718192021class Box &#123;private: double width_;public: Box(double width) : width_(width) &#123;&#125; // å£°æ˜å‹å…ƒå‡½æ•° friend void printWidth(const Box&amp; box);&#125;;// å®šä¹‰å‹å…ƒå‡½æ•°void printWidth(const Box&amp; box) &#123; std::cout &lt;&lt; &quot;Box width: &quot; &lt;&lt; box.width_ &lt;&lt; std::endl;&#125;int main() &#123; Box box(15.5); printWidth(box); // å‹å…ƒå‡½æ•°å¯ä»¥è®¿é—®ç§æœ‰æˆå‘˜ return 0;&#125; 8.1.2 å‹å…ƒç±»1234567891011121314151617181920212223242526class ClassB; // å‰å‘å£°æ˜class ClassA &#123;private: int secret_;public: ClassA(int secret) : secret_(secret) &#123;&#125; // å£°æ˜ClassBä¸ºå‹å…ƒç±» friend class ClassB;&#125;;class ClassB &#123;public: void revealSecret(const ClassA&amp; a) &#123; std::cout &lt;&lt; &quot;ClassAçš„ç§˜å¯†: &quot; &lt;&lt; a.secret_ &lt;&lt; std::endl; &#125;&#125;;int main() &#123; ClassA a(12345); ClassB b; b.revealSecret(a); return 0;&#125; 8.2 åŠ¨æ€å†…å­˜ç®¡ç†C++å…è®¸ç¨‹åºåœ¨è¿è¡Œæ—¶åŠ¨æ€åˆ†é…å’Œé‡Šæ”¾å†…å­˜ã€‚æ­£ç¡®ç®¡ç†åŠ¨æ€å†…å­˜æ˜¯ç¡®ä¿ç¨‹åºç¨³å®šæ€§å’Œé˜²æ­¢å†…å­˜æ³„æ¼çš„å…³é”®ã€‚ 8.2.1 ä½¿ç”¨newå’Œdelete12345678910111213141516171819int main() &#123; // åŠ¨æ€åˆ†é…å•ä¸ªæ•´æ•° int* ptr = new int(42); std::cout &lt;&lt; &quot;åŠ¨æ€åˆ†é…çš„å€¼: &quot; &lt;&lt; *ptr &lt;&lt; std::endl; delete ptr; // é‡Šæ”¾å†…å­˜ // åŠ¨æ€åˆ†é…æ•°ç»„ int* arr = new int[5]; for (int i = 0; i &lt; 5; ++i) &#123; arr[i] = i * 10; &#125; for (int i = 0; i &lt; 5; ++i) &#123; std::cout &lt;&lt; arr[i] &lt;&lt; &quot; &quot;; &#125; std::cout &lt;&lt; std::endl; delete[] arr; // é‡Šæ”¾æ•°ç»„å†…å­˜ return 0;&#125; 8.2.2 æ™ºèƒ½æŒ‡é’ˆä¸ºäº†ç®€åŒ–åŠ¨æ€å†…å­˜ç®¡ç†ï¼ŒC++11å¼•å…¥äº†æ™ºèƒ½æŒ‡é’ˆï¼ŒåŒ…æ‹¬std::unique_ptrã€std::shared_ptrå’Œstd::weak_ptrï¼Œå®ƒä»¬é€šè¿‡RAIIï¼ˆèµ„æºè·å–å³åˆå§‹åŒ–ï¼‰æœºåˆ¶è‡ªåŠ¨ç®¡ç†å†…å­˜ï¼Œå‡å°‘å†…å­˜æ³„æ¼çš„é£é™©ã€‚ 8.2.2.1 std::unique_ptrstd::unique_ptrè¡¨ç¤ºå¯¹åŠ¨æ€åˆ†é…å¯¹è±¡çš„ç‹¬å æ‰€æœ‰æƒï¼Œä¸èƒ½å¤åˆ¶ï¼Œåªèƒ½ç§»åŠ¨ã€‚ 123456789101112131415161718192021222324#include &lt;memory&gt;#include &lt;iostream&gt;class Widget &#123;public: Widget() &#123; std::cout &lt;&lt; &quot;Widgetæ„é€ ã€‚&quot; &lt;&lt; std::endl; &#125; ~Widget() &#123; std::cout &lt;&lt; &quot;Widgetææ„ã€‚&quot; &lt;&lt; std::endl; &#125; void greet() &#123; std::cout &lt;&lt; &quot;Hello from Widget!&quot; &lt;&lt; std::endl; &#125;&#125;;int main() &#123; std::unique_ptr&lt;Widget&gt; ptr1 = std::make_unique&lt;Widget&gt;(); ptr1-&gt;greet(); // std::unique_ptr&lt;Widget&gt; ptr2 = ptr1; // é”™è¯¯ï¼Œä¸èƒ½å¤åˆ¶ std::unique_ptr&lt;Widget&gt; ptr2 = std::move(ptr1); // é€šè¿‡ç§»åŠ¨æ‰€æœ‰æƒ if (!ptr1) &#123; std::cout &lt;&lt; &quot;ptr1ä¸å†æ‹¥æœ‰Widgetã€‚&quot; &lt;&lt; std::endl; &#125; ptr2-&gt;greet(); return 0;&#125; 8.2.2.2 std::shared_ptrstd::shared_ptrå…è®¸å¤šä¸ªæŒ‡é’ˆå…±äº«åŒä¸€ä¸ªåŠ¨æ€åˆ†é…å¯¹è±¡ï¼Œé€šè¿‡å¼•ç”¨è®¡æ•°ç®¡ç†å¯¹è±¡ç”Ÿå‘½å‘¨æœŸã€‚ 1234567891011121314151617181920#include &lt;memory&gt;#include &lt;iostream&gt;class Gadget &#123;public: Gadget() &#123; std::cout &lt;&lt; &quot;Gadgetæ„é€ ã€‚&quot; &lt;&lt; std::endl; &#125; ~Gadget() &#123; std::cout &lt;&lt; &quot;Gadgetææ„ã€‚&quot; &lt;&lt; std::endl; &#125; void show() &#123; std::cout &lt;&lt; &quot;Gadgetåœ¨å·¥ä½œã€‚&quot; &lt;&lt; std::endl; &#125;&#125;;int main() &#123; std::shared_ptr&lt;Gadget&gt; sp1 = std::make_shared&lt;Gadget&gt;(); &#123; std::shared_ptr&lt;Gadget&gt; sp2 = sp1; // å¼•ç”¨è®¡æ•°å¢åŠ  sp2-&gt;show(); std::cout &lt;&lt; &quot;å¼•ç”¨è®¡æ•°: &quot; &lt;&lt; sp1.use_count() &lt;&lt; std::endl; &#125; // sp2ææ„ï¼Œå¼•ç”¨è®¡æ•°å‡å°‘ std::cout &lt;&lt; &quot;å¼•ç”¨è®¡æ•°: &quot; &lt;&lt; sp1.use_count() &lt;&lt; std::endl; return 0;&#125; // sp1ææ„ï¼ŒGadgetè¢«é‡Šæ”¾ 8.2.2.3 std::weak_ptrstd::weak_ptræ˜¯std::shared_ptrçš„è¾…åŠ©å·¥å…·ï¼Œç”¨äºè§£å†³å¾ªç¯å¼•ç”¨é—®é¢˜ï¼Œä¸å¢åŠ å¼•ç”¨è®¡æ•°ã€‚ 123456789101112131415161718192021#include &lt;memory&gt;#include &lt;iostream&gt;class Node &#123;public: std::shared_ptr&lt;Node&gt; next; std::weak_ptr&lt;Node&gt; prev; // ä½¿ç”¨weak_ptré¿å…å¾ªç¯å¼•ç”¨ Node() &#123; std::cout &lt;&lt; &quot;Nodeæ„é€ ã€‚&quot; &lt;&lt; std::endl; &#125; ~Node() &#123; std::cout &lt;&lt; &quot;Nodeææ„ã€‚&quot; &lt;&lt; std::endl; &#125;&#125;;int main() &#123; std::shared_ptr&lt;Node&gt; node1 = std::make_shared&lt;Node&gt;(); std::shared_ptr&lt;Node&gt; node2 = std::make_shared&lt;Node&gt;(); node1-&gt;next = node2; node2-&gt;prev = node1; // ä½¿ç”¨weak_ptrï¼Œä¸å¢åŠ å¼•ç”¨è®¡æ•° return 0;&#125; 8.3 å†…å­˜ç®¡ç†çš„æœ€ä½³å®è·µ é¿å…å†…å­˜æ³„æ¼ï¼šç¡®ä¿æ¯ä¸€ä¸ªnewéƒ½æœ‰å¯¹åº”çš„deleteï¼Œæˆ–è€…æ›´å¥½åœ°ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆè‡ªåŠ¨ç®¡ç†å†…å­˜ã€‚ é¿å…æ‚¬ç©ºæŒ‡é’ˆï¼šåœ¨é‡Šæ”¾å†…å­˜åï¼ŒåŠæ—¶å°†æŒ‡é’ˆç½®ä¸ºnullptrã€‚ ä½¿ç”¨RAIIï¼šé€šè¿‡èµ„æºè·å–å³åˆå§‹åŒ–çš„åŸåˆ™ï¼Œç¡®ä¿èµ„æºåœ¨å¯¹è±¡ç”Ÿå‘½å‘¨æœŸå†…è¢«æ­£ç¡®ç®¡ç†ã€‚ å°½é‡ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆï¼šå‡å°‘æ‰‹åŠ¨ç®¡ç†å†…å­˜çš„å¤æ‚æ€§ï¼Œæé«˜ä»£ç å®‰å…¨æ€§ã€‚ 9. å‡½æ•°é‡è½½ä¸è¿ç®—ç¬¦é‡è½½é€šè¿‡å‡½æ•°é‡è½½å’Œè¿ç®—ç¬¦é‡è½½ï¼Œå¯ä»¥æå‡ä»£ç çš„å¯è¯»æ€§å’Œçµæ´»æ€§ï¼Œä½¿ç±»å’Œå‡½æ•°æ›´åŠ ç›´è§‚å’Œæ˜“ç”¨ã€‚ 9.1 å‡½æ•°é‡è½½ï¼ˆFunction Overloadingï¼‰å‡½æ•°é‡è½½å…è®¸åœ¨åŒä¸€ä½œç”¨åŸŸå†…å®šä¹‰å¤šä¸ªåŒåå‡½æ•°ï¼Œåªè¦å®ƒä»¬çš„å‚æ•°åˆ—è¡¨ä¸åŒï¼ˆå‚æ•°æ•°é‡æˆ–ç±»å‹ï¼‰ã€‚ 9.1.1 ç¤ºä¾‹123456789101112131415161718192021#include &lt;iostream&gt;// å‡½æ•°é‡è½½ç¤ºä¾‹void print(int i) &#123; std::cout &lt;&lt; &quot;æ•´æ•°: &quot; &lt;&lt; i &lt;&lt; std::endl;&#125;void print(double d) &#123; std::cout &lt;&lt; &quot;åŒç²¾åº¦æµ®ç‚¹æ•°: &quot; &lt;&lt; d &lt;&lt; std::endl;&#125;void print(const std::string&amp; s) &#123; std::cout &lt;&lt; &quot;å­—ç¬¦ä¸²: &quot; &lt;&lt; s &lt;&lt; std::endl;&#125;int main() &#123; print(10); print(3.14); print(&quot;Hello, Overloading!&quot;); return 0;&#125; 9.2 è¿ç®—ç¬¦é‡è½½ï¼ˆOperator Overloadingï¼‰è¿ç®—ç¬¦é‡è½½å…è®¸è‡ªå®šä¹‰ç±»å‹çš„å¯¹è±¡ä½¿ç”¨å†…ç½®è¿ç®—ç¬¦ï¼Œå®ç°è‡ªå®šä¹‰çš„æ“ä½œè¡Œä¸ºã€‚è¿ç®—ç¬¦é‡è½½é€šè¿‡å®šä¹‰ç‰¹æ®Šçš„æˆå‘˜å‡½æ•°æˆ–å‹å…ƒå‡½æ•°æ¥å®ç°ã€‚ 9.2.1 é‡è½½åŸºæœ¬è¿ç®—ç¬¦ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„Complexç±»ï¼Œé‡è½½äº†åŠ æ³•è¿ç®—ç¬¦+ã€‚ 123456789101112131415161718192021222324252627#include &lt;iostream&gt;class Complex &#123;public: Complex(double real, double imag) : real_(real), imag_(imag) &#123;&#125; // é‡è½½åŠ æ³•è¿ç®—ç¬¦ Complex operator+(const Complex&amp; other) const &#123; return Complex(real_ + other.real_, imag_ + other.imag_); &#125; void display() const &#123; std::cout &lt;&lt; real_ &lt;&lt; &quot; + &quot; &lt;&lt; imag_ &lt;&lt; &quot;i&quot; &lt;&lt; std::endl; &#125;private: double real_; double imag_;&#125;;int main() &#123; Complex c1(1.2, 3.4); Complex c2(5.6, 7.8); Complex c3 = c1 + c2; // ä½¿ç”¨é‡è½½çš„+è¿ç®—ç¬¦ c3.display(); // è¾“å‡º: 6.8 + 11.2i return 0;&#125; 9.2.2 é‡è½½æµè¿ç®—ç¬¦å¸¸è§çš„æµè¿ç®—ç¬¦&lt;&lt;å’Œ&gt;&gt;å¯ä»¥è¢«é‡è½½ï¼Œä»¥ä¾¿è‡ªå®šä¹‰ç±»å‹å¯ä»¥ç›´æ¥ç”¨äºè¾“å…¥è¾“å‡ºæµã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940#include &lt;iostream&gt;class Point &#123;public: Point(double x, double y) : x_(x), y_(y) &#123;&#125; // é‡è½½è¾“å‡ºè¿ç®—ç¬¦ friend std::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, const Point&amp; p); // é‡è½½è¾“å…¥è¿ç®—ç¬¦ friend std::istream&amp; operator&gt;&gt;(std::istream&amp; is, Point&amp; p);private: double x_; double y_;&#125;;// è¾“å‡ºè¿ç®—ç¬¦é‡è½½std::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, const Point&amp; p) &#123; os &lt;&lt; &quot;(&quot; &lt;&lt; p.x_ &lt;&lt; &quot;, &quot; &lt;&lt; p.y_ &lt;&lt; &quot;)&quot;; return os;&#125;// è¾“å…¥è¿ç®—ç¬¦é‡è½½std::istream&amp; operator&gt;&gt;(std::istream&amp; is, Point&amp; p) &#123; is &gt;&gt; p.x_ &gt;&gt; p.y_; return is;&#125;int main() &#123; Point p1(2.5, 4.5); std::cout &lt;&lt; &quot;ç‚¹p1: &quot; &lt;&lt; p1 &lt;&lt; std::endl; Point p2(0, 0); std::cout &lt;&lt; &quot;è¾“å…¥ç‚¹p2çš„åæ ‡ (x y): &quot;; std::cin &gt;&gt; p2; std::cout &lt;&lt; &quot;ç‚¹p2: &quot; &lt;&lt; p2 &lt;&lt; std::endl; return 0;&#125; 9.2.3 é‡è½½èµ‹å€¼è¿ç®—ç¬¦å½“ç±»ä¸­åŒ…å«åŠ¨æ€åˆ†é…çš„èµ„æºæ—¶ï¼Œé‡è½½èµ‹å€¼è¿ç®—ç¬¦ä»¥å®ç°æ·±æ‹·è´æ˜¯å¿…è¦çš„ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960#include &lt;iostream&gt;#include &lt;cstring&gt;class String &#123;public: String(const char* str = &quot;&quot;) &#123; if (str) &#123; size_ = std::strlen(str); data_ = new char[size_ + 1]; std::strcpy(data_, str); &#125; else &#123; size_ = 0; data_ = new char[1]; data_[0] = &#x27;\\0&#x27;; &#125; &#125; // æ‹·è´æ„é€ å‡½æ•° String(const String&amp; other) : size_(other.size_), data_(new char[other.size_ + 1]) &#123; std::strcpy(data_, other.data_); &#125; // èµ‹å€¼è¿ç®—ç¬¦é‡è½½ String&amp; operator=(const String&amp; other) &#123; if (this == &amp;other) &#123; return *this; // è‡ªæˆ‘èµ‹å€¼æ£€æŸ¥ &#125; delete[] data_; // é‡Šæ”¾ç°æœ‰èµ„æº size_ = other.size_; data_ = new char[size_ + 1]; std::strcpy(data_, other.data_); return *this; &#125; ~String() &#123; delete[] data_; &#125; void display() const &#123; std::cout &lt;&lt; data_ &lt;&lt; std::endl; &#125;private: size_t size_; char* data_;&#125;;int main() &#123; String s1(&quot;Hello&quot;); String s2 = s1; // è°ƒç”¨æ‹·è´æ„é€ å‡½æ•° String s3; s3 = s1; // è°ƒç”¨èµ‹å€¼è¿ç®—ç¬¦ s1.display(); s2.display(); s3.display(); return 0;&#125; 9.3 é‡è½½è¿ç®—ç¬¦çš„æ³¨æ„äº‹é¡¹ ä¿æŒè¿ç®—ç¬¦çš„è¯­ä¹‰ä¸€è‡´ï¼šé‡è½½è¿ç®—ç¬¦åº”ç¬¦åˆå…¶è‡ªç„¶è¯­ä¹‰ï¼Œé¿å…æ··æ·†ã€‚ é¿å…è¿‡åº¦é‡è½½ï¼šåªåœ¨å¿…è¦æ—¶é‡è½½è¿ç®—ç¬¦ï¼Œè¿‡åº¦é‡è½½å¯èƒ½å¯¼è‡´ä»£ç éš¾ä»¥ç†è§£ã€‚ ç¡®ä¿æ“ä½œç¬¦çš„å¯¹ç§°æ€§ï¼šå¯¹äºäºŒå…ƒè¿ç®—ç¬¦ï¼Œç¡®ä¿å…¶æ“ä½œæ˜¯å¯¹ç§°çš„ï¼ˆå¦‚a + bä¸b + aï¼‰ã€‚ æ€»ç»“æœ¬ç¯‡æ–‡ç« è¯¦ç»†ä»‹ç»äº†Qt C++è¯­è¨€ç¼–ç¨‹åŸºç¡€çš„å¤šä¸ªé‡è¦çŸ¥è¯†ç‚¹ï¼ŒåŒ…æ‹¬Visual Studio 2022çš„å®‰è£…ã€C++è¯­è¨€åŸºç¡€ã€æŒ‡é’ˆä¸å¼•ç”¨ã€ç±»ä¸å¯¹è±¡åŠå…¶é«˜çº§ç‰¹æ€§ã€æ„é€ å‡½æ•°ä¸ææ„å‡½æ•°ã€å‹å…ƒä¸åŠ¨æ€å†…å­˜ç®¡ç†ï¼Œä»¥åŠå‡½æ•°é‡è½½ä¸è¿ç®—ç¬¦é‡è½½ã€‚è¿™äº›åŸºç¡€çŸ¥è¯†æ˜¯æŒæ¡Qtå¼€å‘çš„å‰æï¼Œå»ºè®®è¯»è€…åœ¨å®è·µä¸­å¤šåŠ ç»ƒä¹ ï¼Œä»¥åŠ æ·±ç†è§£å’Œåº”ç”¨ã€‚ åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†ç»§ç»­æ·±å…¥æ¢è®¨Qt C++è¯­è¨€è¿›é˜¶çŸ¥è¯†ï¼Œå¸®åŠ©æ‚¨æ›´å¥½åœ°æŒæ¡Qtå¼€å‘çš„æŠ€èƒ½ã€‚","categories":[],"tags":[]},{"title":"ä»QTableViewçœ‹æ¨¡å‹-è§†å›¾-ä»£ç†ï¼ˆModel-View-Delegateï¼‰æ¶æ„","slug":"ä»QTableViewçœ‹æ¨¡å‹-è§†å›¾-ä»£ç†ï¼ˆModel-View-Delegateï¼‰æ¶æ„","date":"2024-12-26T13:25:14.000Z","updated":"2024-12-26T13:27:42.861Z","comments":true,"path":"2024/12/26/ä»QTableViewçœ‹æ¨¡å‹-è§†å›¾-ä»£ç†ï¼ˆModel-View-Delegateï¼‰æ¶æ„/","link":"","permalink":"http://ycx81.github.io/2024/12/26/%E4%BB%8EQTableView%E7%9C%8B%E6%A8%A1%E5%9E%8B-%E8%A7%86%E5%9B%BE-%E4%BB%A3%E7%90%86%EF%BC%88Model-View-Delegate%EF%BC%89%E6%9E%B6%E6%9E%84/","excerpt":"å‰è¨€","text":"å‰è¨€ ä»QTableViewçœ‹æ¨¡å‹-è§†å›¾-ä»£ç†ï¼ˆModel-View-Delegateï¼‰æ¶æ„QTableView æ˜¯ Qt æ¡†æ¶ä¸­çš„ä¸€ä¸ªç”¨äºæ˜¾ç¤ºå’Œæ“ä½œè¡¨æ ¼æ•°æ®çš„è§†å›¾ç±»ã€‚å®ƒåŸºäºæ¨¡å‹-è§†å›¾ï¼ˆModel-Viewï¼‰æ¶æ„ï¼Œå…è®¸å¼€å‘è€…å°†æ•°æ®ä»æ¨¡å‹ä¸­åˆ†ç¦»å‡ºæ¥å¹¶å±•ç¤ºä¸ºè¡¨æ ¼ã€‚QTableView ä¸ç›´æ¥å­˜å‚¨æ•°æ®ï¼Œè€Œæ˜¯é€šè¿‡æ¨¡å‹æ¥å£ä¸æ•°æ®æºè¿›è¡Œäº¤äº’ï¼Œè¿™ä½¿å¾—å®ƒç‰¹åˆ«é€‚åˆå¤„ç†å¤æ‚å’ŒåŠ¨æ€çš„æ•°æ®é›†ã€‚ 1. ä¸»è¦åŠŸèƒ½ æ˜¾ç¤ºäºŒç»´æ•°æ®ï¼šQTableView ç”¨äºæ˜¾ç¤ºç”±è¡Œå’Œåˆ—ç»„æˆçš„äºŒç»´æ•°æ®è¡¨ã€‚ æ”¯æŒå¯è§†åŒ–æ’åºå’Œè¿‡æ»¤ï¼šé€šè¿‡ä¸æ¨¡å‹å’Œä»£ç†ï¼ˆå¦‚ QSortFilterProxyModelï¼‰ç»“åˆä½¿ç”¨ï¼ŒQTableView å¯ä»¥æ–¹ä¾¿åœ°å®ç°æ•°æ®çš„æ’åºå’Œè¿‡æ»¤ã€‚ çµæ´»çš„æ•°æ®å±•ç¤ºï¼šé€šè¿‡è‡ªå®šä¹‰æ¨¡å‹æˆ–ä»£ç†æ¨¡å‹ï¼Œå¯ä»¥ä»¥å¤šç§æ–¹å¼å±•ç¤ºæ•°æ®ï¼ŒåŒ…æ‹¬è‡ªå®šä¹‰å•å…ƒæ ¼æ ·å¼ã€ä¸åŒçš„æ•°æ®ç±»å‹ï¼ˆæ–‡æœ¬ã€å›¾ç‰‡ã€å¤é€‰æ¡†ç­‰ï¼‰ã€‚ å¯ç¼–è¾‘çš„è¡¨æ ¼ï¼šQTableView æ”¯æŒç”¨æˆ·åœ¨è§†å›¾ä¸­ç›´æ¥ç¼–è¾‘å•å…ƒæ ¼æ•°æ®ï¼Œå¹¶å°†ä¿®æ”¹çš„å€¼æ›´æ–°åˆ°æ¨¡å‹ä¸­ã€‚ 2. æ¨¡å‹-è§†å›¾æ¶æ„QTableView æ˜¯åŸºäº Qt çš„æ¨¡å‹-è§†å›¾-ä»£ç†ï¼ˆModel-View-Delegateï¼‰è®¾è®¡æ¨¡å¼çš„ä¸€éƒ¨åˆ†ã€‚å®ƒä¸ç›´æ¥ä¿å­˜æ•°æ®ï¼Œè€Œæ˜¯ä¾èµ–äºä¸€ä¸ªæ•°æ®æ¨¡å‹ï¼ˆå¦‚ QStandardItemModel æˆ–è‡ªå®šä¹‰çš„æ¨¡å‹ç±»ï¼‰æ¥æä¾›æ•°æ®ã€‚ æ•°æ®æ¨¡å‹ï¼ˆModelï¼‰ï¼šæ¨¡å‹ç®¡ç†æ•°æ®å¹¶é€šè¿‡æ¥å£æä¾›æ•°æ®ç»™è§†å›¾ã€‚å¸¸è§çš„æ¨¡å‹ç±»åŒ…æ‹¬ QStandardItemModelã€QSqlTableModel å’Œ QAbstractTableModelã€‚ è§†å›¾ï¼ˆViewï¼‰ï¼šQTableView æ˜¯è§†å›¾éƒ¨åˆ†ï¼Œè´Ÿè´£æ˜¾ç¤ºæ¨¡å‹ä¸­çš„æ•°æ®å¹¶å…è®¸ç”¨æˆ·ä¸ä¹‹äº¤äº’ã€‚ ä»£ç†ï¼ˆDelegateï¼‰ï¼šé€šè¿‡ä»£ç†ï¼Œå¯ä»¥è‡ªå®šä¹‰å•å…ƒæ ¼çš„å‘ˆç°æ–¹å¼ï¼Œä¾‹å¦‚å¦‚ä½•æ˜¾ç¤ºæˆ–ç¼–è¾‘ç‰¹å®šå•å…ƒæ ¼çš„æ•°æ®ã€‚ 3. QTableView ä½¿ç”¨ç¤ºä¾‹12345678910111213141516171819202122#include &lt;QApplication&gt;#include &lt;QTableView&gt;#include &lt;QStandardItemModel&gt;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºæ¨¡å‹å¹¶è®¾ç½®æ•°æ® QStandardItemModel model(4, 2); // 4è¡Œ2åˆ— model.setHorizontalHeaderLabels(&#123;&quot;Name&quot;, &quot;Age&quot;&#125;); model.setItem(0, 0, new QStandardItem(&quot;Alice&quot;)); model.setItem(0, 1, new QStandardItem(&quot;30&quot;)); model.setItem(1, 0, new QStandardItem(&quot;Bob&quot;)); model.setItem(1, 1, new QStandardItem(&quot;25&quot;)); // åˆ›å»ºè¡¨è§†å›¾ QTableView tableView; tableView.setModel(&amp;model); // è¿æ¥è§†å›¾å’Œæ¨¡å‹ tableView.show(); return app.exec();&#125; åœ¨è¿™ä¸ªç®€å•çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª QStandardItemModel æ¥å­˜å‚¨è¡¨æ ¼æ•°æ®ï¼Œç„¶åå°†æ¨¡å‹è®¾ç½®ä¸º QTableView çš„æ•°æ®æºï¼ŒQTableView éšåæ˜¾ç¤ºæ•°æ®ã€‚ 4. è‡ªå®šä¹‰åŠŸèƒ½ è‡ªå®šä¹‰å¤–è§‚ï¼šå¯ä»¥é€šè¿‡é‡å†™ QStyledItemDelegate æ¥è‡ªå®šä¹‰æ¯ä¸ªå•å…ƒæ ¼çš„å¤–è§‚å’Œç¼–è¾‘å™¨ã€‚ å•å…ƒæ ¼äº¤äº’ï¼šå¯ä»¥è®¾ç½® QTableView çš„é€‰æ‹©æ¨¡å¼ï¼ˆä¾‹å¦‚å•é€‰ã€å¤šé€‰ï¼‰ã€ç¼–è¾‘ç­–ç•¥ï¼ˆä¾‹å¦‚åŒå‡»ç¼–è¾‘ï¼‰ç­‰ã€‚ ä¸æ•°æ®åº“ç»“åˆï¼šä½¿ç”¨ QSqlTableModel ç­‰æ¨¡å‹ï¼Œå¯ä»¥ç›´æ¥å°†æ•°æ®åº“è¡¨ä¸ QTableView ç»‘å®šï¼Œå®ç°æ•°æ®åº“æ•°æ®çš„å±•ç¤ºä¸æ“ä½œã€‚ 5. ä¸ QTableWidget çš„åŒºåˆ« **QTableView**ï¼šåŸºäºæ¨¡å‹-è§†å›¾æ¶æ„ï¼Œæ›´åŠ çµæ´»ï¼Œé€‚åˆå¤„ç†åŠ¨æ€æˆ–å¤æ‚çš„æ•°æ®æºã€‚æ•°æ®é€»è¾‘å®Œå…¨äº¤ç»™æ¨¡å‹æ¥å¤„ç†ã€‚ **QTableWidget**ï¼šæ˜¯ä¸€ç§ç®€å•çš„è¡¨æ ¼éƒ¨ä»¶ï¼Œç›´æ¥åœ¨å†…éƒ¨ç®¡ç†æ•°æ®ï¼Œé€‚ç”¨äºè¾ƒå°ä¸”ä¸å¤æ‚çš„æ•°æ®é›†ã€‚ æ¨¡å‹-è§†å›¾-ä»£ç†ï¼ˆModel-View-Delegateï¼‰æ˜¯ Qt ä¸­çš„ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œç”¨äºå¤„ç†ç”¨æˆ·ç•Œé¢ä¸æ•°æ®çš„åˆ†ç¦»ï¼Œç‰¹åˆ«é€‚åˆå±•ç¤ºå¤æ‚çš„ã€åŠ¨æ€çš„æ•°æ®ã€‚å®ƒä¸»è¦åŒ…æ‹¬ä¸‰ä¸ªéƒ¨åˆ†ï¼šæ¨¡å‹ï¼ˆModelï¼‰ã€è§†å›¾ï¼ˆViewï¼‰å’Œä»£ç†ï¼ˆDelegateï¼‰ã€‚è¿™ç§æ¨¡å¼åœ¨ QTableViewã€QListViewã€QTreeView ç­‰éƒ¨ä»¶ä¸­å¾—åˆ°äº†å¹¿æ³›åº”ç”¨ã€‚ æ¨¡å‹-è§†å›¾-ä»£ç†æ˜¯ä»€ä¹ˆ1. æ¨¡å‹-è§†å›¾-ä»£ç†çš„æ¦‚å¿µæ¨¡å‹ (Model)æ¨¡å‹è´Ÿè´£ç®¡ç†å’Œæä¾›æ•°æ®ã€‚å®ƒç‹¬ç«‹äºè§†å›¾ï¼Œå­˜å‚¨æ•°æ®å¹¶é€šè¿‡æä¾›æ¥å£å…è®¸è§†å›¾è®¿é—®è¿™äº›æ•°æ®ã€‚æ¨¡å‹ä¸ä»…è´Ÿè´£æä¾›æ•°æ®ï¼Œè¿˜è´Ÿè´£ç®¡ç†æ•°æ®çš„çŠ¶æ€ï¼Œä¾‹å¦‚æ·»åŠ ã€åˆ é™¤æˆ–ä¿®æ”¹æ•°æ®ã€‚ åœ¨ Qt ä¸­ï¼Œæ¨¡å‹ä¸€èˆ¬ä» QAbstractItemModel ç±»æ´¾ç”Ÿï¼Œå¸¸è§çš„æ¨¡å‹ç±»æœ‰ï¼š QStandardItemModelï¼šä¸€ä¸ªç®€å•çš„ã€é€šç”¨çš„æ•°æ®æ¨¡å‹ï¼Œé€‚åˆäºŒç»´æ•°æ®ã€‚ QSqlTableModelï¼šç”¨äºæ“ä½œ SQL æ•°æ®åº“è¡¨çš„æ•°æ®æ¨¡å‹ã€‚ QAbstractListModelã€QAbstractTableModelï¼šè¿™äº›æ˜¯è‡ªå®šä¹‰æ¨¡å‹çš„åŸºç±»ï¼Œå…è®¸å¼€å‘è€…æ ¹æ®éœ€æ±‚å®šåˆ¶æ¨¡å‹ã€‚ è§†å›¾ (View)è§†å›¾è´Ÿè´£æ˜¾ç¤ºæ¨¡å‹ä¸­çš„æ•°æ®ã€‚å®ƒä¸ç›´æ¥æ“ä½œæ•°æ®ï¼Œè€Œæ˜¯é€šè¿‡è°ƒç”¨æ¨¡å‹æä¾›çš„æ¥å£æ¥æ˜¾ç¤ºæ•°æ®ã€‚è§†å›¾çš„ä»»åŠ¡æ˜¯å°†æ¨¡å‹ä¸­çš„æ•°æ®å¯è§†åŒ–ï¼Œå…è®¸ç”¨æˆ·ä¸æ•°æ®è¿›è¡Œäº¤äº’ï¼ˆå¦‚é€‰æ‹©ã€æ’åºã€ç¼–è¾‘ç­‰ï¼‰ã€‚ å¸¸è§çš„è§†å›¾ç±»åŒ…æ‹¬ï¼š QTableViewï¼šç”¨äºæ˜¾ç¤ºè¡¨æ ¼å½¢å¼çš„æ•°æ®ã€‚ QListViewï¼šç”¨äºæ˜¾ç¤ºåˆ—è¡¨å½¢å¼çš„æ•°æ®ã€‚ QTreeViewï¼šç”¨äºæ˜¾ç¤ºæ ‘å½¢ç»“æ„çš„æ•°æ®ã€‚ ä»£ç† (Delegate)ä»£ç†è´Ÿè´£å¤„ç†æ•°æ®çš„å±•ç¤ºå’Œç¼–è¾‘ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè§†å›¾ä¼šä½¿ç”¨æ ‡å‡†çš„æ˜¾ç¤ºå’Œç¼–è¾‘æ–¹æ³•ï¼ˆä¾‹å¦‚æ–‡æœ¬æ˜¾ç¤ºã€æ–‡æœ¬ç¼–è¾‘ï¼‰ï¼Œä½†é€šè¿‡ä»£ç†ï¼Œå¼€å‘è€…å¯ä»¥è‡ªå®šä¹‰æ•°æ®çš„å‘ˆç°æ–¹å¼ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨ä»£ç†è‡ªå®šä¹‰å•å…ƒæ ¼çš„ç»˜åˆ¶æ–¹å¼ï¼Œæˆ–è€…ä¸ºå•å…ƒæ ¼æä¾›è‡ªå®šä¹‰çš„ç¼–è¾‘æ§ä»¶ï¼ˆå¦‚ä¸‹æ‹‰èœå•ã€å¤é€‰æ¡†ç­‰ï¼‰ã€‚ QStyledItemDelegate æ˜¯ Qt ä¸­çš„é»˜è®¤ä»£ç†ç±»ï¼Œå¯ä»¥é€šè¿‡ç»§æ‰¿å’Œé‡å†™å®ƒæ¥è‡ªå®šä¹‰å¤–è§‚å’Œç¼–è¾‘è¡Œä¸ºã€‚ 2. æ¨¡å‹-è§†å›¾-ä»£ç†çš„å·¥ä½œåŸç†åœ¨è¿™ä¸ªæ¶æ„ä¸­ï¼Œè§†å›¾å’Œæ¨¡å‹æ˜¯å®Œå…¨åˆ†ç¦»çš„ã€‚è§†å›¾é€šè¿‡æ¨¡å‹çš„æ¥å£æ¥è®¿é—®æ•°æ®ï¼Œå¹¶ä½¿ç”¨ä»£ç†æ¥å†³å®šå¦‚ä½•æ˜¾ç¤ºå’Œç¼–è¾‘è¿™äº›æ•°æ®ã€‚è§†å›¾ä¸éœ€è¦çŸ¥é“æ•°æ®çš„å…·ä½“ç»†èŠ‚ï¼Œæ‰€æœ‰çš„æ•°æ®æ“ä½œéƒ½ç”±æ¨¡å‹è´Ÿè´£ã€‚ä»£ç†åˆ™ä½œä¸ºè§†å›¾å’Œæ•°æ®ä¹‹é—´çš„ä¸€ä¸ªä¸­é—´å±‚ï¼Œæä¾›äº†çµæ´»çš„è‡ªå®šä¹‰èƒ½åŠ›ã€‚ ç®€è¦æµç¨‹å¦‚ä¸‹ï¼š è§†å›¾è¯·æ±‚æ•°æ®ï¼šå½“è§†å›¾éœ€è¦æ˜¾ç¤ºæŸä¸ªå•å…ƒæ ¼æ—¶ï¼Œå®ƒä¼šå‘æ¨¡å‹è¯·æ±‚æ•°æ®ã€‚æ¨¡å‹é€šè¿‡ data() å‡½æ•°è¿”å›è¯¥å•å…ƒæ ¼çš„æ•°æ®ã€‚ è§†å›¾æ˜¾ç¤ºæ•°æ®ï¼šè§†å›¾å°†æ•°æ®ä¼ é€’ç»™ä»£ç†ï¼Œä»£ç†å†³å®šå¦‚ä½•ç»˜åˆ¶å’Œæ˜¾ç¤ºè¯¥æ•°æ®ï¼ˆä¾‹å¦‚ï¼Œæ–‡æœ¬ã€é¢œè‰²ã€æ ¼å¼ç­‰ï¼‰ã€‚ ç”¨æˆ·äº¤äº’ï¼šç”¨æˆ·åœ¨è§†å›¾ä¸­ä¸æ•°æ®äº¤äº’ï¼ˆå¦‚ç‚¹å‡»ã€ç¼–è¾‘ï¼‰ï¼Œè§†å›¾å°†è¿™äº›æ“ä½œåé¦ˆç»™ä»£ç†ï¼Œä»£ç†è´Ÿè´£å¤„ç†å¦‚ä½•å±•ç¤ºç¼–è¾‘å™¨æˆ–å¦‚ä½•ä¿å­˜ç¼–è¾‘ç»“æœåˆ°æ¨¡å‹ä¸­ã€‚ æ¨¡å‹æ›´æ–°æ•°æ®ï¼šå½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ¨¡å‹é€šè¿‡ä¿¡å·ï¼ˆå¦‚ dataChanged()ï¼‰é€šçŸ¥è§†å›¾æ›´æ–°æ˜¾ç¤ºã€‚ 3. æ¨¡å‹-è§†å›¾-ä»£ç†æ¨¡å¼çš„ä¼˜åŠ¿ åˆ†ç¦»å…³æ³¨ç‚¹ï¼šè§†å›¾å’Œæ¨¡å‹åˆ†ç¦»ä½¿å¾—æ•°æ®å’Œç”¨æˆ·ç•Œé¢çš„é€»è¾‘åˆ†å¼€ï¼Œæ¨¡å‹ä¸“æ³¨äºæ•°æ®çš„ç®¡ç†ï¼Œè€Œè§†å›¾ä¸“æ³¨äºæ•°æ®çš„æ˜¾ç¤ºã€‚è¿™æ ·ä»£ç æ›´å®¹æ˜“ç»´æŠ¤å’Œæ‰©å±•ã€‚ çµæ´»æ€§ï¼šé€šè¿‡ä»£ç†å¯ä»¥çµæ´»è‡ªå®šä¹‰æ•°æ®çš„å‘ˆç°å’Œç¼–è¾‘æ–¹å¼ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹è§†å›¾æˆ–æ¨¡å‹ã€‚ æ•°æ®å…±äº«ï¼šå¤šä¸ªè§†å›¾å¯ä»¥å…±äº«åŒä¸€ä¸ªæ¨¡å‹ï¼Œè¿™æ„å‘³ç€ä¸åŒçš„è§†å›¾å¯ä»¥æ˜¾ç¤ºç›¸åŒçš„æ•°æ®ï¼Œä¸éœ€è¦ä¸ºæ¯ä¸ªè§†å›¾å¤åˆ¶æ•°æ®ã€‚ æ”¯æŒå¤§æ•°æ®é‡å¤„ç†ï¼šå› ä¸ºæ¨¡å‹å’Œè§†å›¾åˆ†ç¦»ï¼Œè§†å›¾åªåœ¨éœ€è¦æ—¶è®¿é—®æ¨¡å‹ä¸­çš„æ•°æ®ï¼Œæ‰€ä»¥åœ¨å¤„ç†å¤§é‡æ•°æ®æ—¶æ€§èƒ½æ›´å¥½ã€‚ 4. æ¨¡å‹-è§†å›¾-ä»£ç†çš„ç¤ºä¾‹ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•ä½¿ç”¨æ¨¡å‹ã€è§†å›¾å’Œä»£ç†æ¥æ„å»ºä¸€ä¸ªç®€å•çš„è¡¨æ ¼ç•Œé¢ï¼Œå¹¶ä½¿ç”¨ä»£ç†æ¥è‡ªå®šä¹‰å•å…ƒæ ¼çš„ç¼–è¾‘è¡Œä¸ºã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859#include &lt;QApplication&gt;#include &lt;QTableView&gt;#include &lt;QStandardItemModel&gt;#include &lt;QStyledItemDelegate&gt;#include &lt;QSpinBox&gt;// è‡ªå®šä¹‰ä»£ç†ï¼šç”¨äºåœ¨å•å…ƒæ ¼ä¸­æ˜¾ç¤º QSpinBox ç¼–è¾‘å™¨class SpinBoxDelegate : public QStyledItemDelegate &#123; Q_OBJECTpublic: SpinBoxDelegate(QObject *parent = nullptr) : QStyledItemDelegate(parent) &#123;&#125; // åˆ›å»ºè‡ªå®šä¹‰ç¼–è¾‘å™¨ QWidget *createEditor(QWidget *parent, const QStyleOptionViewItem &amp;option, const QModelIndex &amp;index) const override &#123; QSpinBox *editor = new QSpinBox(parent); editor-&gt;setMinimum(0); editor-&gt;setMaximum(100); return editor; &#125; // è®¾ç½®ç¼–è¾‘å™¨çš„åˆå§‹å€¼ void setEditorData(QWidget *editor, const QModelIndex &amp;index) const override &#123; int value = index.model()-&gt;data(index, Qt::EditRole).toInt(); QSpinBox *spinBox = static_cast&lt;QSpinBox*&gt;(editor); spinBox-&gt;setValue(value); &#125; // å°†ç¼–è¾‘å™¨ä¸­çš„æ•°æ®ä¿å­˜åˆ°æ¨¡å‹ä¸­ void setModelData(QWidget *editor, QAbstractItemModel *model, const QModelIndex &amp;index) const override &#123; QSpinBox *spinBox = static_cast&lt;QSpinBox*&gt;(editor); model-&gt;setData(index, spinBox-&gt;value(), Qt::EditRole); &#125;&#125;;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºæ¨¡å‹ QStandardItemModel model(4, 2); // 4è¡Œ2åˆ— model.setHorizontalHeaderLabels(&#123;&quot;Name&quot;, &quot;Age&quot;&#125;); // æ’å…¥æ•°æ® model.setItem(0, 0, new QStandardItem(&quot;Alice&quot;)); model.setItem(0, 1, new QStandardItem(&quot;30&quot;)); model.setItem(1, 0, new QStandardItem(&quot;Bob&quot;)); model.setItem(1, 1, new QStandardItem(&quot;25&quot;)); // åˆ›å»ºè¡¨æ ¼è§†å›¾ QTableView tableView; tableView.setModel(&amp;model); // ä½¿ç”¨è‡ªå®šä¹‰ä»£ç† SpinBoxDelegate delegate; tableView.setItemDelegateForColumn(1, &amp;delegate); // åªåœ¨ç¬¬äºŒåˆ—ä½¿ç”¨è‡ªå®šä¹‰ä»£ç† tableView.show(); return app.exec();&#125; 5. æ€»ç»“æ¨¡å‹-è§†å›¾-ä»£ç†æ¶æ„çš„ä¸»è¦ç‰¹ç‚¹æ˜¯åˆ†ç¦»æ•°æ®å’Œå±•ç¤ºé€»è¾‘ï¼Œä½¿å¾—å¼€å‘æ›´åŠ æ¨¡å—åŒ–ã€çµæ´»ä¸”æ˜“äºç»´æŠ¤ã€‚é€šè¿‡æ¨¡å‹ç®¡ç†æ•°æ®ï¼Œé€šè¿‡è§†å›¾å±•ç¤ºæ•°æ®ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ä»£ç†æ¥è‡ªå®šä¹‰æ•°æ®çš„å‘ˆç°å’Œäº¤äº’æ–¹å¼ã€‚è¿™ç§è®¾è®¡æ¨¡å¼åœ¨å¤„ç†å¤æ‚çš„æ•°æ®å±•ç¤ºã€ç¼–è¾‘éœ€æ±‚æ—¶éå¸¸å¼ºå¤§ï¼Œå°¤å…¶é€‚ç”¨äºéœ€è¦å¤„ç†å¤§è§„æ¨¡æˆ–åŠ¨æ€å˜åŒ–çš„æ•°æ®é›†çš„åœºæ™¯ã€‚","categories":[],"tags":[]},{"title":"è¯¦è§£Qtä¸­çš„å§”æ‰˜","slug":"è¯¦è§£Qtä¸­çš„å§”æ‰˜","date":"2024-12-26T13:24:18.000Z","updated":"2024-12-26T13:28:55.355Z","comments":true,"path":"2024/12/26/è¯¦è§£Qtä¸­çš„å§”æ‰˜/","link":"","permalink":"http://ycx81.github.io/2024/12/26/%E8%AF%A6%E8%A7%A3Qt%E4%B8%AD%E7%9A%84%E5%A7%94%E6%89%98/","excerpt":"å‰è¨€åœ¨ Qt æ¡†æ¶ä¸­ï¼Œå§”æ‰˜ï¼ˆDelegateï¼‰ æ˜¯æ¨¡å‹-è§†å›¾ï¼ˆModel-Viewï¼‰æ¶æ„ä¸­çš„æ ¸å¿ƒç»„ä»¶ï¼Œè´Ÿè´£ç®¡ç†å’Œæ§åˆ¶æ•°æ®åœ¨è§†å›¾ä¸­çš„æ˜¾ç¤ºå’Œç¼–è¾‘æ–¹å¼ã€‚å§”æ‰˜å…è®¸å¼€å‘è€…è‡ªå®šä¹‰æ•°æ®çš„å‘ˆç°å’Œç¼–è¾‘æ§ä»¶ï¼Œä»è€Œå®ç°çµæ´»ä¸”ä¸°å¯Œçš„ç”¨æˆ·ç•Œé¢ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ Qt ä¸­çš„å§”æ‰˜ï¼Œç»“åˆå…·ä½“çš„ä»£ç ç¤ºä¾‹ï¼Œè¯¦ç»†è¯´æ˜å…¶å·¥ä½œåŸç†ã€ä½¿ç”¨æ–¹æ³•ä»¥åŠå¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰å§”æ‰˜ã€‚","text":"å‰è¨€åœ¨ Qt æ¡†æ¶ä¸­ï¼Œå§”æ‰˜ï¼ˆDelegateï¼‰ æ˜¯æ¨¡å‹-è§†å›¾ï¼ˆModel-Viewï¼‰æ¶æ„ä¸­çš„æ ¸å¿ƒç»„ä»¶ï¼Œè´Ÿè´£ç®¡ç†å’Œæ§åˆ¶æ•°æ®åœ¨è§†å›¾ä¸­çš„æ˜¾ç¤ºå’Œç¼–è¾‘æ–¹å¼ã€‚å§”æ‰˜å…è®¸å¼€å‘è€…è‡ªå®šä¹‰æ•°æ®çš„å‘ˆç°å’Œç¼–è¾‘æ§ä»¶ï¼Œä»è€Œå®ç°çµæ´»ä¸”ä¸°å¯Œçš„ç”¨æˆ·ç•Œé¢ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ Qt ä¸­çš„å§”æ‰˜ï¼Œç»“åˆå…·ä½“çš„ä»£ç ç¤ºä¾‹ï¼Œè¯¦ç»†è¯´æ˜å…¶å·¥ä½œåŸç†ã€ä½¿ç”¨æ–¹æ³•ä»¥åŠå¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰å§”æ‰˜ã€‚ Qt çš„æ¨¡å‹-è§†å›¾æ¶æ„ç®€ä»‹Qt çš„æ¨¡å‹-è§†å›¾æ¶æ„å°†æ•°æ®ï¼ˆæ¨¡å‹ï¼‰ä¸ç”¨æˆ·ç•Œé¢ï¼ˆè§†å›¾ï¼‰åˆ†ç¦»ï¼Œå…è®¸å¼€å‘è€…ä»¥æ›´æ¨¡å—åŒ–å’Œå¯ç»´æŠ¤çš„æ–¹å¼æ„å»ºåº”ç”¨ç¨‹åºã€‚æ¶æ„ä¸­çš„ä¸»è¦ç»„ä»¶åŒ…æ‹¬ï¼š æ¨¡å‹ï¼ˆModelï¼‰ï¼šè´Ÿè´£ç®¡ç†å’Œå­˜å‚¨æ•°æ®ï¼Œå¦‚ QStandardItemModelã€QAbstractTableModel ç­‰ã€‚ è§†å›¾ï¼ˆViewï¼‰ï¼šè´Ÿè´£å‘ˆç°æ•°æ®ï¼Œå¦‚ QListViewã€QTableViewã€QTreeView ç­‰ã€‚ å§”æ‰˜ï¼ˆDelegateï¼‰ï¼šè´Ÿè´£ç®¡ç†æ•°æ®åœ¨è§†å›¾ä¸­çš„æ˜¾ç¤ºå’Œç¼–è¾‘æ–¹å¼ã€‚ ![img](..&#x2F;..&#x2F;..&#x2F;Downloads&#x2F;æŠ€æœ¯åšå®¢ 2&#x2F;assets&#x2F;modelview-overview.png) å§”æ‰˜çš„åŸºæœ¬æ¦‚å¿µä¸èŒè´£å§”æ‰˜ä¸»è¦æœ‰ä¸¤ä¸ªæ ¸å¿ƒèŒè´£ï¼š ç»˜åˆ¶ï¼ˆRenderingï¼‰ï¼šå†³å®šå¦‚ä½•åœ¨è§†å›¾ä¸­ç»˜åˆ¶æ¯ä¸€ä¸ªæ•°æ®é¡¹ï¼ŒåŒ…æ‹¬æ–‡æœ¬ã€å›¾æ ‡ã€èƒŒæ™¯ç­‰ã€‚ ç¼–è¾‘ï¼ˆEditingï¼‰ï¼šæä¾›åˆé€‚çš„ç¼–è¾‘æ§ä»¶ï¼Œå…è®¸ç”¨æˆ·ä¿®æ”¹æ•°æ®ï¼Œå¹¶å°†ä¿®æ”¹åçš„æ•°æ®ä¿å­˜å›æ¨¡å‹ã€‚ é€šè¿‡å§”æ‰˜ï¼Œå¼€å‘è€…å¯ä»¥è‡ªå®šä¹‰æ•°æ®çš„å±•ç¤ºå½¢å¼å’Œç¼–è¾‘æ–¹å¼ï¼Œå®ç°å¤æ‚çš„ç”¨æˆ·ç•Œé¢éœ€æ±‚ã€‚ å§”æ‰˜çš„ä¸»è¦æ–¹æ³• paint(QPainter *painter, const QStyleOptionViewItem &amp;option, const QModelIndex &amp;index) constï¼šè´Ÿè´£ç»˜åˆ¶æ•°æ®é¡¹ã€‚ createEditor(QWidget *parent, const QStyleOptionViewItem &amp;option, const QModelIndex &amp;index) constï¼šåˆ›å»ºç”¨äºç¼–è¾‘çš„æ§ä»¶ã€‚ setEditorData(QWidget *editor, const QModelIndex &amp;index) constï¼šå°†æ¨¡å‹æ•°æ®è®¾ç½®åˆ°ç¼–è¾‘æ§ä»¶ä¸­ã€‚ setModelData(QWidget *editor, QAbstractItemModel *model, const QModelIndex &amp;index) constï¼šå°†ç¼–è¾‘æ§ä»¶ä¸­çš„æ•°æ®ä¿å­˜å›æ¨¡å‹ã€‚ updateEditorGeometry(QWidget *editor, const QStyleOptionViewItem &amp;option, const QModelIndex &amp;index) constï¼šæ›´æ–°ç¼–è¾‘æ§ä»¶çš„å‡ ä½•ä½ç½®ã€‚ Qt æä¾›çš„é»˜è®¤å§”æ‰˜Qt æä¾›äº†å‡ ä¸ªé»˜è®¤çš„å§”æ‰˜ç±»ï¼Œæ»¡è¶³å¤§å¤šæ•°å¸¸è§çš„éœ€æ±‚ï¼š QStyledItemDelegateQStyledItemDelegate æ˜¯ Qt æä¾›çš„é»˜è®¤å§”æ‰˜ç±»ï¼Œæ”¯æŒç°ä»£æ ·å¼å’Œæ ·å¼è¡¨ã€‚å®ƒåŸºäº QItemDelegateï¼Œå¹¶å¢åŠ äº†å¯¹æ ·å¼çš„æ›´å¥½æ”¯æŒã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½¿ç”¨ QStyledItemDelegate å·²ç»è¶³å¤Ÿã€‚ QItemDelegateQItemDelegate æ˜¯è¾ƒæ—©çš„å§”æ‰˜ç±»ï¼ŒåŠŸèƒ½ç±»ä¼¼äº QStyledItemDelegateï¼Œä½†ä¸æ”¯æŒæŸäº›ç°ä»£æ ·å¼å’Œç‰¹æ€§ã€‚ä¸€èˆ¬æ¨èä½¿ç”¨ QStyledItemDelegateï¼Œé™¤éæœ‰ç‰¹å®šéœ€æ±‚ã€‚ è‡ªå®šä¹‰å§”æ‰˜çš„åˆ›å»ºä¸ä½¿ç”¨åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œé»˜è®¤çš„å§”æ‰˜æ— æ³•æ»¡è¶³ç‰¹å®šçš„éœ€æ±‚ï¼Œä¾‹å¦‚éœ€è¦åœ¨è§†å›¾ä¸­æ˜¾ç¤ºè‡ªå®šä¹‰æ§ä»¶æˆ–ç‰¹å®šçš„ç»˜åˆ¶æ•ˆæœã€‚è¿™æ—¶ï¼Œå¯ä»¥é€šè¿‡ç»§æ‰¿ QStyledItemDelegate æˆ– QItemDelegate æ¥åˆ›å»ºè‡ªå®šä¹‰å§”æ‰˜ã€‚ ç¤ºä¾‹ä¸€ï¼šè‡ªå®šä¹‰è¿›åº¦æ¡å§”æ‰˜å‡è®¾æˆ‘ä»¬éœ€è¦åœ¨ QTableView çš„æŸä¸€åˆ—ä¸­æ˜¾ç¤ºä¸€ä¸ªè¿›åº¦æ¡ï¼Œè¡¨ç¤ºæŸä¸ªä»»åŠ¡çš„å®Œæˆåº¦ã€‚ä»¥ä¸‹æ˜¯åˆ›å»ºå’Œä½¿ç”¨è‡ªå®šä¹‰è¿›åº¦æ¡å§”æ‰˜çš„æ­¥éª¤ï¼š 1. åˆ›å»ºè‡ªå®šä¹‰å§”æ‰˜ç±»12345678910111213141516171819202122232425262728// ProgressBarDelegate.h#ifndef PROGRESSBARDELEGATE_H#define PROGRESSBARDELEGATE_H#include &lt;QStyledItemDelegate&gt;class ProgressBarDelegate : public QStyledItemDelegate &#123; Q_OBJECTpublic: explicit ProgressBarDelegate(QObject *parent = nullptr); // é‡å†™ç»˜åˆ¶æ–¹æ³• void paint(QPainter *painter, const QStyleOptionViewItem &amp;option, const QModelIndex &amp;index) const override; // é‡å†™ç¼–è¾‘æ§ä»¶åˆ›å»ºæ–¹æ³•ï¼ˆå¦‚æœéœ€è¦ç¼–è¾‘ï¼‰ QWidget *createEditor(QWidget *parent, const QStyleOptionViewItem &amp;option, const QModelIndex &amp;index) const override; // é‡å†™è®¾ç½®ç¼–è¾‘æ§ä»¶æ•°æ®æ–¹æ³• void setEditorData(QWidget *editor, const QModelIndex &amp;index) const override; // é‡å†™ä¿å­˜ç¼–è¾‘æ§ä»¶æ•°æ®æ–¹æ³• void setModelData(QWidget *editor, QAbstractItemModel *model, const QModelIndex &amp;index) const override;&#125;;#endif // PROGRESSBARDELEGATE_H 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354// ProgressBarDelegate.cpp#include &quot;ProgressBarDelegate.h&quot;#include &lt;QPainter&gt;#include &lt;QProgressBar&gt;#include &lt;QApplication&gt;#include &lt;QStyleOptionProgressBar&gt;ProgressBarDelegate::ProgressBarDelegate(QObject *parent) : QStyledItemDelegate(parent) &#123;&#125;void ProgressBarDelegate::paint(QPainter *painter, const QStyleOptionViewItem &amp;option, const QModelIndex &amp;index) const &#123; // è·å–è¿›åº¦å€¼ int progress = index.data(Qt::DisplayRole).toInt(); // è®¾ç½®è¿›åº¦æ¡é€‰é¡¹ QStyleOptionProgressBar progressBarOption; progressBarOption.rect = option.rect; progressBarOption.minimum = 0; progressBarOption.maximum = 100; progressBarOption.progress = progress; progressBarOption.text = QString::number(progress) + &quot;%&quot;; progressBarOption.textVisible = true; // ä½¿ç”¨åº”ç”¨ç¨‹åºçš„æ ·å¼ç»˜åˆ¶è¿›åº¦æ¡ QApplication::style()-&gt;drawControl(QStyle::CE_ProgressBar, &amp;progressBarOption, painter);&#125;QWidget *ProgressBarDelegate::createEditor(QWidget *parent, const QStyleOptionViewItem &amp;option, const QModelIndex &amp;index) const &#123; // ä½¿ç”¨ QSlider ä½œä¸ºç¼–è¾‘æ§ä»¶ QSlider *editor = new QSlider(parent); editor-&gt;setOrientation(Qt::Horizontal); editor-&gt;setMinimum(0); editor-&gt;setMaximum(100); return editor;&#125;void ProgressBarDelegate::setEditorData(QWidget *editor, const QModelIndex &amp;index) const &#123; int value = index.data(Qt::DisplayRole).toInt(); QSlider *slider = qobject_cast&lt;QSlider*&gt;(editor); if (slider) &#123; slider-&gt;setValue(value); &#125;&#125;void ProgressBarDelegate::setModelData(QWidget *editor, QAbstractItemModel *model, const QModelIndex &amp;index) const &#123; QSlider *slider = qobject_cast&lt;QSlider*&gt;(editor); if (slider) &#123; int value = slider-&gt;value(); model-&gt;setData(index, value, Qt::EditRole); &#125;&#125; 2. åœ¨è§†å›¾ä¸­åº”ç”¨è‡ªå®šä¹‰å§”æ‰˜123456789101112131415161718192021222324252627282930313233// main.cpp#include &lt;QApplication&gt;#include &lt;QTableView&gt;#include &lt;QStandardItemModel&gt;#include &quot;ProgressBarDelegate.h&quot;int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºæ¨¡å‹ QStandardItemModel model(5, 2); // 5 è¡Œ 2 åˆ— model.setHorizontalHeaderLabels(QStringList() &lt;&lt; &quot;ä»»åŠ¡&quot; &lt;&lt; &quot;è¿›åº¦&quot;); // å¡«å……æ¨¡å‹æ•°æ® for (int row = 0; row &lt; 5; ++row) &#123; QStandardItem *taskItem = new QStandardItem(QString(&quot;ä»»åŠ¡ %1&quot;).arg(row + 1)); QStandardItem *progressItem = new QStandardItem(QString::number((row + 1) * 20)); progressItem-&gt;setData((row + 1) * 20, Qt::DisplayRole); model.setItem(row, 0, taskItem); model.setItem(row, 1, progressItem); &#125; // åˆ›å»ºè§†å›¾ QTableView tableView; tableView.setModel(&amp;model); // åº”ç”¨è‡ªå®šä¹‰å§”æ‰˜åˆ°ç¬¬äºŒåˆ—ï¼ˆè¿›åº¦åˆ—ï¼‰ ProgressBarDelegate *delegate = new ProgressBarDelegate(&amp;tableView); tableView.setItemDelegateForColumn(1, delegate); tableView.show(); return app.exec();&#125; 3. è¿è¡Œæ•ˆæœè¿è¡Œä¸Šè¿°ä»£ç åï¼ŒQTableView çš„ç¬¬äºŒåˆ—å°†æ˜¾ç¤ºè¿›åº¦æ¡ï¼Œè¡¨ç¤ºæ¯ä¸ªä»»åŠ¡çš„å®Œæˆåº¦ã€‚ç”¨æˆ·å¯ä»¥ç‚¹å‡»è¿›åº¦æ¡åŒºåŸŸè¿›è¡Œç¼–è¾‘ï¼Œä½¿ç”¨æ»‘å— (QSlider) æ¥è°ƒæ•´è¿›åº¦å€¼ã€‚ ç¤ºä¾‹äºŒï¼šå¸¦æœ‰ä¸‹æ‹‰èœå•çš„å§”æ‰˜å‡è®¾æˆ‘ä»¬éœ€è¦åœ¨è§†å›¾ä¸­ä¸ºæŸä¸€åˆ—æä¾›ä¸€ä¸ªä¸‹æ‹‰èœå•ï¼Œå…è®¸ç”¨æˆ·ä»é¢„å®šä¹‰çš„é€‰é¡¹ä¸­é€‰æ‹©ä¸€ä¸ªå€¼ã€‚ 1. åˆ›å»ºè‡ªå®šä¹‰å§”æ‰˜ç±»123456789101112131415161718192021222324252627// ComboBoxDelegate.h#ifndef COMBOBOXDELEGATE_H#define COMBOBOXDELEGATE_H#include &lt;QStyledItemDelegate&gt;class ComboBoxDelegate : public QStyledItemDelegate &#123; Q_OBJECTpublic: explicit ComboBoxDelegate(const QStringList &amp;items, QObject *parent = nullptr); // é‡å†™ç¼–è¾‘æ§ä»¶åˆ›å»ºæ–¹æ³• QWidget *createEditor(QWidget *parent, const QStyleOptionViewItem &amp;option, const QModelIndex &amp;index) const override; // é‡å†™è®¾ç½®ç¼–è¾‘æ§ä»¶æ•°æ®æ–¹æ³• void setEditorData(QWidget *editor, const QModelIndex &amp;index) const override; // é‡å†™ä¿å­˜ç¼–è¾‘æ§ä»¶æ•°æ®æ–¹æ³• void setModelData(QWidget *editor, QAbstractItemModel *model, const QModelIndex &amp;index) const override;private: QStringList m_items;&#125;;#endif // COMBOBOXDELEGATE_H 1234567891011121314151617181920212223242526272829303132// ComboBoxDelegate.cpp#include &quot;ComboBoxDelegate.h&quot;#include &lt;QComboBox&gt;ComboBoxDelegate::ComboBoxDelegate(const QStringList &amp;items, QObject *parent) : QStyledItemDelegate(parent), m_items(items) &#123;&#125;QWidget *ComboBoxDelegate::createEditor(QWidget *parent, const QStyleOptionViewItem &amp;option, const QModelIndex &amp;index) const &#123; QComboBox *comboBox = new QComboBox(parent); comboBox-&gt;addItems(m_items); return comboBox;&#125;void ComboBoxDelegate::setEditorData(QWidget *editor, const QModelIndex &amp;index) const &#123; QString currentText = index.data(Qt::DisplayRole).toString(); QComboBox *comboBox = qobject_cast&lt;QComboBox*&gt;(editor); if (comboBox) &#123; int idx = comboBox-&gt;findText(currentText); if (idx &gt;= 0) comboBox-&gt;setCurrentIndex(idx); &#125;&#125;void ComboBoxDelegate::setModelData(QWidget *editor, QAbstractItemModel *model, const QModelIndex &amp;index) const &#123; QComboBox *comboBox = qobject_cast&lt;QComboBox*&gt;(editor); if (comboBox) &#123; QString selected = comboBox-&gt;currentText(); model-&gt;setData(index, selected, Qt::EditRole); &#125;&#125; 2. åœ¨è§†å›¾ä¸­åº”ç”¨è‡ªå®šä¹‰å§”æ‰˜1234567891011121314151617181920212223242526272829303132// main.cpp (ç»­)#include &quot;ComboBoxDelegate.h&quot;// ... ä¹‹å‰çš„ä»£ç int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºæ¨¡å‹ QStandardItemModel model(5, 2); // 5 è¡Œ 2 åˆ— model.setHorizontalHeaderLabels(QStringList() &lt;&lt; &quot;ä»»åŠ¡&quot; &lt;&lt; &quot;çŠ¶æ€&quot;); // å¡«å……æ¨¡å‹æ•°æ® QStringList statuses = &#123;&quot;æœªå¼€å§‹&quot;, &quot;è¿›è¡Œä¸­&quot;, &quot;å·²å®Œæˆ&quot;&#125;; for (int row = 0; row &lt; 5; ++row) &#123; QStandardItem *taskItem = new QStandardItem(QString(&quot;ä»»åŠ¡ %1&quot;).arg(row + 1)); QStandardItem *statusItem = new QStandardItem(statuses.at(row % statuses.size())); model.setItem(row, 0, taskItem); model.setItem(row, 1, statusItem); &#125; // åˆ›å»ºè§†å›¾ QTableView tableView; tableView.setModel(&amp;model); // åº”ç”¨è‡ªå®šä¹‰å§”æ‰˜åˆ°ç¬¬äºŒåˆ—ï¼ˆçŠ¶æ€åˆ—ï¼‰ ComboBoxDelegate *comboDelegate = new ComboBoxDelegate(statuses, &amp;tableView); tableView.setItemDelegateForColumn(1, comboDelegate); tableView.show(); return app.exec();&#125; 3. è¿è¡Œæ•ˆæœè¿è¡Œä¸Šè¿°ä»£ç åï¼ŒQTableView çš„ç¬¬äºŒåˆ—å°†æ˜¾ç¤ºä»»åŠ¡çš„çŠ¶æ€ã€‚ç”¨æˆ·å¯ä»¥ç‚¹å‡»ä»»æ„å•å…ƒæ ¼ï¼Œå¼¹å‡ºä¸‹æ‹‰èœå•ï¼Œé€‰æ‹©â€œæœªå¼€å§‹â€ã€â€œè¿›è¡Œä¸­â€æˆ–â€œå·²å®Œæˆâ€æ¥ä¿®æ”¹ä»»åŠ¡çŠ¶æ€ã€‚ ç¤ºä¾‹ä¸‰ï¼šå¤é€‰æ¡†å§”æ‰˜æœ‰æ—¶éœ€è¦åœ¨è§†å›¾ä¸­æ˜¾ç¤ºå¤é€‰æ¡†ï¼Œå…è®¸ç”¨æˆ·é€‰æ‹©æˆ–å–æ¶ˆé€‰æ‹©æŸé¡¹ã€‚ 1. åˆ›å»ºè‡ªå®šä¹‰å§”æ‰˜ç±»1234567891011121314151617181920212223242526272829303132// CheckBoxDelegate.h#ifndef CHECKBOXDELEGATE_H#define CHECKBOXDELEGATE_H#include &lt;QStyledItemDelegate&gt;class CheckBoxDelegate : public QStyledItemDelegate &#123; Q_OBJECTpublic: explicit CheckBoxDelegate(QObject *parent = nullptr); // é‡å†™ç»˜åˆ¶æ–¹æ³• void paint(QPainter *painter, const QStyleOptionViewItem &amp;option, const QModelIndex &amp;index) const override; // é‡å†™ç¼–è¾‘æ§ä»¶åˆ›å»ºæ–¹æ³• QWidget *createEditor(QWidget *parent, const QStyleOptionViewItem &amp;option, const QModelIndex &amp;index) const override; // é‡å†™è®¾ç½®ç¼–è¾‘æ§ä»¶æ•°æ®æ–¹æ³• void setEditorData(QWidget *editor, const QModelIndex &amp;index) const override; // é‡å†™ä¿å­˜ç¼–è¾‘æ§ä»¶æ•°æ®æ–¹æ³• void setModelData(QWidget *editor, QAbstractItemModel *model, const QModelIndex &amp;index) const override; // é‡å†™æ›´æ–°ç¼–è¾‘æ§ä»¶å‡ ä½•ä½ç½®æ–¹æ³• void updateEditorGeometry(QWidget *editor, const QStyleOptionViewItem &amp;option, const QModelIndex &amp;index) const override;&#125;;#endif // CHECKBOXDELEGATE_H 123456789101112131415161718192021222324252627282930313233343536373839404142// CheckBoxDelegate.cpp#include &quot;CheckBoxDelegate.h&quot;#include &lt;QPainter&gt;#include &lt;QCheckBox&gt;CheckBoxDelegate::CheckBoxDelegate(QObject *parent) : QStyledItemDelegate(parent) &#123;&#125;void CheckBoxDelegate::paint(QPainter *painter, const QStyleOptionViewItem &amp;option, const QModelIndex &amp;index) const &#123; bool checked = index.data(Qt::CheckStateRole).toBool(); QStyleOptionButton checkboxOption; checkboxOption.state |= QStyle::State_Enabled; if (checked) checkboxOption.state |= QStyle::State_On; else checkboxOption.state |= QStyle::State_Off; checkboxOption.rect = option.rect.adjusted(4, 4, -4, -4); QApplication::style()-&gt;drawControl(QStyle::CE_CheckBox, &amp;checkboxOption, painter);&#125;QWidget *CheckBoxDelegate::createEditor(QWidget *parent, const QStyleOptionViewItem &amp;option, const QModelIndex &amp;index) const &#123; // ä¸éœ€è¦ç¼–è¾‘æ§ä»¶ï¼Œå› ä¸ºå¤é€‰æ¡†ç›´æ¥ç‚¹å‡»å³å¯ return nullptr;&#125;void CheckBoxDelegate::setEditorData(QWidget *editor, const QModelIndex &amp;index) const &#123; // æ— éœ€å®ç°&#125;void CheckBoxDelegate::setModelData(QWidget *editor, QAbstractItemModel *model, const QModelIndex &amp;index) const &#123; // æ— éœ€å®ç°&#125;void CheckBoxDelegate::updateEditorGeometry(QWidget *editor, const QStyleOptionViewItem &amp;option, const QModelIndex &amp;index) const &#123; // æ— éœ€å®ç°&#125; 2. åœ¨è§†å›¾ä¸­åº”ç”¨è‡ªå®šä¹‰å§”æ‰˜123456789101112131415161718192021222324252627282930313233// main.cpp (ç»­)#include &quot;CheckBoxDelegate.h&quot;// ... ä¹‹å‰çš„ä»£ç int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºæ¨¡å‹ QStandardItemModel model(5, 2); // 5 è¡Œ 2 åˆ— model.setHorizontalHeaderLabels(QStringList() &lt;&lt; &quot;ä»»åŠ¡&quot; &lt;&lt; &quot;å®Œæˆ&quot;); // å¡«å……æ¨¡å‹æ•°æ® for (int row = 0; row &lt; 5; ++row) &#123; QStandardItem *taskItem = new QStandardItem(QString(&quot;ä»»åŠ¡ %1&quot;).arg(row + 1)); QStandardItem *doneItem = new QStandardItem(); doneItem-&gt;setCheckable(true); doneItem-&gt;setCheckState((row % 2 == 0) ? Qt::Checked : Qt::Unchecked); model.setItem(row, 0, taskItem); model.setItem(row, 1, doneItem); &#125; // åˆ›å»ºè§†å›¾ QTableView tableView; tableView.setModel(&amp;model); // åº”ç”¨è‡ªå®šä¹‰å¤é€‰æ¡†å§”æ‰˜åˆ°ç¬¬äºŒåˆ—ï¼ˆå®Œæˆåˆ—ï¼‰ CheckBoxDelegate *checkBoxDelegate = new CheckBoxDelegate(&amp;tableView); tableView.setItemDelegateForColumn(1, checkBoxDelegate); tableView.show(); return app.exec();&#125; 3. è¿è¡Œæ•ˆæœè¿è¡Œä¸Šè¿°ä»£ç åï¼ŒQTableView çš„ç¬¬äºŒåˆ—å°†æ˜¾ç¤ºå¤é€‰æ¡†ï¼Œè¡¨ç¤ºä»»åŠ¡æ˜¯å¦å®Œæˆã€‚ç”¨æˆ·å¯ä»¥ç›´æ¥ç‚¹å‡»å¤é€‰æ¡†æ¥åˆ‡æ¢çŠ¶æ€ã€‚ å§”æ‰˜çš„é«˜çº§ç”¨æ³•å¤šå§”æ‰˜åº”ç”¨åœ¨ä¸€ä¸ªè§†å›¾ä¸­ï¼Œå¯ä»¥ä¸ºä¸åŒçš„åˆ—æˆ–ç‰¹å®šçš„å•å…ƒæ ¼åº”ç”¨ä¸åŒçš„å§”æ‰˜ï¼Œä»¥æ»¡è¶³ä¸åŒçš„æ•°æ®å±•ç¤ºå’Œç¼–è¾‘éœ€æ±‚ã€‚ ç¤ºä¾‹ï¼šæ··åˆä½¿ç”¨è¿›åº¦æ¡å’Œä¸‹æ‹‰èœå•å§”æ‰˜å‡è®¾ä¸€ä¸ª QTableView åŒ…å«ä»»åŠ¡åç§°ã€è¿›åº¦å’ŒçŠ¶æ€ä¸‰åˆ—ï¼Œæˆ‘ä»¬å¸Œæœ›ï¼š ç¬¬äºŒåˆ—æ˜¾ç¤ºè¿›åº¦æ¡ã€‚ ç¬¬ä¸‰åˆ—æ˜¾ç¤ºä¸‹æ‹‰èœå•ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940// main.cpp (ç»­)#include &quot;ProgressBarDelegate.h&quot;#include &quot;ComboBoxDelegate.h&quot;// ... ä¹‹å‰çš„ä»£ç int main(int argc, char *argv[]) &#123; QApplication app(argc, argv); // åˆ›å»ºæ¨¡å‹ QStandardItemModel model(5, 3); // 5 è¡Œ 3 åˆ— model.setHorizontalHeaderLabels(QStringList() &lt;&lt; &quot;ä»»åŠ¡&quot; &lt;&lt; &quot;è¿›åº¦&quot; &lt;&lt; &quot;çŠ¶æ€&quot;); // å¡«å……æ¨¡å‹æ•°æ® QStringList statuses = &#123;&quot;æœªå¼€å§‹&quot;, &quot;è¿›è¡Œä¸­&quot;, &quot;å·²å®Œæˆ&quot;&#125;; for (int row = 0; row &lt; 5; ++row) &#123; QStandardItem *taskItem = new QStandardItem(QString(&quot;ä»»åŠ¡ %1&quot;).arg(row + 1)); QStandardItem *progressItem = new QStandardItem(QString::number((row + 1) * 20)); progressItem-&gt;setData((row + 1) * 20, Qt::DisplayRole); QStandardItem *statusItem = new QStandardItem(statuses.at(row % statuses.size())); model.setItem(row, 0, taskItem); model.setItem(row, 1, progressItem); model.setItem(row, 2, statusItem); &#125; // åˆ›å»ºè§†å›¾ QTableView tableView; tableView.setModel(&amp;model); // åº”ç”¨è‡ªå®šä¹‰å§”æ‰˜åˆ°ç¬¬äºŒåˆ—ï¼ˆè¿›åº¦åˆ—ï¼‰ ProgressBarDelegate *progressDelegate = new ProgressBarDelegate(&amp;tableView); tableView.setItemDelegateForColumn(1, progressDelegate); // åº”ç”¨è‡ªå®šä¹‰å§”æ‰˜åˆ°ç¬¬ä¸‰åˆ—ï¼ˆçŠ¶æ€åˆ—ï¼‰ ComboBoxDelegate *comboDelegate = new ComboBoxDelegate(statuses, &amp;tableView); tableView.setItemDelegateForColumn(2, comboDelegate); tableView.show(); return app.exec();&#125; å§”æ‰˜ä¸æ•°æ®éªŒè¯åœ¨ç¼–è¾‘æ•°æ®æ—¶ï¼Œå§”æ‰˜ä¸ä»…è´Ÿè´£æä¾›ç¼–è¾‘æ§ä»¶ï¼Œè¿˜å¯ä»¥è¿›è¡Œæ•°æ®éªŒè¯ã€‚ä¾‹å¦‚ï¼Œåœ¨ç¼–è¾‘æ•°å­—æ—¶ï¼Œå¯ä»¥é™åˆ¶è¾“å…¥èŒƒå›´æˆ–æ ¼å¼ã€‚ ç¤ºä¾‹ï¼šå¸¦æœ‰è¾“å…¥éªŒè¯çš„å§”æ‰˜å‡è®¾æˆ‘ä»¬éœ€è¦ç¼–è¾‘è¿›åº¦å€¼æ—¶ï¼Œç¡®ä¿è¾“å…¥çš„å€¼åœ¨ 0 åˆ° 100 ä¹‹é—´ã€‚ 1234567891011121314// ProgressBarDelegate.cpp (ä¿®æ”¹)#include &quot;ProgressBarDelegate.h&quot;#include &lt;QSpinBox&gt;// ... ä¹‹å‰çš„ä»£ç QWidget *ProgressBarDelegate::createEditor(QWidget *parent, const QStyleOptionViewItem &amp;option, const QModelIndex &amp;index) const &#123; // ä½¿ç”¨ QSpinBox ä½œä¸ºç¼–è¾‘æ§ä»¶ QSpinBox *editor = new QSpinBox(parent); editor-&gt;setMinimum(0); editor-&gt;setMaximum(100); return editor;&#125; é€šè¿‡ä½¿ç”¨ QSpinBoxï¼Œç”¨æˆ·åªèƒ½è¾“å…¥ 0 åˆ° 100 ä¹‹é—´çš„æ•´æ•°ï¼Œé¿å…äº†æ— æ•ˆè¾“å…¥ã€‚ å§”æ‰˜çš„æ€§èƒ½ä¼˜åŒ–å½“è§†å›¾ä¸­åŒ…å«å¤§é‡æ•°æ®é¡¹æ—¶ï¼Œå§”æ‰˜çš„æ€§èƒ½å¯èƒ½æˆä¸ºç“¶é¢ˆã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ä¼˜åŒ–å»ºè®®ï¼š é¿å…å¤æ‚çš„ç»˜åˆ¶æ“ä½œï¼šåœ¨ paint æ–¹æ³•ä¸­å°½é‡ä½¿ç”¨ç®€å•çš„ç»˜åˆ¶æ“ä½œï¼Œé¿å…è€—æ—¶çš„è®¡ç®—æˆ–å¤æ‚çš„å›¾å½¢å¤„ç†ã€‚ ç¼“å­˜é‡å¤è®¡ç®—çš„å€¼ï¼šå¦‚æœæŸäº›è®¡ç®—å¯ä»¥å¤ç”¨ï¼Œè€ƒè™‘å°†å…¶ç¼“å­˜èµ·æ¥ï¼Œå‡å°‘é‡å¤è®¡ç®—ã€‚ æœ€å°åŒ–å§”æ‰˜çš„æ•°é‡ï¼šå°½é‡å¤ç”¨åŒä¸€ä¸ªå§”æ‰˜å®ä¾‹ï¼Œé¿å…ä¸ºæ¯ä¸ªå•å…ƒæ ¼åˆ›å»ºç‹¬ç«‹çš„å§”æ‰˜ã€‚ ä½¿ç”¨é«˜æ•ˆçš„æ•°æ®ç»“æ„ï¼šç¡®ä¿æ¨¡å‹çš„æ•°æ®ç»“æ„é«˜æ•ˆï¼Œå‡å°‘æ•°æ®è®¿é—®çš„æ—¶é—´ã€‚ æ€»ç»“å§”æ‰˜æ˜¯ Qt æ¨¡å‹-è§†å›¾æ¶æ„ä¸­å¼ºå¤§çš„ç»„ä»¶ï¼Œå…è®¸å¼€å‘è€…é«˜åº¦å®šåˆ¶æ•°æ®åœ¨è§†å›¾ä¸­çš„å±•ç¤ºå’Œç¼–è¾‘æ–¹å¼ã€‚é€šè¿‡ç»§æ‰¿ QStyledItemDelegateï¼Œå¯ä»¥è½»æ¾åˆ›å»ºè‡ªå®šä¹‰å§”æ‰˜ï¼Œå®ç°è¿›åº¦æ¡ã€ä¸‹æ‹‰èœå•ã€å¤é€‰æ¡†ç­‰å¤šç§å¤æ‚çš„ç•Œé¢å…ƒç´ ã€‚åˆç†ä½¿ç”¨å§”æ‰˜ä¸ä»…å¯ä»¥æå‡ç”¨æˆ·ä½“éªŒï¼Œè¿˜èƒ½å¢å¼ºåº”ç”¨ç¨‹åºçš„çµæ´»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œç»“åˆå…·ä½“éœ€æ±‚ï¼Œçµæ´»åº”ç”¨å§”æ‰˜å°†æå¤§åœ°ä¸°å¯Œ Qt åº”ç”¨çš„ç•Œé¢è¡¨ç°åŠ›ã€‚","categories":[],"tags":[]},{"title":"Qtå¼€å‘åŸºç¡€ä½“ç³»è¯¦è§£","slug":"Qtå¼€å‘åŸºç¡€ä½“ç³»è¯¦è§£","date":"2024-01-09T16:23:13.000Z","updated":"2024-12-26T13:36:56.327Z","comments":true,"path":"2024/01/10/Qtå¼€å‘åŸºç¡€ä½“ç³»è¯¦è§£/","link":"","permalink":"http://ycx81.github.io/2024/01/10/Qt%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80%E4%BD%93%E7%B3%BB%E8%AF%A6%E8%A7%A3/","excerpt":"å‰è¨€","text":"å‰è¨€ Qtå¼€å‘åŸºç¡€ä½“ç³»è¯¦è§£Qtä½œä¸ºä¸€ä¸ªè·¨å¹³å°çš„C++åº”ç”¨ç¨‹åºå¼€å‘æ¡†æ¶ï¼Œä»¥å…¶ä¸°å¯Œçš„åŠŸèƒ½å’Œé«˜æ•ˆçš„å¼€å‘å·¥å…·å¹¿å—å¼€å‘è€…é’çã€‚æ— è®ºæ‚¨æ˜¯åˆå­¦è€…è¿˜æ˜¯æœ‰ç»éªŒçš„å¼€å‘è€…ï¼ŒæŒæ¡Qtçš„åŸºç¡€å®‰è£…ã€å¼€å‘ç¯å¢ƒé…ç½®ã€å·¥å…·ä½¿ç”¨ä»¥åŠæ ¸å¿ƒæœºåˆ¶å¦‚ä¿¡å·ä¸æ§½ï¼Œéƒ½æ˜¯é«˜æ•ˆå¼€å‘Qtåº”ç”¨çš„å…³é”®ã€‚æœ¬ç¯‡æ–‡ç« å°†è¯¦ç»†ä»‹ç»Qtçš„ä¸‹è½½ä¸å®‰è£…é…ç½®ï¼Œåˆ†åˆ«é’ˆå¯¹Windowså’ŒLinuxç³»ç»Ÿçš„ç¯å¢ƒå®‰è£…ï¼Œæ·±å…¥è®²è§£Qt Creatorå·¥å…·çš„ä½¿ç”¨ï¼Œå¹¶æ¢è®¨Qtç‹¬æœ‰çš„ä¿¡å·ä¸æ§½æœºåˆ¶ä»¥åŠQtä¸­çš„å­—ç¬¦ä¸²ã€æ•°æ®ç±»å‹å’Œå®¹å™¨ç±»çš„åº”ç”¨ã€‚ 1. Qtä¸‹è½½ä¸å®‰è£…é…ç½®1.1 ä»å®˜æ–¹ç½‘ç«™ä¸‹è½½Qtè¦å¼€å§‹Qtå¼€å‘ï¼Œé¦–å…ˆéœ€è¦ä»Qtçš„å®˜æ–¹ç½‘ç«™ä¸‹è½½Qtæ¡†æ¶åŠç›¸å…³å¼€å‘å·¥å…·ã€‚ä»¥ä¸‹æ˜¯ä¸‹è½½æ­¥éª¤ï¼š è®¿é—®Qtå®˜æ–¹ç½‘ç«™ï¼šæ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®Qtå®˜æ–¹ç½‘ç«™ã€‚ é€‰æ‹©åˆé€‚çš„ç‰ˆæœ¬ï¼šQtæä¾›äº†å¤šä¸ªç‰ˆæœ¬ï¼ŒåŒ…æ‹¬å¼€æºç‰ˆå’Œå•†ä¸šç‰ˆã€‚å¯¹äºä¸ªäººå­¦ä¹ å’Œå¼€æºé¡¹ç›®å¼€å‘ï¼Œå¯ä»¥é€‰æ‹©å¼€æºç‰ˆã€‚ç‚¹å‡»â€œDownload the Qt Online Installerâ€æŒ‰é’®ä¸‹è½½åœ¨çº¿å®‰è£…ç¨‹åºã€‚ æ³¨å†Œæˆ–ç™»å½•Qtè´¦å·ï¼šä¸‹è½½å’Œå®‰è£…Qtéœ€è¦ä¸€ä¸ªQtè´¦å·ã€‚å¦‚æœæ‚¨è¿˜æ²¡æœ‰è´¦å·ï¼Œå¯ä»¥ç‚¹å‡»â€œSign Upâ€è¿›è¡Œæ³¨å†Œã€‚å·²æœ‰è´¦å·çš„ç”¨æˆ·å¯ä»¥ç›´æ¥ç™»å½•ã€‚ ä¸‹è½½å®‰è£…ç¨‹åºï¼šç™»å½•åï¼Œæ ¹æ®æ“ä½œç³»ç»Ÿï¼ˆWindowsã€Linuxæˆ–macOSï¼‰é€‰æ‹©ç›¸åº”çš„å®‰è£…ç¨‹åºä¸‹è½½ã€‚ 1.2 å®‰è£…Qtä¸‹è½½å®Œæˆåï¼ŒæŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡ŒQtçš„å®‰è£…ï¼š è¿è¡Œå®‰è£…ç¨‹åºï¼šåŒå‡»ä¸‹è½½çš„å®‰è£…ç¨‹åºï¼ˆå¦‚qt-unified-windows-x86-4.x.x-online.exeï¼‰ï¼Œå¯åŠ¨å®‰è£…å‘å¯¼ã€‚ ç™»å½•Qtè´¦å·ï¼šå®‰è£…è¿‡ç¨‹ä¸­ä¼šæç¤ºæ‚¨ç™»å½•Qtè´¦å·ï¼Œè¾“å…¥æ‚¨çš„è´¦å·ä¿¡æ¯åç»§ç»­ã€‚ é€‰æ‹©å®‰è£…ç»„ä»¶ï¼š é€‰æ‹©å®‰è£…ç›®å½•ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼ŒQtä¼šå®‰è£…åœ¨C:\\Qtï¼ˆWindowsï¼‰æˆ–/opt/Qtï¼ˆLinuxï¼‰ç›®å½•ä¸‹ã€‚æ‚¨å¯ä»¥æ ¹æ®éœ€è¦æ›´æ”¹å®‰è£…è·¯å¾„ã€‚ é€‰æ‹©Qtç‰ˆæœ¬å’Œç»„ä»¶ï¼šé€‰æ‹©æ‚¨éœ€è¦å®‰è£…çš„Qtç‰ˆæœ¬ï¼ˆå¦‚Qt 5.xæˆ–Qt 6.xï¼‰å’Œç›®æ ‡ç¼–è¯‘å™¨ï¼ˆå¦‚MinGWã€MSVCã€Clangç­‰ï¼‰ã€‚å¯¹äºåˆå­¦è€…ï¼Œå»ºè®®é€‰æ‹©é»˜è®¤æ¨èçš„ç¼–è¯‘å™¨ã€‚ å¼€å§‹å®‰è£…ï¼šç¡®è®¤é€‰æ‹©åï¼Œç‚¹å‡»â€œNextâ€å¼€å§‹ä¸‹è½½å’Œå®‰è£…Qtç»„ä»¶ã€‚å®‰è£…æ—¶é—´å–å†³äºæ‰€é€‰ç»„ä»¶çš„å¤§å°å’Œç½‘ç»œé€Ÿåº¦ã€‚ å®Œæˆå®‰è£…ï¼šå®‰è£…å®Œæˆåï¼Œæ‚¨å¯ä»¥é€‰æ‹©å¯åŠ¨Qt Creatoræˆ–ç›´æ¥å…³é—­å®‰è£…å‘å¯¼ã€‚ 1.3 é…ç½®å¼€å‘ç¯å¢ƒå®‰è£…å®Œæˆåï¼Œè¿›è¡Œä»¥ä¸‹é…ç½®ä»¥ç¡®ä¿å¼€å‘ç¯å¢ƒæ­£å¸¸è¿è¡Œï¼š è®¾ç½®ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰ï¼šè™½ç„¶Qtå®‰è£…ç¨‹åºä¼šè‡ªåŠ¨é…ç½®ç¯å¢ƒå˜é‡ï¼Œä½†æœ‰æ—¶æ‚¨å¯èƒ½éœ€è¦æ‰‹åŠ¨è®¾ç½®ã€‚ä¾‹å¦‚ï¼Œåœ¨Windowsä¸Šï¼Œå¯ä»¥å°†Qtçš„binç›®å½•æ·»åŠ åˆ°ç³»ç»Ÿçš„PATHç¯å¢ƒå˜é‡ä¸­ï¼Œä»¥ä¾¿åœ¨å‘½ä»¤è¡Œä¸­ç›´æ¥è°ƒç”¨Qtå·¥å…·ã€‚ éªŒè¯å®‰è£…ï¼šæ‰“å¼€Qt Creatorï¼Œåˆ›å»ºä¸€ä¸ªç®€å•çš„â€œHello Worldâ€é¡¹ç›®ï¼Œç¼–è¯‘å¹¶è¿è¡Œï¼Œä»¥ç¡®è®¤å®‰è£…å’Œé…ç½®æ˜¯å¦æˆåŠŸã€‚ 2. Windows Qtç¯å¢ƒå®‰è£…åœ¨Windowsç³»ç»Ÿä¸Šå®‰è£…Qtæ¶‰åŠä¸‹è½½é€‚ç”¨äºWindowsçš„Qtå®‰è£…åŒ…ï¼Œå¹¶é…ç½®å¿…è¦çš„ç¼–è¯‘å™¨å’Œå·¥å…·é“¾ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†æ­¥éª¤ï¼š 2.1 ç³»ç»Ÿè¦æ±‚ç¡®ä¿æ‚¨çš„Windowsç³»ç»Ÿæ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š æ“ä½œç³»ç»Ÿï¼šWindows 7ã€8ã€10æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆ64ä½æ¨èï¼‰ ç£ç›˜ç©ºé—´ï¼šè‡³å°‘5GBçš„å¯ç”¨ç©ºé—´ ç¼–è¯‘å™¨ï¼šæ¨èä½¿ç”¨MinGWï¼ˆéšQtå®‰è£…åŒ…æä¾›ï¼‰æˆ–Microsoft Visual C++ç¼–è¯‘å™¨ 2.2 ä¸‹è½½Qtå®‰è£…ç¨‹åº è®¿é—®Qtä¸‹è½½é¡µé¢ï¼šæ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®Qtä¸‹è½½é¡µé¢ã€‚ é€‰æ‹©Windowsç‰ˆæœ¬ï¼šç‚¹å‡»â€œDownload the Qt Online Installerâ€æŒ‰é’®ï¼Œä¸‹è½½é€‚ç”¨äºWindowsçš„åœ¨çº¿å®‰è£…ç¨‹åºã€‚ 2.3 å®‰è£…Qt è¿è¡Œå®‰è£…ç¨‹åºï¼šåŒå‡»ä¸‹è½½çš„å®‰è£…ç¨‹åºï¼ˆå¦‚qt-unified-windows-x86-4.x.x-online.exeï¼‰ï¼Œå¯åŠ¨å®‰è£…å‘å¯¼ã€‚ ç™»å½•Qtè´¦å·ï¼šæŒ‰ç…§æç¤ºç™»å½•æ‚¨çš„Qtè´¦å·ã€‚å¦‚æœæ²¡æœ‰è´¦å·ï¼Œè¯·å…ˆæ³¨å†Œã€‚ é€‰æ‹©å®‰è£…ç›®å½•ï¼šé»˜è®¤å®‰è£…ç›®å½•ä¸ºC:\\Qtï¼Œæ‚¨å¯ä»¥æ ¹æ®éœ€è¦æ›´æ”¹è·¯å¾„ã€‚ é€‰æ‹©Qtç‰ˆæœ¬å’Œç¼–è¯‘å™¨ï¼š Qtç‰ˆæœ¬ï¼šé€‰æ‹©æ‚¨éœ€è¦çš„Qtç‰ˆæœ¬ï¼ˆå¦‚Qt 5.15æˆ–Qt 6.xï¼‰ã€‚ ç¼–è¯‘å™¨ï¼šé€‰æ‹©MinGWæˆ–MSVCç¼–è¯‘å™¨ã€‚å¦‚æœé€‰æ‹©MinGWï¼Œå®‰è£…ç¨‹åºä¼šè‡ªåŠ¨ä¸‹è½½å’Œé…ç½®MinGWã€‚å¦‚æœæ‚¨å·²ç»å®‰è£…äº†Visual Studioï¼Œé€‰æ‹©å¯¹åº”çš„MSVCç¼–è¯‘å™¨ã€‚ é€‰æ‹©ç»„ä»¶ï¼šæ ¹æ®æ‚¨çš„é¡¹ç›®éœ€æ±‚é€‰æ‹©é¢å¤–çš„ç»„ä»¶ï¼Œå¦‚Qt Chartsã€Qt Quick Controlsç­‰ã€‚ å¼€å§‹å®‰è£…ï¼šç‚¹å‡»â€œNextâ€å¼€å§‹ä¸‹è½½å’Œå®‰è£…æ‰€é€‰ç»„ä»¶ã€‚ä¸‹è½½å’Œå®‰è£…è¿‡ç¨‹å¯èƒ½éœ€è¦ä¸€äº›æ—¶é—´ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚ å®Œæˆå®‰è£…ï¼šå®‰è£…å®Œæˆåï¼Œæ‚¨å¯ä»¥é€‰æ‹©å¯åŠ¨Qt Creatorï¼Œæˆ–è€…ç¨åæ‰‹åŠ¨å¯åŠ¨ã€‚ 2.4 é…ç½®ç¼–è¯‘å™¨å¦‚æœæ‚¨é€‰æ‹©äº†MSVCç¼–è¯‘å™¨ï¼Œç¡®ä¿å·²ç»å®‰è£…äº†ç›¸åº”ç‰ˆæœ¬çš„Visual Studioå’ŒC++å¼€å‘å·¥å…·ã€‚MinGWç¼–è¯‘å™¨é€šå¸¸éšQtå®‰è£…åŒ…ä¸€èµ·å®‰è£…ï¼Œæ— éœ€é¢å¤–é…ç½®ã€‚ éªŒè¯ç¼–è¯‘å™¨ï¼šæ‰“å¼€Qt Creatorï¼Œè¿›å…¥â€œå·¥å…·â€ &gt; â€œé€‰é¡¹â€ &gt; â€œæ„å»ºå’Œè¿è¡Œâ€ &gt; â€œç¼–è¯‘å™¨â€ï¼Œç¡®ä¿æ‰€é€‰ç¼–è¯‘å™¨å·²æ­£ç¡®é…ç½®ã€‚ é…ç½®æ„å»ºå¥—ä»¶ï¼šåœ¨â€œæ„å»ºå’Œè¿è¡Œâ€ &gt; â€œå¥—ä»¶â€ä¸­ï¼Œç¡®è®¤å·²é…ç½®ç›¸åº”çš„æ„å»ºå¥—ä»¶ï¼ˆCompilerã€Debuggerã€Qtç‰ˆæœ¬ï¼‰ã€‚ 2.5 æµ‹è¯•å®‰è£…åˆ›å»ºä¸€ä¸ªç®€å•çš„Qt Widgetsåº”ç”¨ç¨‹åºï¼Œç¼–è¯‘å¹¶è¿è¡Œï¼Œä»¥ç¡®ä¿å®‰è£…å’Œé…ç½®æ— è¯¯ã€‚ æ­¥éª¤ï¼š æ‰“å¼€Qt Creatorã€‚ ç‚¹å‡»â€œæ–‡ä»¶â€ &gt; â€œæ–°å»ºæ–‡ä»¶æˆ–é¡¹ç›®â€ã€‚ é€‰æ‹©â€œåº”ç”¨ç¨‹åºâ€ &gt; â€œQt Widgets åº”ç”¨ç¨‹åºâ€ï¼Œç‚¹å‡»â€œé€‰æ‹©â€ã€‚ å¡«å†™é¡¹ç›®åç§°å’Œä½ç½®ï¼Œç‚¹å‡»â€œä¸‹ä¸€æ­¥â€ã€‚ é€‰æ‹©åˆé€‚çš„Qtç‰ˆæœ¬å’Œæ„å»ºå¥—ä»¶ï¼Œç‚¹å‡»â€œä¸‹ä¸€æ­¥â€ã€‚ ç‚¹å‡»â€œå®Œæˆâ€åˆ›å»ºé¡¹ç›®ã€‚ åœ¨é¡¹ç›®ä¸­æ·»åŠ ä¸€ä¸ªç®€å•çš„æŒ‰é’®æˆ–æ ‡ç­¾ï¼Œç¼–è¯‘å¹¶è¿è¡Œã€‚ é¢„æœŸç»“æœï¼šå‡ºç°ä¸€ä¸ªåŒ…å«æŒ‰é’®æˆ–æ ‡ç­¾çš„çª—å£ï¼Œç‚¹å‡»æŒ‰é’®æˆ–æŸ¥çœ‹æ ‡ç­¾å†…å®¹ï¼ŒéªŒè¯åº”ç”¨ç¨‹åºæ­£å¸¸è¿è¡Œã€‚ 3. Linux Qtç¯å¢ƒå®‰è£…åœ¨Linuxç³»ç»Ÿä¸Šå®‰è£…Qtå¯ä»¥é€šè¿‡å¤šç§æ–¹å¼å®Œæˆï¼ŒåŒ…æ‹¬ä½¿ç”¨åŒ…ç®¡ç†å™¨å®‰è£…é¢„ç¼–è¯‘çš„QtåŒ…æˆ–ä»æºç ç¼–è¯‘Qtã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†æ­¥éª¤ï¼š 3.1 ä½¿ç”¨åŒ…ç®¡ç†å™¨å®‰è£…å¤šæ•°Linuxå‘è¡Œç‰ˆçš„å®˜æ–¹ä»“åº“ä¸­éƒ½åŒ…å«Qtçš„é¢„ç¼–è¯‘åŒ…ï¼Œå®‰è£…ç®€å•å¿«æ·ã€‚ 3.1.1 Ubuntu&#x2F;Debian æ›´æ–°åŒ…åˆ—è¡¨ï¼š 1sudo apt update å®‰è£…Qtå’ŒQt Creatorï¼š 1sudo apt install qt5-default qtcreator éªŒè¯å®‰è£…ï¼šæ‰“å¼€Qt Creatorï¼Œåˆ›å»ºå¹¶è¿è¡Œä¸€ä¸ªç®€å•çš„Qté¡¹ç›®ã€‚ 3.1.2 Fedora æ›´æ–°åŒ…åˆ—è¡¨ï¼š 1sudo dnf update å®‰è£…Qtå’ŒQt Creatorï¼š 1sudo dnf install qt5-qtbase-devel qt-creator éªŒè¯å®‰è£…ï¼šæ‰“å¼€Qt Creatorï¼Œåˆ›å»ºå¹¶è¿è¡Œä¸€ä¸ªç®€å•çš„Qté¡¹ç›®ã€‚ 3.1.3 Arch Linux æ›´æ–°åŒ…åˆ—è¡¨ï¼š 1sudo pacman -Syu å®‰è£…Qtå’ŒQt Creatorï¼š 1sudo pacman -S qt5-base qtcreator éªŒè¯å®‰è£…ï¼šæ‰“å¼€Qt Creatorï¼Œåˆ›å»ºå¹¶è¿è¡Œä¸€ä¸ªç®€å•çš„Qté¡¹ç›®ã€‚ 3.2 ä»æºç ç¼–è¯‘å®‰è£…ä»æºç ç¼–è¯‘Qté€‚ç”¨äºéœ€è¦è‡ªå®šä¹‰æ„å»ºé…ç½®æˆ–æœ€æ–°Qtç‰ˆæœ¬çš„å¼€å‘è€…ã€‚ä»¥ä¸‹æ˜¯ä»æºç ç¼–è¯‘Qtçš„æ­¥éª¤ï¼š 3.2.1 å®‰è£…ä¾èµ–ç¡®ä¿ç³»ç»Ÿå·²å®‰è£…æ„å»ºQtæ‰€éœ€çš„ä¾èµ–é¡¹ã€‚ä»¥Ubuntuä¸ºä¾‹ï¼š 1234sudo apt updatesudo apt install build-essential libgl1-mesa-devsudo apt install libfontconfig1-dev libdbus-1-dev libfreetype6-dev libicu-devsudo apt install libjpeg-dev libpng-dev libssl-dev 3.2.2 ä¸‹è½½Qtæºç  è®¿é—®Qtä¸‹è½½é¡µé¢ï¼šè®¿é—®Qtå®˜ç½‘æºç ä¸‹è½½é¡µé¢ï¼Œé€‰æ‹©æ‰€éœ€çš„Qtç‰ˆæœ¬ã€‚ ä¸‹è½½æºç åŒ…ï¼šä½¿ç”¨wgetæˆ–æµè§ˆå™¨ä¸‹è½½æºç å‹ç¼©åŒ…ã€‚ä¾‹å¦‚ï¼Œä¸‹è½½Qt 5.15.2æºç ï¼š 1wget https://download.qt.io/archive/qt/5.15/5.15.2/single/qt-everywhere-src-5.15.2.tar.xz è§£å‹æºç åŒ…ï¼š 12tar -xf qt-everywhere-src-5.15.2.tar.xzcd qt-everywhere-src-5.15.2 3.2.3 é…ç½®å’Œç¼–è¯‘ è¿è¡Œé…ç½®è„šæœ¬ï¼š 1./configure -prefix /opt/Qt5.15.2 -opensource -confirm-license -nomake examples -nomake tests -prefixï¼šæŒ‡å®šå®‰è£…è·¯å¾„ã€‚ -opensourceï¼šé€‰æ‹©å¼€æºè®¸å¯ã€‚ -nomake exampleså’Œ-nomake testsï¼šè·³è¿‡ç¤ºä¾‹å’Œæµ‹è¯•çš„ç¼–è¯‘ï¼ŒåŠ å¿«ç¼–è¯‘é€Ÿåº¦ã€‚ ç¼–è¯‘Qtï¼š 1make -j$(nproc) -j$(nproc)é€‰é¡¹ä½¿ç”¨æ‰€æœ‰å¯ç”¨çš„CPUæ ¸å¿ƒï¼ŒåŠ å¿«ç¼–è¯‘è¿‡ç¨‹ã€‚ å®‰è£…Qtï¼š 1sudo make install é…ç½®ç¯å¢ƒå˜é‡ï¼šæ·»åŠ Qtçš„binç›®å½•åˆ°PATHç¯å¢ƒå˜é‡ä¸­ï¼š 1export PATH=/opt/Qt5.15.2/bin:$PATH ä¸ºäº†æ°¸ä¹…ç”Ÿæ•ˆï¼Œå¯ä»¥å°†ä¸Šè¿°å‘½ä»¤æ·»åŠ åˆ°~/.bashrcæˆ–~/.profileæ–‡ä»¶ä¸­ã€‚ 3.2.4 éªŒè¯å®‰è£…åˆ›å»ºä¸€ä¸ªç®€å•çš„Qt Widgetsåº”ç”¨ç¨‹åºï¼Œç¼–è¯‘å¹¶è¿è¡Œï¼Œä»¥ç¡®è®¤ä»æºç ç¼–è¯‘çš„Qtå®‰è£…æˆåŠŸã€‚ æ­¥éª¤ï¼š æ‰“å¼€Qt Creatorï¼Œé€‰æ‹©åˆšç¼–è¯‘å’Œå®‰è£…çš„Qtç‰ˆæœ¬ä½œä¸ºæ„å»ºå¥—ä»¶ã€‚ åˆ›å»ºä¸€ä¸ªæ–°çš„Qt Widgetsåº”ç”¨é¡¹ç›®ã€‚ æ·»åŠ ä¸€ä¸ªæŒ‰é’®æˆ–æ ‡ç­¾ï¼Œç¼–è¯‘å¹¶è¿è¡Œé¡¹ç›®ã€‚ é¢„æœŸç»“æœï¼šå‡ºç°ä¸€ä¸ªåŒ…å«æŒ‰é’®æˆ–æ ‡ç­¾çš„çª—å£ï¼Œç‚¹å‡»æŒ‰é’®æˆ–æŸ¥çœ‹æ ‡ç­¾å†…å®¹ï¼ŒéªŒè¯åº”ç”¨ç¨‹åºæ­£å¸¸è¿è¡Œã€‚ 4. Qt Creatorå·¥å…·ä»‹ç»ä¸ä½¿ç”¨Qt Creatoræ˜¯Qtå®˜æ–¹æä¾›çš„é›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰ï¼Œä¸“ä¸ºQtåº”ç”¨ç¨‹åºå¼€å‘è€Œè®¾è®¡ã€‚å®ƒæä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½ï¼Œå¦‚ä»£ç ç¼–è¾‘ã€é¡¹ç›®ç®¡ç†ã€è°ƒè¯•ã€ç•Œé¢è®¾è®¡ç­‰ï¼Œæå¤§åœ°æå‡äº†å¼€å‘æ•ˆç‡ã€‚ 4.1 Qt Creatorçš„ç•Œé¢æ¦‚è¿°å¯åŠ¨Qt Creatoråï¼Œæ‚¨å°†çœ‹åˆ°ä¸€ä¸ªç°ä»£åŒ–çš„ç”¨æˆ·ç•Œé¢ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š èœå•æ ï¼šåŒ…å«å¸¸ç”¨çš„èœå•é€‰é¡¹ï¼Œå¦‚â€œæ–‡ä»¶â€ã€â€œç¼–è¾‘â€ã€â€œè§†å›¾â€ã€â€œå·¥å…·â€ã€â€œå¸®åŠ©â€ç­‰ã€‚ å·¥å…·æ ï¼šå¿«é€Ÿè®¿é—®å¸¸ç”¨åŠŸèƒ½ï¼Œå¦‚åˆ›å»ºæ–°é¡¹ç›®ã€æ‰“å¼€é¡¹ç›®ã€ä¿å­˜ã€ç¼–è¯‘ã€è¿è¡Œã€è°ƒè¯•ç­‰ã€‚ é¡¹ç›®è§†å›¾ï¼šæ˜¾ç¤ºå½“å‰æ‰“å¼€çš„é¡¹ç›®åŠå…¶æ–‡ä»¶ç»“æ„ï¼Œæ”¯æŒå¤šé¡¹ç›®ç®¡ç†ã€‚ ä»£ç ç¼–è¾‘å™¨ï¼šæ ¸å¿ƒåŒºåŸŸï¼Œç”¨äºç¼–å†™å’Œç¼–è¾‘ä»£ç ï¼Œæ”¯æŒè¯­æ³•é«˜äº®ã€ä»£ç è¡¥å…¨ã€æ™ºèƒ½æç¤ºç­‰åŠŸèƒ½ã€‚ è¾“å‡ºçª—å£ï¼šæ˜¾ç¤ºç¼–è¯‘è¾“å‡ºã€è¿è¡Œæ—¥å¿—ã€è°ƒè¯•ä¿¡æ¯ç­‰ã€‚ è°ƒè¯•è§†å›¾ï¼šæä¾›æ–­ç‚¹ç®¡ç†ã€å˜é‡ç›‘è§†ã€è°ƒç”¨å †æ ˆæŸ¥çœ‹ç­‰è°ƒè¯•åŠŸèƒ½ã€‚ è®¾è®¡å™¨è§†å›¾ï¼šç”¨äºè®¾è®¡Qt Widgetsæˆ–Qt Quickç•Œé¢ï¼Œæ”¯æŒæ‹–æ”¾ç»„ä»¶ã€å±æ€§ç¼–è¾‘ç­‰ã€‚ 4.2 åˆ›å»ºå’Œç®¡ç†é¡¹ç›®4.2.1 åˆ›å»ºæ–°é¡¹ç›® å¯åŠ¨Qt Creatorï¼šæ‰“å¼€Qt Creatorï¼Œè¿›å…¥æ¬¢è¿ç•Œé¢ã€‚ æ–°å»ºé¡¹ç›®ï¼šç‚¹å‡»â€œæ–°å»ºé¡¹ç›®â€ï¼ˆCtrl+Nï¼‰ï¼Œé€‰æ‹©â€œåº”ç”¨ç¨‹åºâ€ä¸‹çš„â€œQt Widgets åº”ç”¨ç¨‹åºâ€æˆ–â€œQt Quick åº”ç”¨ç¨‹åºâ€ï¼Œæ ¹æ®éœ€æ±‚é€‰æ‹©ã€‚ é…ç½®é¡¹ç›®ï¼š é¡¹ç›®åç§°å’Œä½ç½®ï¼šå¡«å†™é¡¹ç›®åç§°å’Œä¿å­˜è·¯å¾„ã€‚ é€‰æ‹©Qtç‰ˆæœ¬å’Œæ„å»ºå¥—ä»¶ï¼šé€‰æ‹©åˆé€‚çš„Qtç‰ˆæœ¬å’Œç¼–è¯‘å™¨ã€‚ è®¾è®¡é¡¹ç›®ç»“æ„ï¼šæ ¹æ®éœ€è¦é€‰æ‹©é¡¹ç›®æ¨¡æ¿ï¼Œå¦‚åŸºæœ¬åº”ç”¨ã€å¸¦æœ‰ç¤ºä¾‹ä»£ç çš„åº”ç”¨ç­‰ã€‚ å®Œæˆåˆ›å»ºï¼šç‚¹å‡»â€œå®Œæˆâ€åï¼ŒQt Creatorå°†ç”Ÿæˆé¡¹ç›®æ–‡ä»¶å¹¶æ‰“å¼€ä¸»ç¼–è¾‘ç•Œé¢ã€‚ 4.2.2 ç®¡ç†é¡¹ç›®æ–‡ä»¶åœ¨é¡¹ç›®è§†å›¾ä¸­ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°é¡¹ç›®çš„æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•ç»“æ„ã€‚å¸¸è§çš„æ–‡ä»¶åŒ…æ‹¬ï¼š .proæ–‡ä»¶ï¼šQté¡¹ç›®æ–‡ä»¶ï¼Œå®šä¹‰äº†é¡¹ç›®çš„é…ç½®å’Œæ„å»ºè®¾ç½®ã€‚ main.cppï¼šä¸»ç¨‹åºå…¥å£ã€‚ mainwindow.h&#x2F;.cpp&#x2F;.uiï¼šä¸»çª—å£ç±»çš„å¤´æ–‡ä»¶ã€å®ç°æ–‡ä»¶å’Œç•Œé¢è®¾è®¡æ–‡ä»¶ã€‚ å…¶ä»–æºæ–‡ä»¶å’Œèµ„æºæ–‡ä»¶ï¼šæ ¹æ®é¡¹ç›®éœ€è¦æ·»åŠ çš„æ–‡ä»¶ã€‚ 4.3 ä»£ç ç¼–è¾‘ä¸è°ƒè¯•4.3.1 ä»£ç ç¼–è¾‘å™¨Qt Creatorçš„ä»£ç ç¼–è¾‘å™¨æä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½ï¼Œæå‡ä»£ç ç¼–å†™æ•ˆç‡ï¼š è¯­æ³•é«˜äº®ï¼šä¸åŒç±»å‹çš„ä»£ç å…ƒç´ ä»¥ä¸åŒé¢œè‰²æ˜¾ç¤ºï¼Œæå‡å¯è¯»æ€§ã€‚ ä»£ç è¡¥å…¨ï¼šæ™ºèƒ½æç¤ºå˜é‡ã€å‡½æ•°ã€ç±»åç­‰ï¼Œå‡å°‘æ‰“å­—é”™è¯¯ã€‚ é”™è¯¯æç¤ºï¼šå®æ—¶æ˜¾ç¤ºç¼–è¯‘é”™è¯¯å’Œè­¦å‘Šï¼Œå¸®åŠ©å¿«é€Ÿå®šä½é—®é¢˜ã€‚ ä»£ç æŠ˜å ï¼šå¯ä»¥æŠ˜å æˆ–å±•å¼€ä»£ç å—ï¼Œç®€åŒ–ä»£ç æµè§ˆã€‚ é‡æ„å·¥å…·ï¼šæ”¯æŒé‡å‘½åã€æå–å‡½æ•°ç­‰ä»£ç é‡æ„æ“ä½œã€‚ 4.3.2 ç¼–è¯‘ä¸è¿è¡Œ ç¼–è¯‘é¡¹ç›®ï¼šç‚¹å‡»å·¥å…·æ ä¸­çš„â€œæ„å»ºâ€æŒ‰é’®ï¼ˆCtrl+Bï¼‰ï¼ŒQt Creatorå°†æ ¹æ®é¡¹ç›®é…ç½®ç¼–è¯‘æºä»£ç ã€‚ è¿è¡Œé¡¹ç›®ï¼šç¼–è¯‘æˆåŠŸåï¼Œç‚¹å‡»â€œè¿è¡Œâ€æŒ‰é’®ï¼ˆCtrl+Rï¼‰ï¼Œå¯åŠ¨åº”ç”¨ç¨‹åºã€‚ è°ƒè¯•é¡¹ç›®ï¼šç‚¹å‡»â€œè°ƒè¯•â€æŒ‰é’®ï¼ˆF5ï¼‰ï¼Œå¯åŠ¨è°ƒè¯•æ¨¡å¼ã€‚æ‚¨å¯ä»¥è®¾ç½®æ–­ç‚¹ã€æŸ¥çœ‹å˜é‡ã€æ­¥è¿›ä»£ç ç­‰ï¼Œå¸®åŠ©å®šä½å’Œè§£å†³é—®é¢˜ã€‚ 4.3.3 è°ƒè¯•å·¥å…·Qt Creatoré›†æˆäº†å¼ºå¤§çš„è°ƒè¯•å·¥å…·ï¼Œæ”¯æŒä»¥ä¸‹åŠŸèƒ½ï¼š æ–­ç‚¹ç®¡ç†ï¼šè®¾ç½®ã€å¯ç”¨ã€ç¦ç”¨æˆ–åˆ é™¤æ–­ç‚¹ã€‚ å˜é‡ç›‘è§†ï¼šæŸ¥çœ‹å’Œç›‘æ§å˜é‡çš„å½“å‰å€¼ã€‚ è°ƒç”¨å †æ ˆï¼šæŸ¥çœ‹å‡½æ•°è°ƒç”¨é“¾ï¼Œå¸®åŠ©ç†è§£ç¨‹åºæ‰§è¡Œæµç¨‹ã€‚ å†…å­˜æŸ¥çœ‹ï¼šæ£€æŸ¥å†…å­˜åˆ†é…å’ŒæŒ‡é’ˆæŒ‡å‘ï¼Œè¯Šæ–­å†…å­˜é—®é¢˜ã€‚ 4.4 ä½¿ç”¨Qt Designerè®¾è®¡ç•Œé¢Qt Creatoré›†æˆäº†Qt Designerï¼Œæä¾›å¯è§†åŒ–çš„ç•Œé¢è®¾è®¡å·¥å…·ï¼Œä½¿å¾—è®¾è®¡å¤æ‚çš„ç”¨æˆ·ç•Œé¢å˜å¾—ç®€å•ç›´è§‚ã€‚ 4.4.1 æ‰“å¼€Qt Designer åˆ›å»ºæˆ–æ‰“å¼€é¡¹ç›®ï¼šåœ¨Qt Creatorä¸­åˆ›å»ºä¸€ä¸ªQt Widgetsåº”ç”¨é¡¹ç›®ï¼Œè‡ªåŠ¨ç”Ÿæˆä¸»çª—å£æ–‡ä»¶ï¼ˆå¦‚mainwindow.uiï¼‰ã€‚ è¿›å…¥è®¾è®¡æ¨¡å¼ï¼šåŒå‡»mainwindow.uiæ–‡ä»¶ï¼ŒQt Creatorå°†åˆ‡æ¢åˆ°è®¾è®¡è§†å›¾ï¼Œæ˜¾ç¤ºQt Designerç•Œé¢ã€‚ 4.4.2 è®¾è®¡ç•Œé¢ æ‹–æ”¾ç»„ä»¶ï¼šä»å·¦ä¾§çš„â€œéƒ¨ä»¶â€é¢æ¿ä¸­æ‹–æ”¾æŒ‰é’®ã€æ ‡ç­¾ã€æ–‡æœ¬æ¡†ç­‰ç»„ä»¶åˆ°ä¸»çª—å£ä¸­ã€‚ è°ƒæ•´å±æ€§ï¼šé€‰ä¸­ç»„ä»¶åï¼Œåœ¨å³ä¾§çš„â€œå±æ€§ç¼–è¾‘å™¨â€ä¸­è°ƒæ•´å…¶å±æ€§ï¼Œå¦‚å¤§å°ã€ä½ç½®ã€æ–‡æœ¬å†…å®¹ç­‰ã€‚ å¸ƒå±€ç®¡ç†ï¼šä½¿ç”¨å¸ƒå±€ç®¡ç†å™¨ï¼ˆå¦‚å‚ç›´å¸ƒå±€ã€æ°´å¹³å¸ƒå±€ã€ç½‘æ ¼å¸ƒå±€ï¼‰è‡ªåŠ¨æ’åˆ—å’Œè°ƒæ•´ç»„ä»¶ï¼Œç¡®ä¿ç•Œé¢åœ¨ä¸åŒåˆ†è¾¨ç‡ä¸‹çš„è‰¯å¥½æ˜¾ç¤ºã€‚ ä¿¡å·ä¸æ§½è¿æ¥ï¼šåœ¨è®¾è®¡è§†å›¾ä¸­ï¼Œå¯ä»¥é€šè¿‡å³é”®ç‚¹å‡»ç»„ä»¶é€‰æ‹©â€œè½¬åˆ°æ§½â€æ¥è‡ªåŠ¨ç”Ÿæˆä¿¡å·ä¸æ§½çš„è¿æ¥ä»£ç ã€‚ 4.4.3 ä¿å­˜å’Œç”Ÿæˆä»£ç å®Œæˆç•Œé¢è®¾è®¡åï¼Œä¿å­˜mainwindow.uiæ–‡ä»¶ï¼ŒQt Creatorä¼šè‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„ui_mainwindow.hæ–‡ä»¶ï¼Œä¾›é¡¹ç›®ä¸­å¼•ç”¨å’Œä½¿ç”¨ã€‚ ç¤ºä¾‹ï¼š 123456789101112131415161718192021#include &quot;mainwindow.h&quot;#include &quot;ui_mainwindow.h&quot;MainWindow::MainWindow(QWidget *parent) : QMainWindow(parent), ui(new Ui::MainWindow)&#123; ui-&gt;setupUi(this); // è¿æ¥æŒ‰é’®çš„ç‚¹å‡»ä¿¡å·åˆ°æ§½å‡½æ•° connect(ui-&gt;pushButton, &amp;QPushButton::clicked, this, &amp;MainWindow::onButtonClicked);&#125;MainWindow::~MainWindow()&#123; delete ui;&#125;void MainWindow::onButtonClicked()&#123; ui-&gt;label-&gt;setText(&quot;æŒ‰é’®å·²ç‚¹å‡»ï¼&quot;);&#125; è§£é‡Šï¼š ui-&gt;setupUi(this)åˆå§‹åŒ–ç•Œé¢ã€‚ é€šè¿‡connectå‡½æ•°å°†æŒ‰é’®çš„clickedä¿¡å·è¿æ¥åˆ°è‡ªå®šä¹‰æ§½å‡½æ•°onButtonClickedï¼Œå®ç°æŒ‰é’®ç‚¹å‡»åçš„è¡Œä¸ºã€‚ 5. Qtä¿¡å·ä¸æ§½æœºåˆ¶Qtç‹¬æœ‰çš„ä¿¡å·ä¸æ§½æœºåˆ¶æ˜¯å…¶æ ¸å¿ƒç‰¹æ€§ä¹‹ä¸€ï¼Œæä¾›äº†ä¸€ç§é«˜æ•ˆçš„å¯¹è±¡é—´é€šä¿¡æ–¹å¼ã€‚é€šè¿‡ä¿¡å·ä¸æ§½ï¼ŒQtå¯¹è±¡å¯ä»¥åœ¨æ— éœ€äº†è§£å½¼æ­¤çš„æƒ…å†µä¸‹è¿›è¡Œé€šä¿¡ï¼Œæå¤§åœ°æé«˜äº†ä»£ç çš„æ¨¡å—åŒ–å’Œå¯ç»´æŠ¤æ€§ã€‚ 5.1 ä¿¡å·ä¸æ§½çš„åŸºæœ¬æ¦‚å¿µ ä¿¡å·ï¼ˆSignalï¼‰ï¼šå½“å¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šå‘å‡ºä¿¡å·ã€‚ä¿¡å·æ˜¯ä¸€ä¸ªæ— å‚æ•°æˆ–å¸¦å‚æ•°çš„äº‹ä»¶ï¼Œè¡¨ç¤ºæŸä¸ªç‰¹å®šäº‹ä»¶çš„å‘ç”Ÿã€‚ æ§½ï¼ˆSlotï¼‰ï¼šæ§½æ˜¯ä¸€ä¸ªå¯ä»¥æ¥æ”¶ä¿¡å·çš„å‡½æ•°ã€‚å½“ä¿¡å·å‘å‡ºæ—¶ï¼Œè¿æ¥åˆ°è¯¥ä¿¡å·çš„æ§½å‡½æ•°ä¼šè¢«è‡ªåŠ¨è°ƒç”¨ï¼Œæ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚ 5.2 ä¿¡å·ä¸æ§½çš„è¿æ¥åœ¨Qtä¸­ï¼Œä¿¡å·ä¸æ§½é€šè¿‡QObject::connectå‡½æ•°è¿›è¡Œè¿æ¥ã€‚è¿æ¥åï¼Œå½“ä¿¡å·å‘å‡ºæ—¶ï¼Œå…³è”çš„æ§½å‡½æ•°ä¼šè¢«è‡ªåŠ¨è°ƒç”¨ã€‚ 5.2.1 è¿æ¥è¯­æ³•1QObject::connect(sender, SIGNAL(signalSignature), receiver, SLOT(slotSignature)); senderï¼šå‘å‡ºä¿¡å·çš„å¯¹è±¡ã€‚ signalSignatureï¼šä¿¡å·çš„ç­¾åï¼ˆå‚æ•°åˆ—è¡¨ï¼‰ã€‚ receiverï¼šæ¥æ”¶ä¿¡å·çš„å¯¹è±¡ã€‚ slotSignatureï¼šæ§½å‡½æ•°çš„ç­¾åã€‚ ç¤ºä¾‹ï¼š 1connect(button, SIGNAL(clicked()), this, SLOT(handleButton())); 5.2.2 æ–°çš„è¿æ¥è¯­æ³•ï¼ˆåŸºäºå‡½æ•°æŒ‡é’ˆï¼‰ä»Qt 5å¼€å§‹ï¼Œæ¨èä½¿ç”¨åŸºäºå‡½æ•°æŒ‡é’ˆçš„è¿æ¥è¯­æ³•ï¼Œæä¾›äº†ç±»å‹å®‰å…¨å’Œç¼–è¯‘æ—¶æ£€æŸ¥ã€‚ 1connect(sender, &amp;SenderClass::signal, receiver, &amp;ReceiverClass::slot); ç¤ºä¾‹ï¼š 1connect(button, &amp;QPushButton::clicked, this, &amp;MainWindow::handleButton); 5.3 å®šä¹‰å’Œå®ç°ä¿¡å·ä¸æ§½5.3.1 å®šä¹‰ä¿¡å·å’Œæ§½åœ¨Qtä¸­ï¼Œä¿¡å·å’Œæ§½æ˜¯é€šè¿‡signalså’Œslotså…³é”®å­—åœ¨ç±»ä¸­å£°æ˜çš„ã€‚éœ€è¦ç»§æ‰¿è‡ªQObjectå¹¶ä½¿ç”¨Q_OBJECTå®ã€‚ ç¤ºä¾‹ï¼š 12345678910111213141516171819202122#include &lt;QMainWindow&gt;#include &lt;QPushButton&gt;#include &lt;QLabel&gt;class MainWindow : public QMainWindow&#123; Q_OBJECTpublic: MainWindow(QWidget *parent = nullptr);signals: void mySignal(int value);public slots: void handleButton(); void updateLabel(int value);private: QPushButton *button; QLabel *label;&#125;; 5.3.2 å®ç°æ§½å‡½æ•°åœ¨ç±»çš„å®ç°æ–‡ä»¶ä¸­ï¼Œå®ç°æ§½å‡½æ•°å’Œå…¶ä»–æˆå‘˜å‡½æ•°ã€‚ ç¤ºä¾‹ï¼š 12345678910111213141516171819202122#include &quot;mainwindow.h&quot;MainWindow::MainWindow(QWidget *parent) : QMainWindow(parent)&#123; button = new QPushButton(&quot;ç‚¹å‡»æˆ‘&quot;, this); label = new QLabel(&quot;åˆå§‹æ–‡æœ¬&quot;, this); label-&gt;move(0, 50); connect(button, &amp;QPushButton::clicked, this, &amp;MainWindow::handleButton); connect(this, &amp;MainWindow::mySignal, this, &amp;MainWindow::updateLabel);&#125;void MainWindow::handleButton()&#123; emit mySignal(42); // å‘å‡ºä¿¡å·&#125;void MainWindow::updateLabel(int value)&#123; label-&gt;setText(QString(&quot;ä¿¡å·ä¼ é€’çš„å€¼: %1&quot;).arg(value));&#125; è§£é‡Šï¼š å½“æŒ‰é’®è¢«ç‚¹å‡»æ—¶ï¼ŒhandleButtonæ§½å‡½æ•°è¢«è°ƒç”¨ï¼Œå‘å‡ºmySignalä¿¡å·ã€‚ mySignalä¿¡å·æºå¸¦ä¸€ä¸ªæ•´æ•°å‚æ•°42ï¼Œè¢«updateLabelæ§½å‡½æ•°æ¥æ”¶å¹¶æ›´æ–°æ ‡ç­¾æ–‡æœ¬ã€‚ 5.4 ä¿¡å·ä¸æ§½çš„é«˜çº§ç”¨æ³•5.4.1 å¸¦å‚æ•°çš„ä¿¡å·ä¸æ§½ä¿¡å·å’Œæ§½å¯ä»¥æºå¸¦å‚æ•°ï¼Œå®ç°æ›´å¤æ‚çš„æ•°æ®ä¼ é€’ã€‚ ç¤ºä¾‹ï¼š 12345signals: void dataReceived(const QString &amp;data);public slots: void processData(const QString &amp;data); è¿æ¥ä¸ä½¿ç”¨ï¼š 1connect(sender, &amp;SenderClass::dataReceived, receiver, &amp;ReceiverClass::processData); 5.4.2 å¤šä¸ªæ§½è¿æ¥åˆ°åŒä¸€ä¸ªä¿¡å·ä¸€ä¸ªä¿¡å·å¯ä»¥è¿æ¥åˆ°å¤šä¸ªæ§½å‡½æ•°ï¼Œæ‰€æœ‰æ§½éƒ½ä¼šè¢«ä¾æ¬¡è°ƒç”¨ã€‚ ç¤ºä¾‹ï¼š 12connect(button, &amp;QPushButton::clicked, this, &amp;MainWindow::slotOne);connect(button, &amp;QPushButton::clicked, this, &amp;MainWindow::slotTwo); 5.4.3 ä½¿ç”¨Lambdaè¡¨è¾¾å¼ä½œä¸ºæ§½Qtå…è®¸ä½¿ç”¨lambdaè¡¨è¾¾å¼ä½œä¸ºæ§½å‡½æ•°ï¼Œå®ç°æ›´çµæ´»çš„ä¿¡å·å¤„ç†ã€‚ ç¤ºä¾‹ï¼š 123connect(button, &amp;QPushButton::clicked, this, [=]() &#123; label-&gt;setText(&quot;æŒ‰é’®è¢«ç‚¹å‡»ï¼&quot;);&#125;); 5.5 ä¿¡å·ä¸æ§½çš„æœ€ä½³å®è·µ ä½¿ç”¨æ–°çš„è¿æ¥è¯­æ³•ï¼šåŸºäºå‡½æ•°æŒ‡é’ˆçš„è¿æ¥è¯­æ³•æä¾›äº†ç±»å‹å®‰å…¨ï¼Œå‡å°‘è¿è¡Œæ—¶é”™è¯¯ã€‚ ä¿æŒæ§½å‡½æ•°ç®€æ´ï¼šæ§½å‡½æ•°åº”ä¸“æ³¨äºå¤„ç†ä¿¡å·ä¼ é€’çš„æ•°æ®ï¼Œé¿å…æ‰§è¡Œå¤æ‚çš„é€»è¾‘ã€‚ é¿å…å¾ªç¯å¼•ç”¨ï¼šåœ¨å¯¹è±¡é—´å­˜åœ¨åŒå‘è¿æ¥æ—¶ï¼Œä½¿ç”¨QObject::deleteLateræˆ–weak_ptré¿å…å¾ªç¯å¼•ç”¨å¯¼è‡´çš„å†…å­˜æ³„æ¼ã€‚ åˆ©ç”¨Lambdaè¡¨è¾¾å¼ï¼šå¯¹äºç®€å•çš„ä¿¡å·å¤„ç†é€»è¾‘ï¼Œä½¿ç”¨lambdaè¡¨è¾¾å¼å¯ä»¥å‡å°‘ä»£ç é‡ï¼Œæé«˜å¯è¯»æ€§ã€‚ 6. Qtå­—ç¬¦ä¸²ã€æ•°æ®ç±»å‹ä¸å®¹å™¨ç±»Qtæä¾›äº†ä¸°å¯Œçš„å­—ç¬¦ä¸²ç±»ã€æ•°æ®ç±»å‹å’Œå®¹å™¨ç±»ï¼Œä¸“ä¸ºé«˜æ•ˆçš„è·¨å¹³å°å¼€å‘è®¾è®¡ã€‚è¿™äº›ç±»åœ¨å¤„ç†æ–‡æœ¬ã€æ•°æ®å­˜å‚¨å’Œç®¡ç†æ—¶ï¼Œæä¾›äº†å¼ºå¤§çš„åŠŸèƒ½å’Œä¾¿åˆ©æ€§ã€‚ 6.1 QStringç±»QStringæ˜¯Qtä¸­ç”¨äºå¤„ç†Unicodeå­—ç¬¦ä¸²çš„ç±»ï¼Œæä¾›äº†ä¸°å¯Œçš„å­—ç¬¦ä¸²æ“ä½œåŠŸèƒ½ã€‚ 6.1.1 åŸºæœ¬ç”¨æ³•ç¤ºä¾‹ï¼šåˆ›å»ºå’Œæ“ä½œQString 12345678910111213141516171819202122232425262728#include &lt;QCoreApplication&gt;#include &lt;QString&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); // åˆ›å»ºQStringå¯¹è±¡ QString str1 = &quot;Hello, Qt!&quot;; QString str2(&quot;C++11&quot;); // å­—ç¬¦ä¸²æ‹¼æ¥ QString combined = str1 + &quot; &quot; + str2; qDebug() &lt;&lt; combined; // è¾“å‡º: &quot;Hello, Qt! C++11&quot; // å­—ç¬¦ä¸²é•¿åº¦ qDebug() &lt;&lt; &quot;å­—ç¬¦ä¸²é•¿åº¦:&quot; &lt;&lt; combined.length(); // è¾“å‡º: 15 // æŸ¥æ‰¾å­å­—ç¬¦ä¸² int index = combined.indexOf(&quot;Qt&quot;); qDebug() &lt;&lt; &quot;Qtçš„ä½ç½®:&quot; &lt;&lt; index; // è¾“å‡º: 7 // æ›¿æ¢å­å­—ç¬¦ä¸² combined.replace(&quot;Qt&quot;, &quot;Qt Framework&quot;); qDebug() &lt;&lt; combined; // è¾“å‡º: &quot;Hello, Qt Framework C++11&quot; return a.exec();&#125; 6.1.2 å¸¸ç”¨å‡½æ•° **toUpper() &#x2F; toLower()**ï¼šè½¬æ¢å­—ç¬¦ä¸²ä¸ºå…¨å¤§å†™æˆ–å…¨å°å†™ã€‚ **split()**ï¼šæŒ‰æŒ‡å®šåˆ†éš”ç¬¦åˆ†å‰²å­—ç¬¦ä¸²ï¼Œè¿”å›QStringListã€‚ **arg()**ï¼šæ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œæ›¿æ¢å ä½ç¬¦ã€‚ **contains()**ï¼šæ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«æŒ‡å®šå­å­—ç¬¦ä¸²ã€‚ **startsWith() &#x2F; endsWith()**ï¼šæ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šå­å­—ç¬¦ä¸²å¼€å§‹æˆ–ç»“æŸã€‚ ç¤ºä¾‹ï¼š 1234567891011121314151617QString greeting = &quot;Hello, World!&quot;;qDebug() &lt;&lt; greeting.toUpper(); // è¾“å‡º: &quot;HELLO, WORLD!&quot;qDebug() &lt;&lt; greeting.toLower(); // è¾“å‡º: &quot;hello, world!&quot;QStringList words = greeting.split(&quot;, &quot;);for(const QString&amp; word : words) &#123; qDebug() &lt;&lt; word;&#125;// è¾“å‡º:// &quot;Hello&quot;// &quot;World!&quot;QString templateStr = &quot;My name is %1 and I am %2 years old.&quot;;QString name = &quot;Alice&quot;;int age = 30;QString formatted = templateStr.arg(name).arg(age);qDebug() &lt;&lt; formatted; // è¾“å‡º: &quot;My name is Alice and I am 30 years old.&quot; 6.2 QByteArrayç±»QByteArrayç”¨äºå¤„ç†å­—èŠ‚æ•°ç»„ï¼Œé€‚ç”¨äºäºŒè¿›åˆ¶æ•°æ®å’ŒåŸå§‹æ•°æ®å¤„ç†ã€‚ 6.2.1 åŸºæœ¬ç”¨æ³•ç¤ºä¾‹ï¼šåˆ›å»ºå’Œæ“ä½œQByteArray 12345678910111213141516171819202122232425262728#include &lt;QCoreApplication&gt;#include &lt;QByteArray&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); // åˆ›å»ºQByteArrayå¯¹è±¡ QByteArray byteArray1 = &quot;Hello, QByteArray!&quot;; QByteArray byteArray2(&quot;BinaryData&quot;); // å­—èŠ‚æ•°ç»„æ‹¼æ¥ QByteArray combined = byteArray1 + &quot; &quot; + byteArray2; qDebug() &lt;&lt; combined; // è¾“å‡º: &quot;Hello, QByteArray! BinaryData&quot; // è·å–å­—èŠ‚æ•°ç»„é•¿åº¦ qDebug() &lt;&lt; &quot;å­—èŠ‚æ•°ç»„é•¿åº¦:&quot; &lt;&lt; combined.size(); // è¾“å‡º: 28 // æŸ¥æ‰¾å­å­—èŠ‚æ•°ç»„ int index = combined.indexOf(&quot;QByteArray&quot;); qDebug() &lt;&lt; &quot;QByteArrayçš„ä½ç½®:&quot; &lt;&lt; index; // è¾“å‡º: 7 // æ›¿æ¢å­å­—èŠ‚æ•°ç»„ combined.replace(&quot;QByteArray&quot;, &quot;ByteArray&quot;); qDebug() &lt;&lt; combined; // è¾“å‡º: &quot;Hello, ByteArray! BinaryData&quot; return a.exec();&#125; 6.2.2 å¸¸ç”¨å‡½æ•° **append() &#x2F; prepend()**ï¼šåœ¨å­—èŠ‚æ•°ç»„æœ«å°¾æˆ–å¼€å¤´æ·»åŠ æ•°æ®ã€‚ **mid()**ï¼šæå–å­—èŠ‚æ•°ç»„çš„ä¸€éƒ¨åˆ†ã€‚ **left() &#x2F; right()**ï¼šæå–å­—èŠ‚æ•°ç»„å·¦è¾¹æˆ–å³è¾¹çš„ä¸€éƒ¨åˆ†ã€‚ **toHex() &#x2F; fromHex()**ï¼šè¿›è¡Œåå…­è¿›åˆ¶ç¼–ç å’Œè§£ç ã€‚ **contains()**ï¼šæ£€æŸ¥å­—èŠ‚æ•°ç»„æ˜¯å¦åŒ…å«æŒ‡å®šå­æ•°ç»„ã€‚ ç¤ºä¾‹ï¼š 1234567891011121314151617QByteArray data = &quot;SampleData&quot;;// æ·»åŠ æ•°æ®data.append(&quot;123&quot;);data.prepend(&quot;Start-&quot;);qDebug() &lt;&lt; data; // è¾“å‡º: &quot;Start-SampleData123&quot;// æå–ä¸­é—´éƒ¨åˆ†QByteArray midData = data.mid(6, 10);qDebug() &lt;&lt; midData; // è¾“å‡º: &quot;SampleData&quot;// åå…­è¿›åˆ¶è½¬æ¢QByteArray hexData = data.toHex();qDebug() &lt;&lt; hexData; // è¾“å‡º: &quot;53746172742d53616d706c6544617461313233&quot;QByteArray originalData = QByteArray::fromHex(hexData);qDebug() &lt;&lt; originalData; // è¾“å‡º: &quot;Start-SampleData123&quot; 6.3 Qtå®¹å™¨ç±»Qtæä¾›äº†å¤šç§é«˜æ•ˆçš„å®¹å™¨ç±»ï¼Œç”¨äºå­˜å‚¨å’Œç®¡ç†æ•°æ®ã€‚è¿™äº›å®¹å™¨ç±»åŒ…æ‹¬QListã€QVectorã€QMapã€QHashç­‰ï¼Œé€‚ç”¨äºä¸åŒçš„æ•°æ®å­˜å‚¨éœ€æ±‚ã€‚ 6.3.1 QListç±»QListæ˜¯ä¸€ä¸ªæ³›å‹å®¹å™¨ç±»ï¼Œæä¾›äº†åˆ—è¡¨ï¼ˆåŒå‘é“¾è¡¨ï¼‰æ•°æ®ç»“æ„ï¼Œæ”¯æŒå¿«é€Ÿçš„æ’å…¥å’Œåˆ é™¤æ“ä½œï¼Œé€‚ç”¨äºéœ€è¦é¢‘ç¹ä¿®æ”¹æ•°æ®çš„åœºæ™¯ã€‚ ç¤ºä¾‹ï¼š 12345678910111213141516171819202122232425262728293031323334#include &lt;QCoreApplication&gt;#include &lt;QList&gt;#include &lt;QString&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); // åˆ›å»ºQListå¯¹è±¡ QList&lt;QString&gt; fruits; fruits &lt;&lt; &quot;Apple&quot; &lt;&lt; &quot;Banana&quot; &lt;&lt; &quot;Cherry&quot;; // éå†QList qDebug() &lt;&lt; &quot;æ°´æœåˆ—è¡¨:&quot;; for(const QString&amp; fruit : fruits) &#123; qDebug() &lt;&lt; fruit; &#125; // æ’å…¥å…ƒç´  fruits.insert(1, &quot;Blueberry&quot;); qDebug() &lt;&lt; &quot;æ’å…¥å:&quot;; for(const QString&amp; fruit : fruits) &#123; qDebug() &lt;&lt; fruit; &#125; // åˆ é™¤å…ƒç´  fruits.removeAt(2); qDebug() &lt;&lt; &quot;åˆ é™¤å:&quot;; for(const QString&amp; fruit : fruits) &#123; qDebug() &lt;&lt; fruit; &#125; return a.exec();&#125; 6.3.2 QLinkedListç±»QLinkedListæ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨å®¹å™¨ï¼Œæä¾›äº†ä¸QListç±»ä¼¼çš„æ¥å£ï¼Œä½†åœ¨æŸäº›æ“ä½œä¸Šæ€§èƒ½æ›´ä¼˜ï¼Œå¦‚åœ¨åˆ—è¡¨ä¸­é—´æ’å…¥å’Œåˆ é™¤å…ƒç´ ã€‚ ç¤ºä¾‹ï¼š 12345678910111213141516171819202122232425262728293031323334#include &lt;QCoreApplication&gt;#include &lt;QLinkedList&gt;#include &lt;QString&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); // åˆ›å»ºQLinkedListå¯¹è±¡ QLinkedList&lt;QString&gt; animals; animals &lt;&lt; &quot;Cat&quot; &lt;&lt; &quot;Dog&quot; &lt;&lt; &quot;Elephant&quot;; // éå†QLinkedList qDebug() &lt;&lt; &quot;åŠ¨ç‰©åˆ—è¡¨:&quot;; for(const QString&amp; animal : animals) &#123; qDebug() &lt;&lt; animal; &#125; // æ’å…¥å…ƒç´  animals.insert(1, &quot;Lion&quot;); qDebug() &lt;&lt; &quot;æ’å…¥å:&quot;; for(const QString&amp; animal : animals) &#123; qDebug() &lt;&lt; animal; &#125; // åˆ é™¤å…ƒç´  animals.removeOne(&quot;Dog&quot;); qDebug() &lt;&lt; &quot;åˆ é™¤å:&quot;; for(const QString&amp; animal : animals) &#123; qDebug() &lt;&lt; animal; &#125; return a.exec();&#125; 6.3.3 QVectorç±»QVectoræ˜¯ä¸€ä¸ªåŠ¨æ€æ•°ç»„å®¹å™¨ï¼Œæä¾›äº†ä¸std::vectorç±»ä¼¼çš„åŠŸèƒ½ï¼Œæ”¯æŒå¿«é€Ÿçš„éšæœºè®¿é—®å’Œé«˜æ•ˆçš„å°¾éƒ¨æ’å…¥æ“ä½œï¼Œé€‚ç”¨äºéœ€è¦é¢‘ç¹è®¿é—®å…ƒç´ çš„åœºæ™¯ã€‚ ç¤ºä¾‹ï¼š 12345678910111213141516171819202122232425262728293031323334#include &lt;QCoreApplication&gt;#include &lt;QVector&gt;#include &lt;QString&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); // åˆ›å»ºQVectorå¯¹è±¡ QVector&lt;int&gt; numbers = &#123;1, 2, 3, 4, 5&#125;; // éå†QVector qDebug() &lt;&lt; &quot;æ•°å­—åˆ—è¡¨:&quot;; for(int num : numbers) &#123; qDebug() &lt;&lt; num; &#125; // æ·»åŠ å…ƒç´  numbers.append(6); numbers.prepend(0); qDebug() &lt;&lt; &quot;æ·»åŠ å:&quot;; for(int num : numbers) &#123; qDebug() &lt;&lt; num; &#125; // ä¿®æ”¹å…ƒç´  numbers[3] = 10; qDebug() &lt;&lt; &quot;ä¿®æ”¹å:&quot;; for(int num : numbers) &#123; qDebug() &lt;&lt; num; &#125; return a.exec();&#125; 6.3.4 QMapç±»ä¸QHashç±»QMapå’ŒQHashæ˜¯å…³è”å®¹å™¨ï¼Œç”¨äºå­˜å‚¨é”®å€¼å¯¹æ•°æ®ã€‚å…¶ä¸­ï¼ŒQMapåŸºäºçº¢é»‘æ ‘å®ç°ï¼Œå…ƒç´ æœ‰åºå­˜å‚¨ï¼Œé€‚ç”¨äºéœ€è¦æœ‰åºæ•°æ®çš„åœºæ™¯ï¼›QHashåŸºäºå“ˆå¸Œè¡¨å®ç°ï¼Œå…ƒç´ æ— åºå­˜å‚¨ï¼Œæä¾›æ›´é«˜çš„æŸ¥æ‰¾æ•ˆç‡ï¼Œé€‚ç”¨äºéœ€è¦å¿«é€ŸæŸ¥æ‰¾çš„åœºæ™¯ã€‚ QMapç¤ºä¾‹ï¼š 12345678910111213141516171819202122232425262728293031323334#include &lt;QCoreApplication&gt;#include &lt;QMap&gt;#include &lt;QString&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); // åˆ›å»ºQMapå¯¹è±¡ QMap&lt;QString, int&gt; ageMap; ageMap[&quot;Alice&quot;] = 30; ageMap[&quot;Bob&quot;] = 25; ageMap[&quot;Charlie&quot;] = 35; // éå†QMap qDebug() &lt;&lt; &quot;å¹´é¾„æ˜ å°„:&quot;; for(auto it = ageMap.begin(); it != ageMap.end(); ++it) &#123; qDebug() &lt;&lt; it.key() &lt;&lt; &quot;:&quot; &lt;&lt; it.value(); &#125; // æŸ¥æ‰¾å…ƒç´  if(ageMap.contains(&quot;Bob&quot;)) &#123; qDebug() &lt;&lt; &quot;Bobçš„å¹´é¾„æ˜¯&quot; &lt;&lt; ageMap[&quot;Bob&quot;]; &#125; // åˆ é™¤å…ƒç´  ageMap.remove(&quot;Charlie&quot;); qDebug() &lt;&lt; &quot;åˆ é™¤å:&quot;; for(auto it = ageMap.begin(); it != ageMap.end(); ++it) &#123; qDebug() &lt;&lt; it.key() &lt;&lt; &quot;:&quot; &lt;&lt; it.value(); &#125; return a.exec();&#125; QHashç¤ºä¾‹ï¼š 12345678910111213141516171819202122232425262728293031323334#include &lt;QCoreApplication&gt;#include &lt;QHash&gt;#include &lt;QString&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); // åˆ›å»ºQHashå¯¹è±¡ QHash&lt;QString, double&gt; priceMap; priceMap.insert(&quot;Apple&quot;, 1.99); priceMap.insert(&quot;Banana&quot;, 0.99); priceMap.insert(&quot;Cherry&quot;, 2.99); // éå†QHash qDebug() &lt;&lt; &quot;ä»·æ ¼æ˜ å°„:&quot;; for(auto it = priceMap.begin(); it != priceMap.end(); ++it) &#123; qDebug() &lt;&lt; it.key() &lt;&lt; &quot;:&quot; &lt;&lt; it.value(); &#125; // æŸ¥æ‰¾å…ƒç´  if(priceMap.contains(&quot;Cherry&quot;)) &#123; qDebug() &lt;&lt; &quot;Cherryçš„ä»·æ ¼æ˜¯&quot; &lt;&lt; priceMap.value(&quot;Cherry&quot;); &#125; // åˆ é™¤å…ƒç´  priceMap.remove(&quot;Banana&quot;); qDebug() &lt;&lt; &quot;åˆ é™¤å:&quot;; for(auto it = priceMap.begin(); it != priceMap.end(); ++it) &#123; qDebug() &lt;&lt; it.key() &lt;&lt; &quot;:&quot; &lt;&lt; it.value(); &#125; return a.exec();&#125; 6.4 QVariantç±»åº”ç”¨QVariantæ˜¯Qtæä¾›çš„ä¸€ä¸ªé€šç”¨æ•°æ®ç±»å‹ï¼Œç”¨äºå­˜å‚¨ä»»æ„ç±»å‹çš„æ•°æ®ã€‚å®ƒç±»ä¼¼äºC++ä¸­çš„std::variantï¼Œä½†æ›´æ—©åœ¨Qtæ¡†æ¶ä¸­å¾—åˆ°å¹¿æ³›åº”ç”¨ã€‚QVariantåœ¨éœ€è¦å­˜å‚¨ä¸åŒç±»å‹æ•°æ®çš„åœºæ™¯ä¸­éå¸¸æœ‰ç”¨ï¼Œå¦‚æ•°æ®åº“æ“ä½œã€æ¨¡å‹è§†å›¾ç¼–ç¨‹ç­‰ã€‚ 6.4.1 åŸºæœ¬ç”¨æ³•ç¤ºä¾‹ï¼šå­˜å‚¨å’Œè½¬æ¢ä¸åŒç±»å‹çš„æ•°æ® 12345678910111213141516171819202122232425262728293031323334353637383940#include &lt;QCoreApplication&gt;#include &lt;QVariant&gt;#include &lt;QString&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); // åˆ›å»ºQVariantå¯¹è±¡å¹¶å­˜å‚¨ä¸åŒç±»å‹çš„æ•°æ® QVariant var1 = 42; // å­˜å‚¨æ•´æ•° QVariant var2 = 3.14; // å­˜å‚¨æµ®ç‚¹æ•° QVariant var3 = QString(&quot;Hello, QVariant!&quot;); // å­˜å‚¨QString // è®¿é—®å’Œè½¬æ¢æ•°æ® if(var1.canConvert&lt;int&gt;()) &#123; int intValue = var1.toInt(); qDebug() &lt;&lt; &quot;æ•´æ•°å€¼:&quot; &lt;&lt; intValue; &#125; if(var2.canConvert&lt;double&gt;()) &#123; double doubleValue = var2.toDouble(); qDebug() &lt;&lt; &quot;æµ®ç‚¹æ•°å€¼:&quot; &lt;&lt; doubleValue; &#125; if(var3.canConvert&lt;QString&gt;()) &#123; QString strValue = var3.toString(); qDebug() &lt;&lt; &quot;å­—ç¬¦ä¸²å€¼:&quot; &lt;&lt; strValue; &#125; // QVariantä¸è‡ªå®šä¹‰ç±»å‹çš„ç»“åˆ QVariant var4; var4.setValue(QPoint(10, 20)); // å­˜å‚¨QPointå¯¹è±¡ if(var4.canConvert&lt;QPoint&gt;()) &#123; QPoint point = var4.value&lt;QPoint&gt;(); qDebug() &lt;&lt; &quot;QPoint:&quot; &lt;&lt; point; &#125; return a.exec();&#125; è¾“å‡ºï¼š 1234æ•´æ•°å€¼: 42æµ®ç‚¹æ•°å€¼: 3.14å­—ç¬¦ä¸²å€¼: &quot;Hello, QVariant!&quot;QPoint: QPoint(10,20) 6.4.2 å¸¸ç”¨å‡½æ•° **canConvert()**ï¼šæ£€æŸ¥æ˜¯å¦å¯ä»¥è½¬æ¢ä¸ºæŒ‡å®šç±»å‹ã€‚ **to()**ï¼šè½¬æ¢ä¸ºæŒ‡å®šç±»å‹ï¼Œç±»ä¼¼äºstatic_castã€‚ **value()**ï¼šè·å–å­˜å‚¨çš„å€¼ï¼Œç±»å‹ä¸ºTã€‚ **setValue()**ï¼šå­˜å‚¨æŒ‡å®šç±»å‹çš„å€¼ã€‚ **typeName()**ï¼šè·å–å½“å‰å­˜å‚¨å€¼çš„ç±»å‹åç§°ã€‚ ç¤ºä¾‹ï¼š 12345678QVariant var = &quot;Sample Text&quot;;if(var.canConvert&lt;QString&gt;()) &#123; QString text = var.toString(); qDebug() &lt;&lt; &quot;è½¬æ¢ä¸ºQString:&quot; &lt;&lt; text;&#125;qDebug() &lt;&lt; &quot;å­˜å‚¨ç±»å‹:&quot; &lt;&lt; var.typeName(); // è¾“å‡º: &quot;QString&quot; 6.5 æ•°æ®ç±»å‹è½¬æ¢åœ¨Qtä¸­ï¼Œæ•°æ®ç±»å‹è½¬æ¢æ˜¯å¸¸è§æ“ä½œï¼Œå°¤å…¶æ˜¯åœ¨ä¸åŒç±»å‹çš„å®¹å™¨å’Œå‡½æ•°ä¹‹é—´ä¼ é€’æ•°æ®æ—¶ã€‚Qtæä¾›äº†ä¸°å¯Œçš„è½¬æ¢å‡½æ•°ï¼Œæ”¯æŒä»ä¸€ç§ç±»å‹åˆ°å¦ä¸€ç§ç±»å‹çš„é«˜æ•ˆè½¬æ¢ã€‚ 6.5.1 åŸºæœ¬è½¬æ¢ç¤ºä¾‹ï¼šQStringä¸æ ‡å‡†å­—ç¬¦ä¸²çš„è½¬æ¢ 1234567891011121314151617181920#include &lt;QCoreApplication&gt;#include &lt;QString&gt;#include &lt;string&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); // QStringè½¬std::string QString qstr = &quot;Hello, C++!&quot;; std::string stdStr = qstr.toStdString(); qDebug() &lt;&lt; &quot;std::string:&quot; &lt;&lt; QString::fromStdString(stdStr); // std::stringè½¬QString std::string anotherStdStr = &quot;Hello, Qt!&quot;; QString anotherQStr = QString::fromStdString(anotherStdStr); qDebug() &lt;&lt; &quot;QString:&quot; &lt;&lt; anotherQStr; return a.exec();&#125; è¾“å‡ºï¼š 12std::string: &quot;Hello, C++!&quot;QString: &quot;Hello, Qt!&quot; 6.5.2 ç±»å‹å®‰å…¨è½¬æ¢Qtæ¨èä½¿ç”¨QString::arg()è¿›è¡Œå®‰å…¨çš„å­—ç¬¦ä¸²æ ¼å¼åŒ–ï¼Œé¿å…æ‰‹åŠ¨æ‹¼æ¥å­—ç¬¦ä¸²å¯¼è‡´çš„é”™è¯¯ã€‚ ç¤ºä¾‹ï¼š 12345QString templateStr = &quot;My name is %1 and I am %2 years old.&quot;;QString name = &quot;Alice&quot;;int age = 30;QString formatted = templateStr.arg(name).arg(age);qDebug() &lt;&lt; formatted; // è¾“å‡º: &quot;My name is Alice and I am 30 years old.&quot; 6.5.3 æ•°æ®ç±»å‹çš„éšå¼è½¬æ¢Qtä¸­çš„éƒ¨åˆ†æ•°æ®ç±»å‹æ”¯æŒéšå¼è½¬æ¢ï¼Œç®€åŒ–äº†ä»£ç ç¼–å†™ã€‚ä¾‹å¦‚ï¼ŒQVariantæ”¯æŒéšå¼è½¬æ¢ä¸ºå¸¸è§ç±»å‹ã€‚ ç¤ºä¾‹ï¼š 123QVariant var = 100;int value = var; // éšå¼è½¬æ¢ä¸ºintqDebug() &lt;&lt; &quot;å€¼:&quot; &lt;&lt; value; è¾“å‡ºï¼š 1å€¼: 100 6.6 å¸¸ç”¨å®¹å™¨ç±»Qtæä¾›äº†å¤šç§å®¹å™¨ç±»ï¼Œç”¨äºå­˜å‚¨å’Œç®¡ç†ä¸åŒç±»å‹çš„æ•°æ®ã€‚é€‰æ‹©åˆé€‚çš„å®¹å™¨ç±»å¯ä»¥æå‡ç¨‹åºçš„æ€§èƒ½å’Œæ•ˆç‡ã€‚ 6.6.1 QMapç±»ä¸QHashç±»QMapå’ŒQHashç”¨äºå­˜å‚¨é”®å€¼å¯¹æ•°æ®ï¼Œå…·æœ‰ä¸åŒçš„å®ç°å’Œæ€§èƒ½ç‰¹æ€§ã€‚ QMapï¼š åŸºäºçº¢é»‘æ ‘å®ç°ï¼Œå…ƒç´ æœ‰åºå­˜å‚¨ã€‚ æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸ºO(log n)ã€‚ é€‚ç”¨äºéœ€è¦æœ‰åºæ•°æ®çš„åœºæ™¯ã€‚ QHashï¼š åŸºäºå“ˆå¸Œè¡¨å®ç°ï¼Œå…ƒç´ æ— åºå­˜å‚¨ã€‚ æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤æ“ä½œçš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸ºO(1)ã€‚ é€‚ç”¨äºéœ€è¦å¿«é€ŸæŸ¥æ‰¾çš„åœºæ™¯ã€‚ ç¤ºä¾‹ï¼šQMapä¸QHashçš„ä½¿ç”¨ 123456789101112131415161718192021222324252627282930313233#include &lt;QCoreApplication&gt;#include &lt;QMap&gt;#include &lt;QHash&gt;#include &lt;QString&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); // ä½¿ç”¨QMap QMap&lt;QString, int&gt; map; map.insert(&quot;One&quot;, 1); map.insert(&quot;Two&quot;, 2); map.insert(&quot;Three&quot;, 3); qDebug() &lt;&lt; &quot;QMapå†…å®¹:&quot;; for(auto it = map.begin(); it != map.end(); ++it) &#123; qDebug() &lt;&lt; it.key() &lt;&lt; &quot;:&quot; &lt;&lt; it.value(); &#125; // ä½¿ç”¨QHash QHash&lt;QString, int&gt; hash; hash.insert(&quot;One&quot;, 1); hash.insert(&quot;Two&quot;, 2); hash.insert(&quot;Three&quot;, 3); qDebug() &lt;&lt; &quot;QHashå†…å®¹:&quot;; for(auto it = hash.begin(); it != hash.end(); ++it) &#123; qDebug() &lt;&lt; it.key() &lt;&lt; &quot;:&quot; &lt;&lt; it.value(); &#125; return a.exec();&#125; è¾“å‡ºï¼š 12345678QMapå†…å®¹:&quot;One&quot; : 1&quot;Three&quot; : 3&quot;Two&quot; : 2QHashå†…å®¹:&quot;Three&quot; : 3&quot;One&quot; : 1&quot;Two&quot; : 2 è§£é‡Šï¼š QMapä¸­çš„å…ƒç´ æŒ‰é”®æœ‰åºå­˜å‚¨ã€‚ QHashä¸­çš„å…ƒç´ æ— åºå­˜å‚¨ï¼Œé¡ºåºå¯èƒ½ä¸åŒã€‚ 6.6.2 QListç±»ä¸QLinkedListç±»QListå’ŒQLinkedListéƒ½æ˜¯åˆ—è¡¨å®¹å™¨ï¼Œä½†åœ¨å®ç°å’Œæ€§èƒ½ä¸Šæœ‰æ‰€ä¸åŒã€‚ QListï¼š åŸºäºåŠ¨æ€æ•°ç»„å®ç°ï¼Œæ”¯æŒå¿«é€Ÿçš„éšæœºè®¿é—®ã€‚ åœ¨åˆ—è¡¨æœ«å°¾çš„æ’å…¥å’Œåˆ é™¤æ“ä½œæ•ˆç‡é«˜ã€‚ é€‚ç”¨äºéœ€è¦é¢‘ç¹è®¿é—®å…ƒç´ ä½†ä¸éœ€è¦é¢‘ç¹ä¸­é—´æ’å…¥å’Œåˆ é™¤çš„åœºæ™¯ã€‚ QLinkedListï¼š åŸºäºåŒå‘é“¾è¡¨å®ç°ï¼Œæ”¯æŒé«˜æ•ˆçš„ä¸­é—´æ’å…¥å’Œåˆ é™¤æ“ä½œã€‚ ä¸æ”¯æŒéšæœºè®¿é—®ï¼Œéå†å…ƒç´ éœ€è¦çº¿æ€§æ—¶é—´ã€‚ é€‚ç”¨äºéœ€è¦é¢‘ç¹åœ¨åˆ—è¡¨ä¸­é—´æ’å…¥å’Œåˆ é™¤å…ƒç´ çš„åœºæ™¯ã€‚ ç¤ºä¾‹ï¼šQListä¸QLinkedListçš„å¯¹æ¯” 123456789101112131415161718192021222324252627282930313233343536373839404142434445#include &lt;QCoreApplication&gt;#include &lt;QList&gt;#include &lt;QLinkedList&gt;#include &lt;QString&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); // ä½¿ç”¨QList QList&lt;QString&gt; list; list &lt;&lt; &quot;Apple&quot; &lt;&lt; &quot;Banana&quot; &lt;&lt; &quot;Cherry&quot;; qDebug() &lt;&lt; &quot;QListå†…å®¹:&quot;; for(const QString&amp; fruit : list) &#123; qDebug() &lt;&lt; fruit; &#125; // åœ¨QListä¸­é—´æ’å…¥å…ƒç´  list.insert(1, &quot;Blueberry&quot;); qDebug() &lt;&lt; &quot;QListæ’å…¥å:&quot;; for(const QString&amp; fruit : list) &#123; qDebug() &lt;&lt; fruit; &#125; // ä½¿ç”¨QLinkedList QLinkedList&lt;QString&gt; linkedList; linkedList &lt;&lt; &quot;Dog&quot; &lt;&lt; &quot;Elephant&quot; &lt;&lt; &quot;Frog&quot;; qDebug() &lt;&lt; &quot;QLinkedListå†…å®¹:&quot;; for(const QString&amp; animal : linkedList) &#123; qDebug() &lt;&lt; animal; &#125; // åœ¨QLinkedListä¸­é—´æ’å…¥å…ƒç´  auto it = linkedList.begin(); std::advance(it, 1); linkedList.insert(it, &quot;Lion&quot;); qDebug() &lt;&lt; &quot;QLinkedListæ’å…¥å:&quot;; for(const QString&amp; animal : linkedList) &#123; qDebug() &lt;&lt; animal; &#125; return a.exec();&#125; è¾“å‡ºï¼š 123456789101112131415161718QListå†…å®¹:&quot;Apple&quot;&quot;Banana&quot;&quot;Cherry&quot;QListæ’å…¥å:&quot;Apple&quot;&quot;Blueberry&quot;&quot;Banana&quot;&quot;Cherry&quot;QLinkedListå†…å®¹:&quot;Dog&quot;&quot;Elephant&quot;&quot;Frog&quot;QLinkedListæ’å…¥å:&quot;Dog&quot;&quot;Lion&quot;&quot;Elephant&quot;&quot;Frog&quot; è§£é‡Šï¼š QListæ”¯æŒé€šè¿‡ç´¢å¼•å¿«é€Ÿè®¿é—®å’Œæ’å…¥å…ƒç´ ã€‚ QLinkedListé€‚ç”¨äºåœ¨åˆ—è¡¨ä¸­é—´é«˜æ•ˆæ’å…¥å’Œåˆ é™¤å…ƒç´ ï¼Œä½†ä¸æ”¯æŒé€šè¿‡ç´¢å¼•å¿«é€Ÿè®¿é—®ã€‚ 6.6.3 QVariantç±»çš„æ·±å…¥åº”ç”¨QVariantä½œä¸ºä¸€ä¸ªé€šç”¨æ•°æ®ç±»å‹ï¼Œå¯ä»¥å­˜å‚¨å¤šç§ä¸åŒç±»å‹çš„æ•°æ®ï¼Œéå¸¸é€‚åˆåœ¨ä¸ç¡®å®šæ•°æ®ç±»å‹çš„åœºæ™¯ä¸‹ä½¿ç”¨ã€‚ 6.6.3.1 å­˜å‚¨å’Œæ£€ç´¢æ•°æ®ç¤ºä¾‹ï¼š 123456789101112131415161718192021222324252627282930#include &lt;QCoreApplication&gt;#include &lt;QVariant&gt;#include &lt;QString&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); QVariant var1 = 100; // å­˜å‚¨æ•´æ•° QVariant var2 = 3.14; // å­˜å‚¨æµ®ç‚¹æ•° QVariant var3 = QString(&quot;Qt Framework&quot;); // å­˜å‚¨QString // æ£€æŸ¥ç±»å‹å¹¶è½¬æ¢ if(var1.canConvert&lt;int&gt;()) &#123; int intValue = var1.toInt(); qDebug() &lt;&lt; &quot;æ•´æ•°å€¼:&quot; &lt;&lt; intValue; &#125; if(var2.canConvert&lt;double&gt;()) &#123; double doubleValue = var2.toDouble(); qDebug() &lt;&lt; &quot;æµ®ç‚¹æ•°å€¼:&quot; &lt;&lt; doubleValue; &#125; if(var3.canConvert&lt;QString&gt;()) &#123; QString strValue = var3.toString(); qDebug() &lt;&lt; &quot;å­—ç¬¦ä¸²å€¼:&quot; &lt;&lt; strValue; &#125; return a.exec();&#125; 6.6.3.2 ä½¿ç”¨QVariantä¸è‡ªå®šä¹‰ç±»å‹QVariantå¯ä»¥å­˜å‚¨è‡ªå®šä¹‰ç±»å‹ï¼Œä½†éœ€è¦ä½¿ç”¨Q_DECLARE_METATYPEè¿›è¡Œå£°æ˜ã€‚ ç¤ºä¾‹ï¼š 123456789101112131415161718192021222324252627282930313233#include &lt;QCoreApplication&gt;#include &lt;QVariant&gt;#include &lt;QString&gt;#include &lt;QDebug&gt;// è‡ªå®šä¹‰ç±»å‹struct Point &#123; int x; int y;&#125;;// å£°æ˜å…ƒç±»å‹Q_DECLARE_METATYPE(Point)int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); // æ³¨å†Œè‡ªå®šä¹‰ç±»å‹ qRegisterMetaType&lt;Point&gt;(&quot;Point&quot;); // å­˜å‚¨è‡ªå®šä¹‰ç±»å‹åˆ°QVariant Point p = &#123;10, 20&#125;; QVariant var; var.setValue(p); // æ£€æŸ¥å¹¶æå–è‡ªå®šä¹‰ç±»å‹ if(var.canConvert&lt;Point&gt;()) &#123; Point extracted = var.value&lt;Point&gt;(); qDebug() &lt;&lt; &quot;Point:&quot; &lt;&lt; extracted.x &lt;&lt; &quot;,&quot; &lt;&lt; extracted.y; &#125; return a.exec();&#125; è¾“å‡ºï¼š 1Point: 10 , 20 è§£é‡Šï¼š ä½¿ç”¨Q_DECLARE_METATYPEå£°æ˜è‡ªå®šä¹‰ç±»å‹ï¼Œä½¿å…¶å¯ä»¥ä¸QVarianté…åˆä½¿ç”¨ã€‚ ä½¿ç”¨qRegisterMetaTypeæ³¨å†Œç±»å‹ï¼Œç¡®ä¿åœ¨ä¿¡å·ä¸æ§½ç­‰Qtæœºåˆ¶ä¸­æ­£å¸¸ä½¿ç”¨ã€‚ 7. å­—ç¬¦ä¸²ç±»åº”ç”¨ä¸å¸¸è§æ•°æ®ç±»å‹åœ¨Qtå¼€å‘ä¸­ï¼Œå­—ç¬¦ä¸²å¤„ç†æ˜¯éå¸¸å¸¸è§çš„ä»»åŠ¡ã€‚Qtæä¾›äº†QStringå’ŒQByteArrayç­‰å­—ç¬¦ä¸²ç±»ï¼Œè¿™äº›ç±»ä¸ä»…æ”¯æŒUnicodeå­—ç¬¦ï¼Œè¿˜æä¾›äº†ä¸°å¯Œçš„æ“ä½œå‡½æ•°ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒQtè¿˜æ”¯æŒä¸æ ‡å‡†C++æ•°æ®ç±»å‹ä¹‹é—´çš„é«˜æ•ˆè½¬æ¢ï¼Œä½¿å¾—åœ¨ä¸åŒç±»å‹çš„æ•°æ®å¤„ç†ä¹‹é—´åˆ‡æ¢æ›´åŠ ä¾¿æ·ã€‚ 7.1 QStringç±»çš„é«˜çº§åº”ç”¨QStringä¸ä»…æ”¯æŒåŸºæœ¬çš„å­—ç¬¦ä¸²æ“ä½œï¼Œè¿˜æä¾›äº†è¯¸å¦‚æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ã€å­—ç¬¦ä¸²åˆ†å‰²ä¸æ‹¼æ¥ã€å¤§å°å†™è½¬æ¢ç­‰é«˜çº§åŠŸèƒ½ã€‚ 7.1.1 æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…åˆ©ç”¨QStringä¸QRegularExpressionç»“åˆï¼Œå¯ä»¥æ–¹ä¾¿åœ°è¿›è¡Œå¤æ‚çš„å­—ç¬¦ä¸²åŒ¹é…å’Œæå–æ“ä½œã€‚ ç¤ºä¾‹ï¼šæå–é‚®ç®±åœ°å€ä¸­çš„ç”¨æˆ·å 1234567891011121314151617181920212223#include &lt;QCoreApplication&gt;#include &lt;QString&gt;#include &lt;QRegularExpression&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); QString email = &quot;user@example.com&quot;; QRegularExpression regex(R&quot;((\\w+)@(\\w+\\.\\w+))&quot;); QRegularExpressionMatch match = regex.match(email); if(match.hasMatch()) &#123; QString username = match.captured(1); QString domain = match.captured(2); qDebug() &lt;&lt; &quot;ç”¨æˆ·å:&quot; &lt;&lt; username; qDebug() &lt;&lt; &quot;åŸŸå:&quot; &lt;&lt; domain; &#125; else &#123; qDebug() &lt;&lt; &quot;æ— æ•ˆçš„é‚®ç®±åœ°å€ã€‚&quot;; &#125; return a.exec();&#125; è¾“å‡ºï¼š 12ç”¨æˆ·å: &quot;user&quot;åŸŸå: &quot;example.com&quot; è§£é‡Šï¼š QRegularExpressionå®šä¹‰äº†ä¸€ä¸ªç”¨äºåŒ¹é…é‚®ç®±åœ°å€çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚ regex.match(email)ç”¨äºåŒ¹é…æ•´ä¸ªå­—ç¬¦ä¸²ã€‚ captured(1)å’Œcaptured(2)åˆ†åˆ«æå–åŒ¹é…çš„ç”¨æˆ·åå’ŒåŸŸåã€‚ 7.1.2 å­—ç¬¦ä¸²åˆ†å‰²ä¸æ‹¼æ¥QStringæä¾›äº†æ–¹ä¾¿çš„å‡½æ•°ç”¨äºå­—ç¬¦ä¸²çš„åˆ†å‰²ä¸æ‹¼æ¥ï¼Œæå¤§åœ°ç®€åŒ–äº†æ–‡æœ¬å¤„ç†å·¥ä½œã€‚ ç¤ºä¾‹ï¼šåˆ†å‰²CSVæ ¼å¼çš„å­—ç¬¦ä¸² 123456789101112131415161718#include &lt;QCoreApplication&gt;#include &lt;QString&gt;#include &lt;QStringList&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); QString csv = &quot;Apple,Banana,Cherry,Date&quot;; QStringList fruits = csv.split(&#x27;,&#x27;); qDebug() &lt;&lt; &quot;æ°´æœåˆ—è¡¨:&quot;; for(const QString&amp; fruit : fruits) &#123; qDebug() &lt;&lt; fruit; &#125; return a.exec();&#125; è¾“å‡ºï¼š 12345æ°´æœåˆ—è¡¨:&quot;Apple&quot;&quot;Banana&quot;&quot;Cherry&quot;&quot;Date&quot; è§£é‡Šï¼š csv.split(&#39;,&#39;)å°†å­—ç¬¦ä¸²æŒ‰é€—å·åˆ†å‰²æˆå¤šä¸ªå­å­—ç¬¦ä¸²ï¼Œå­˜å‚¨åœ¨QStringListä¸­ã€‚ éå†QStringListï¼Œæ‰“å°æ¯ä¸ªæ°´æœåç§°ã€‚ 7.2 å¸¸è§æ•°æ®ç±»å‹è½¬æ¢åœ¨Qtå¼€å‘ä¸­ï¼Œå¸¸å¸¸éœ€è¦åœ¨ä¸åŒçš„æ•°æ®ç±»å‹ä¹‹é—´è¿›è¡Œè½¬æ¢ï¼Œå¦‚QStringä¸std::stringã€intä¸QStringä¹‹é—´çš„è½¬æ¢ã€‚Qtæä¾›äº†ä¸°å¯Œçš„å‡½æ•°æ¥æ”¯æŒè¿™äº›è½¬æ¢ï¼Œç¡®ä¿æ•°æ®å¤„ç†çš„é«˜æ•ˆä¸å®‰å…¨ã€‚ 7.2.1 QStringä¸std::stringçš„è½¬æ¢ç¤ºä¾‹ï¼š 1234567891011121314151617181920#include &lt;QCoreApplication&gt;#include &lt;QString&gt;#include &lt;string&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); // QStringè½¬std::string QString qstr = &quot;Hello, C++!&quot;; std::string stdStr = qstr.toStdString(); qDebug() &lt;&lt; &quot;std::string:&quot; &lt;&lt; QString::fromStdString(stdStr); // std::stringè½¬QString std::string anotherStdStr = &quot;Hello, Qt!&quot;; QString anotherQStr = QString::fromStdString(anotherStdStr); qDebug() &lt;&lt; &quot;QString:&quot; &lt;&lt; anotherQStr; return a.exec();&#125; è¾“å‡ºï¼š 12std::string: &quot;Hello, C++!&quot;QString: &quot;Hello, Qt!&quot; è§£é‡Šï¼š ä½¿ç”¨QString::toStdString()å°†QStringè½¬æ¢ä¸ºstd::stringã€‚ ä½¿ç”¨QString::fromStdString()å°†std::stringè½¬æ¢ä¸ºQStringã€‚ 7.2.2 QVariantä¸è‡ªå®šä¹‰ç±»å‹çš„è½¬æ¢QVariantæ”¯æŒå­˜å‚¨å’Œè½¬æ¢å¤šç§æ•°æ®ç±»å‹ï¼ŒåŒ…æ‹¬è‡ªå®šä¹‰ç±»å‹ã€‚ä¸ºäº†æ”¯æŒè‡ªå®šä¹‰ç±»å‹ï¼Œå¿…é¡»ä½¿ç”¨Q_DECLARE_METATYPEå’ŒqRegisterMetaTypeè¿›è¡Œå£°æ˜å’Œæ³¨å†Œã€‚ ç¤ºä¾‹ï¼š 123456789101112131415161718192021222324252627282930313233#include &lt;QCoreApplication&gt;#include &lt;QVariant&gt;#include &lt;QDebug&gt;#include &lt;QString&gt;// è‡ªå®šä¹‰ç±»å‹struct Point &#123; int x; int y;&#125;;// å£°æ˜å…ƒç±»å‹Q_DECLARE_METATYPE(Point)int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); // æ³¨å†Œè‡ªå®šä¹‰ç±»å‹ qRegisterMetaType&lt;Point&gt;(&quot;Point&quot;); // å­˜å‚¨è‡ªå®šä¹‰ç±»å‹åˆ°QVariant Point p = &#123;10, 20&#125;; QVariant var; var.setValue(p); // æ£€æŸ¥å¹¶æå–è‡ªå®šä¹‰ç±»å‹ if(var.canConvert&lt;Point&gt;()) &#123; Point extracted = var.value&lt;Point&gt;(); qDebug() &lt;&lt; &quot;Point:&quot; &lt;&lt; extracted.x &lt;&lt; &quot;,&quot; &lt;&lt; extracted.y; &#125; return a.exec();&#125; è¾“å‡ºï¼š 1Point: 10 , 20 è§£é‡Šï¼š ä½¿ç”¨Q_DECLARE_METATYPE(Point)å£°æ˜è‡ªå®šä¹‰ç±»å‹ã€‚ ä½¿ç”¨qRegisterMetaType&lt;Point&gt;(&quot;Point&quot;)æ³¨å†Œç±»å‹ã€‚ QVariantèƒ½å¤Ÿå­˜å‚¨å’Œè½¬æ¢è‡ªå®šä¹‰ç±»å‹Pointã€‚ 8. å¸¸ç”¨å®¹å™¨ç±»Qtæä¾›äº†å¤šç§å®¹å™¨ç±»ï¼Œç”¨äºå­˜å‚¨å’Œç®¡ç†ä¸åŒç±»å‹çš„æ•°æ®ã€‚é€‰æ‹©åˆé€‚çš„å®¹å™¨ç±»å¯ä»¥æ˜¾è‘—æå‡ç¨‹åºçš„æ€§èƒ½å’Œä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚ä»¥ä¸‹å°†è¯¦ç»†ä»‹ç»Qtä¸­å¸¸ç”¨çš„å®¹å™¨ç±»ï¼Œå¹¶è®¨è®ºå¦‚ä½•æ ¹æ®ä¸åŒçš„éœ€æ±‚é€‰æ‹©åˆé€‚çš„å®¹å™¨ã€‚ 8.1 QMapç±»ã€QHashç±»ä¸QVectorç±»8.1.1 QMapç±»QMapæ˜¯ä¸€ä¸ªåŸºäºçº¢é»‘æ ‘å®ç°çš„å…³è”å®¹å™¨ï¼Œå­˜å‚¨é”®å€¼å¯¹æ•°æ®ï¼Œé”®æ˜¯æœ‰åºçš„ã€‚å®ƒé€‚ç”¨äºéœ€è¦æœ‰åºå­˜å‚¨å’ŒèŒƒå›´æŸ¥æ‰¾çš„åœºæ™¯ã€‚ ç¤ºä¾‹ï¼šå­˜å‚¨å­¦ç”Ÿæˆç»© 1234567891011121314151617181920212223242526272829303132333435363738#include &lt;QCoreApplication&gt;#include &lt;QMap&gt;#include &lt;QString&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); // åˆ›å»ºQMapå¯¹è±¡ QMap&lt;QString, int&gt; studentScores; studentScores.insert(&quot;Alice&quot;, 90); studentScores.insert(&quot;Bob&quot;, 85); studentScores.insert(&quot;Charlie&quot;, 92); studentScores.insert(&quot;Diana&quot;, 88); // éå†QMap qDebug() &lt;&lt; &quot;å­¦ç”Ÿæˆç»©:&quot;; for(auto it = studentScores.begin(); it != studentScores.end(); ++it) &#123; qDebug() &lt;&lt; it.key() &lt;&lt; &quot;:&quot; &lt;&lt; it.value(); &#125; // æŸ¥æ‰¾å­¦ç”Ÿæˆç»© QString name = &quot;Charlie&quot;; if(studentScores.contains(name)) &#123; qDebug() &lt;&lt; name &lt;&lt; &quot;çš„æˆç»©æ˜¯&quot; &lt;&lt; studentScores.value(name); &#125; else &#123; qDebug() &lt;&lt; &quot;æœªæ‰¾åˆ°å­¦ç”Ÿ&quot; &lt;&lt; name &lt;&lt; &quot;çš„æˆç»©ã€‚&quot;; &#125; // åˆ é™¤å­¦ç”Ÿæˆç»© studentScores.remove(&quot;Bob&quot;); qDebug() &lt;&lt; &quot;åˆ é™¤å:&quot;; for(auto it = studentScores.begin(); it != studentScores.end(); ++it) &#123; qDebug() &lt;&lt; it.key() &lt;&lt; &quot;:&quot; &lt;&lt; it.value(); &#125; return a.exec();&#125; è¾“å‡ºï¼š 12345678910å­¦ç”Ÿæˆç»©:&quot;Alice&quot; : 90&quot;Bob&quot; : 85&quot;Charlie&quot; : 92&quot;Diana&quot; : 88&quot;Charlie&quot; çš„æˆç»©æ˜¯ 92åˆ é™¤å:&quot;Alice&quot; : 90&quot;Charlie&quot; : 92&quot;Diana&quot; : 88 è§£é‡Šï¼š QMapä¸­çš„å…ƒç´ æŒ‰é”®æœ‰åºå­˜å‚¨ã€‚ æä¾›äº†é«˜æ•ˆçš„æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤æ“ä½œã€‚ 8.1.2 QHashç±»QHashæ˜¯ä¸€ä¸ªåŸºäºå“ˆå¸Œè¡¨å®ç°çš„å…³è”å®¹å™¨ï¼Œå­˜å‚¨é”®å€¼å¯¹æ•°æ®ï¼Œé”®æ˜¯æ— åºçš„ã€‚å®ƒé€‚ç”¨äºéœ€è¦å¿«é€ŸæŸ¥æ‰¾çš„åœºæ™¯ã€‚ ç¤ºä¾‹ï¼šå­˜å‚¨äº§å“ä»·æ ¼ 1234567891011121314151617181920212223242526272829303132333435363738#include &lt;QCoreApplication&gt;#include &lt;QHash&gt;#include &lt;QString&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); // åˆ›å»ºQHashå¯¹è±¡ QHash&lt;QString, double&gt; productPrices; productPrices.insert(&quot;Laptop&quot;, 999.99); productPrices.insert(&quot;Smartphone&quot;, 499.49); productPrices.insert(&quot;Tablet&quot;, 299.99); productPrices.insert(&quot;Headphones&quot;, 89.99); // éå†QHash qDebug() &lt;&lt; &quot;äº§å“ä»·æ ¼:&quot;; for(auto it = productPrices.begin(); it != productPrices.end(); ++it) &#123; qDebug() &lt;&lt; it.key() &lt;&lt; &quot;:&quot; &lt;&lt; it.value(); &#125; // æŸ¥æ‰¾äº§å“ä»·æ ¼ QString product = &quot;Tablet&quot;; if(productPrices.contains(product)) &#123; qDebug() &lt;&lt; product &lt;&lt; &quot;çš„ä»·æ ¼æ˜¯&quot; &lt;&lt; productPrices.value(product); &#125; else &#123; qDebug() &lt;&lt; &quot;æœªæ‰¾åˆ°äº§å“&quot; &lt;&lt; product &lt;&lt; &quot;çš„ä»·æ ¼ã€‚&quot;; &#125; // åˆ é™¤äº§å“ä»·æ ¼ productPrices.remove(&quot;Smartphone&quot;); qDebug() &lt;&lt; &quot;åˆ é™¤å:&quot;; for(auto it = productPrices.begin(); it != productPrices.end(); ++it) &#123; qDebug() &lt;&lt; it.key() &lt;&lt; &quot;:&quot; &lt;&lt; it.value(); &#125; return a.exec();&#125; è¾“å‡ºï¼š 12345678910äº§å“ä»·æ ¼:&quot;Laptop&quot; : 999.99&quot;Smartphone&quot; : 499.49&quot;Tablet&quot; : 299.99&quot;Headphones&quot; : 89.99&quot;Tablet&quot; çš„ä»·æ ¼æ˜¯ 299.99åˆ é™¤å:&quot;Laptop&quot; : 999.99&quot;Tablet&quot; : 299.99&quot;Headphones&quot; : 89.99 è§£é‡Šï¼š QHashä¸­çš„å…ƒç´ æ— åºå­˜å‚¨ï¼Œä½†æŸ¥æ‰¾é€Ÿåº¦æ›´å¿«ã€‚ é€‚ç”¨äºéœ€è¦å¿«é€ŸæŸ¥æ‰¾ä½†ä¸å…³å¿ƒå…ƒç´ é¡ºåºçš„åœºæ™¯ã€‚ 8.1.3 QVectorç±»QVectoræ˜¯ä¸€ä¸ªåŠ¨æ€æ•°ç»„å®¹å™¨ï¼Œæä¾›äº†ç±»ä¼¼äºstd::vectorçš„åŠŸèƒ½ã€‚å®ƒæ”¯æŒå¿«é€Ÿçš„éšæœºè®¿é—®å’Œé«˜æ•ˆçš„å°¾éƒ¨æ’å…¥æ“ä½œï¼Œé€‚ç”¨äºéœ€è¦é¢‘ç¹è®¿é—®å…ƒç´ çš„åœºæ™¯ã€‚ ç¤ºä¾‹ï¼šå­˜å‚¨ä¼ æ„Ÿå™¨æ•°æ® 123456789101112131415161718192021222324252627282930313233#include &lt;QCoreApplication&gt;#include &lt;QVector&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); // åˆ›å»ºQVectorå¯¹è±¡ QVector&lt;double&gt; sensorData; sensorData &lt;&lt; 23.5 &lt;&lt; 24.0 &lt;&lt; 22.8 &lt;&lt; 25.1; // éå†QVector qDebug() &lt;&lt; &quot;ä¼ æ„Ÿå™¨æ•°æ®:&quot;; for(double data : sensorData) &#123; qDebug() &lt;&lt; data; &#125; // æ·»åŠ æ–°æ•°æ® sensorData.append(24.3); qDebug() &lt;&lt; &quot;æ·»åŠ å:&quot;; for(double data : sensorData) &#123; qDebug() &lt;&lt; data; &#125; // ä¿®æ”¹æ•°æ® sensorData[2] = 23.0; qDebug() &lt;&lt; &quot;ä¿®æ”¹å:&quot;; for(double data : sensorData) &#123; qDebug() &lt;&lt; data; &#125; return a.exec();&#125; è¾“å‡ºï¼š 1234567891011121314151617ä¼ æ„Ÿå™¨æ•°æ®:23.52422.825.1æ·»åŠ å:23.52422.825.124.3ä¿®æ”¹å:23.5242325.124.3 è§£é‡Šï¼š QVectoræ”¯æŒé€šè¿‡ç´¢å¼•å¿«é€Ÿè®¿é—®å’Œä¿®æ”¹å…ƒç´ ã€‚ æä¾›é«˜æ•ˆçš„å°¾éƒ¨æ’å…¥æ“ä½œï¼Œé€‚ç”¨äºéœ€è¦é¢‘ç¹æ·»åŠ å…ƒç´ çš„åœºæ™¯ã€‚ 8.2 QListç±»ä¸QLinkedListç±»QListå’ŒQLinkedListéƒ½æ˜¯Qtä¸­æä¾›çš„åˆ—è¡¨å®¹å™¨ï¼Œä½†å®ƒä»¬åœ¨å†…éƒ¨å®ç°å’Œæ€§èƒ½ç‰¹æ€§ä¸Šæœ‰æ‰€ä¸åŒï¼Œé€‚ç”¨äºä¸åŒçš„ä½¿ç”¨åœºæ™¯ã€‚ 8.2.1 QListç±»QListåŸºäºåŠ¨æ€æ•°ç»„å®ç°ï¼Œæ”¯æŒå¿«é€Ÿçš„éšæœºè®¿é—®å’Œé«˜æ•ˆçš„å°¾éƒ¨æ’å…¥æ“ä½œï¼Œä½†åœ¨åˆ—è¡¨ä¸­é—´æ’å…¥å’Œåˆ é™¤å…ƒç´ æ—¶æ€§èƒ½è¾ƒä½ã€‚ é€‚ç”¨åœºæ™¯ï¼š éœ€è¦é¢‘ç¹éšæœºè®¿é—®å…ƒç´ ã€‚ ä¸éœ€è¦é¢‘ç¹åœ¨åˆ—è¡¨ä¸­é—´æ’å…¥æˆ–åˆ é™¤å…ƒç´ ã€‚ ç¤ºä¾‹ï¼š 12345678910111213141516171819202122232425262728293031323334#include &lt;QCoreApplication&gt;#include &lt;QList&gt;#include &lt;QString&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); // åˆ›å»ºQListå¯¹è±¡ QList&lt;QString&gt; fruitList; fruitList &lt;&lt; &quot;Apple&quot; &lt;&lt; &quot;Banana&quot; &lt;&lt; &quot;Cherry&quot;; // éå†QList qDebug() &lt;&lt; &quot;æ°´æœåˆ—è¡¨:&quot;; for(const QString&amp; fruit : fruitList) &#123; qDebug() &lt;&lt; fruit; &#125; // æ’å…¥å…ƒç´  fruitList.insert(1, &quot;Blueberry&quot;); qDebug() &lt;&lt; &quot;æ’å…¥å:&quot;; for(const QString&amp; fruit : fruitList) &#123; qDebug() &lt;&lt; fruit; &#125; // åˆ é™¤å…ƒç´  fruitList.removeAt(2); qDebug() &lt;&lt; &quot;åˆ é™¤å:&quot;; for(const QString&amp; fruit : fruitList) &#123; qDebug() &lt;&lt; fruit; &#125; return a.exec();&#125; è¾“å‡ºï¼š 12345678910111213æ°´æœåˆ—è¡¨:&quot;Apple&quot;&quot;Banana&quot;&quot;Cherry&quot;æ’å…¥å:&quot;Apple&quot;&quot;Blueberry&quot;&quot;Banana&quot;&quot;Cherry&quot;åˆ é™¤å:&quot;Apple&quot;&quot;Blueberry&quot;&quot;Cherry&quot; 8.2.2 QLinkedListç±»QLinkedListåŸºäºåŒå‘é“¾è¡¨å®ç°ï¼Œæ”¯æŒé«˜æ•ˆçš„ä¸­é—´æ’å…¥å’Œåˆ é™¤æ“ä½œï¼Œä½†ä¸æ”¯æŒå¿«é€Ÿçš„éšæœºè®¿é—®ã€‚ é€‚ç”¨åœºæ™¯ï¼š éœ€è¦é¢‘ç¹åœ¨åˆ—è¡¨ä¸­é—´æ’å…¥æˆ–åˆ é™¤å…ƒç´ ã€‚ ä¸éœ€è¦é¢‘ç¹éšæœºè®¿é—®å…ƒç´ ã€‚ ç¤ºä¾‹ï¼š 123456789101112131415161718192021222324252627282930313233343536#include &lt;QCoreApplication&gt;#include &lt;QLinkedList&gt;#include &lt;QString&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); // åˆ›å»ºQLinkedListå¯¹è±¡ QLinkedList&lt;QString&gt; animalList; animalList &lt;&lt; &quot;Dog&quot; &lt;&lt; &quot;Elephant&quot; &lt;&lt; &quot;Frog&quot;; // éå†QLinkedList qDebug() &lt;&lt; &quot;åŠ¨ç‰©åˆ—è¡¨:&quot;; for(const QString&amp; animal : animalList) &#123; qDebug() &lt;&lt; animal; &#125; // æ’å…¥å…ƒç´  auto it = animalList.begin(); std::advance(it, 1); animalList.insert(it, &quot;Lion&quot;); qDebug() &lt;&lt; &quot;æ’å…¥å:&quot;; for(const QString&amp; animal : animalList) &#123; qDebug() &lt;&lt; animal; &#125; // åˆ é™¤å…ƒç´  animalList.removeOne(&quot;Elephant&quot;); qDebug() &lt;&lt; &quot;åˆ é™¤å:&quot;; for(const QString&amp; animal : animalList) &#123; qDebug() &lt;&lt; animal; &#125; return a.exec();&#125; è¾“å‡ºï¼š 12345678910111213åŠ¨ç‰©åˆ—è¡¨:&quot;Dog&quot;&quot;Elephant&quot;&quot;Frog&quot;æ’å…¥å:&quot;Dog&quot;&quot;Lion&quot;&quot;Elephant&quot;&quot;Frog&quot;åˆ é™¤å:&quot;Dog&quot;&quot;Lion&quot;&quot;Frog&quot; è§£é‡Šï¼š QLinkedListå…è®¸åœ¨åˆ—è¡¨ä¸­é—´é«˜æ•ˆåœ°æ’å…¥å’Œåˆ é™¤å…ƒç´ ã€‚ ä¸æ”¯æŒé€šè¿‡ç´¢å¼•å¿«é€Ÿè®¿é—®å…ƒç´ ï¼Œé€‚ç”¨äºéœ€è¦é¢‘ç¹ä¿®æ”¹åˆ—è¡¨å†…å®¹çš„åœºæ™¯ã€‚ 8.3 QStringä¸QByteArrayçš„å¯¹æ¯”ä¸é€‰æ‹©åœ¨Qtä¸­ï¼ŒQStringå’ŒQByteArrayéƒ½æ˜¯å¤„ç†å­—ç¬¦ä¸²æ•°æ®çš„é‡è¦ç±»ï¼Œä½†å®ƒä»¬é€‚ç”¨äºä¸åŒçš„åº”ç”¨åœºæ™¯ã€‚ QStringï¼š ç”¨äºå¤„ç†Unicodeæ–‡æœ¬ã€‚ æ”¯æŒä¸°å¯Œçš„æ–‡æœ¬æ“ä½œï¼Œå¦‚æŸ¥æ‰¾ã€æ›¿æ¢ã€æ ¼å¼åŒ–ç­‰ã€‚ é€‚ç”¨äºéœ€è¦å¤„ç†å’Œæ˜¾ç¤ºæ–‡æœ¬æ•°æ®çš„åœºæ™¯ã€‚ QByteArrayï¼š ç”¨äºå¤„ç†åŸå§‹å­—èŠ‚æ•°æ®ã€‚ æ”¯æŒé«˜æ•ˆçš„äºŒè¿›åˆ¶æ•°æ®æ“ä½œï¼Œå¦‚è¯»å†™æ–‡ä»¶ã€ç½‘ç»œä¼ è¾“ç­‰ã€‚ é€‚ç”¨äºéœ€è¦å¤„ç†äºŒè¿›åˆ¶æ•°æ®æˆ–ç¼–ç è½¬æ¢çš„åœºæ™¯ã€‚ ç¤ºä¾‹ï¼š 1234567891011121314151617181920#include &lt;QCoreApplication&gt;#include &lt;QString&gt;#include &lt;QByteArray&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); // ä½¿ç”¨QStringå¤„ç†æ–‡æœ¬ QString text = &quot;Hello, Qt!&quot;; qDebug() &lt;&lt; &quot;QStringå†…å®¹:&quot; &lt;&lt; text; qDebug() &lt;&lt; &quot;å¤§å†™:&quot; &lt;&lt; text.toUpper(); // ä½¿ç”¨QByteArrayå¤„ç†äºŒè¿›åˆ¶æ•°æ® QByteArray byteData = &quot;BinaryData&quot;; qDebug() &lt;&lt; &quot;QByteArrayå†…å®¹:&quot; &lt;&lt; byteData; qDebug() &lt;&lt; &quot;åå…­è¿›åˆ¶:&quot; &lt;&lt; byteData.toHex(); return a.exec();&#125; è¾“å‡ºï¼š 1234QStringå†…å®¹: &quot;Hello, Qt!&quot;å¤§å†™: &quot;HELLO, QT!&quot;QByteArrayå†…å®¹: &quot;BinaryData&quot;åå…­è¿›åˆ¶: &quot;42696e61727944617461&quot; è§£é‡Šï¼š QStringé€‚åˆç”¨äºæ˜¾ç¤ºå’Œå¤„ç†æ–‡æœ¬æ•°æ®ã€‚ QByteArrayé€‚åˆç”¨äºå¤„ç†åŸå§‹å­—èŠ‚æ•°æ®å’Œè¿›è¡Œç¼–ç è½¬æ¢ã€‚ 9. QMapç±»ã€QHashç±»ä¸QVectorç±»çš„æ·±å…¥æ¢è®¨åœ¨Qtä¸­ï¼ŒQMapã€QHashå’ŒQVectoræ˜¯ä¸‰ç§å¸¸ç”¨çš„å®¹å™¨ç±»ï¼Œå®ƒä»¬å„è‡ªæœ‰ä¸åŒçš„ç‰¹ç‚¹å’Œé€‚ç”¨åœºæ™¯ã€‚ç†è§£å®ƒä»¬çš„å†…éƒ¨å®ç°å’Œæ€§èƒ½ç‰¹æ€§ï¼Œæœ‰åŠ©äºåœ¨å®é™…é¡¹ç›®ä¸­é€‰æ‹©æœ€åˆé€‚çš„å®¹å™¨ã€‚ 9.1 QMapç±»QMapåŸºäºçº¢é»‘æ ‘å®ç°ï¼Œæä¾›äº†æœ‰åºçš„é”®å€¼å¯¹å­˜å‚¨ã€‚å®ƒçš„ä¸»è¦ç‰¹ç‚¹åŒ…æ‹¬ï¼š æœ‰åºå­˜å‚¨ï¼šå…ƒç´ æŒ‰é”®çš„å‡åºæ’åˆ—ã€‚ é«˜æ•ˆæŸ¥æ‰¾ï¼šæŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸ºO(log n)ã€‚ æ”¯æŒèŒƒå›´æ“ä½œï¼šå¯ä»¥é«˜æ•ˆåœ°è¿›è¡ŒèŒƒå›´æŸ¥æ‰¾å’Œè¿­ä»£ã€‚ ä½¿ç”¨åœºæ™¯ï¼š éœ€è¦æœ‰åºå­˜å‚¨å’ŒæŒ‰é”®èŒƒå›´æŸ¥è¯¢ã€‚ éœ€è¦æŒ‰é”®é¡ºåºéå†å…ƒç´ ã€‚ ç¤ºä¾‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546#include &lt;QCoreApplication&gt;#include &lt;QMap&gt;#include &lt;QString&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); // åˆ›å»ºQMapå¯¹è±¡ QMap&lt;QString, int&gt; employeeAges; employeeAges.insert(&quot;Alice&quot;, 30); employeeAges.insert(&quot;Bob&quot;, 25); employeeAges.insert(&quot;Charlie&quot;, 35); employeeAges.insert(&quot;Diana&quot;, 28); // éå†QMap qDebug() &lt;&lt; &quot;å‘˜å·¥å¹´é¾„:&quot;; for(auto it = employeeAges.begin(); it != employeeAges.end(); ++it) &#123; qDebug() &lt;&lt; it.key() &lt;&lt; &quot;:&quot; &lt;&lt; it.value(); &#125; // æŸ¥æ‰¾å‘˜å·¥å¹´é¾„ QString name = &quot;Charlie&quot;; if(employeeAges.contains(name)) &#123; qDebug() &lt;&lt; name &lt;&lt; &quot;çš„å¹´é¾„æ˜¯&quot; &lt;&lt; employeeAges.value(name); &#125; // åˆ é™¤å‘˜å·¥ employeeAges.remove(&quot;Bob&quot;); qDebug() &lt;&lt; &quot;åˆ é™¤å:&quot;; for(auto it = employeeAges.begin(); it != employeeAges.end(); ++it) &#123; qDebug() &lt;&lt; it.key() &lt;&lt; &quot;:&quot; &lt;&lt; it.value(); &#125; // èŒƒå›´æŸ¥æ‰¾ QMap&lt;QString, int&gt;::const_iterator rangeStart = employeeAges.find(&quot;Alice&quot;); QMap&lt;QString, int&gt;::const_iterator rangeEnd = employeeAges.find(&quot;Charlie&quot;); QMap&lt;QString, int&gt; rangeMap = employeeAges.mid(rangeStart.key(), rangeEnd.key()); qDebug() &lt;&lt; &quot;èŒƒå›´æŸ¥æ‰¾ (Alice - Charlie):&quot;; for(auto it = rangeMap.begin(); it != rangeMap.end(); ++it) &#123; qDebug() &lt;&lt; it.key() &lt;&lt; &quot;:&quot; &lt;&lt; it.value(); &#125; return a.exec();&#125; è¾“å‡ºï¼š 12345678910111213å‘˜å·¥å¹´é¾„:&quot;Alice&quot; : 30&quot;Bob&quot; : 25&quot;Charlie&quot; : 35&quot;Diana&quot; : 28&quot;Charlie&quot; çš„å¹´é¾„æ˜¯ 35åˆ é™¤å:&quot;Alice&quot; : 30&quot;Charlie&quot; : 35&quot;Diana&quot; : 28èŒƒå›´æŸ¥æ‰¾ (Alice - Charlie):&quot;Alice&quot; : 30&quot;Charlie&quot; : 35 è§£é‡Šï¼š QMapä¸­çš„å…ƒç´ æŒ‰é”®æœ‰åºå­˜å‚¨ï¼Œä¾¿äºæœ‰åºéå†å’ŒèŒƒå›´æŸ¥æ‰¾ã€‚ ä½¿ç”¨mid()å‡½æ•°å¯ä»¥é«˜æ•ˆåœ°æå–é”®çš„èŒƒå›´å†…çš„å­é›†ã€‚ 9.2 QHashç±»QHashåŸºäºå“ˆå¸Œè¡¨å®ç°ï¼Œæä¾›äº†æ— åºçš„é”®å€¼å¯¹å­˜å‚¨ã€‚å®ƒçš„ä¸»è¦ç‰¹ç‚¹åŒ…æ‹¬ï¼š æ— åºå­˜å‚¨ï¼šå…ƒç´ çš„å­˜å‚¨é¡ºåºä¸æ’å…¥é¡ºåºæ— å…³ã€‚ é«˜æ•ˆæŸ¥æ‰¾ï¼šæŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤æ“ä½œçš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸ºO(1)ã€‚ çµæ´»æ€§ï¼šé€‚ç”¨äºéœ€è¦å¿«é€ŸæŸ¥æ‰¾çš„åœºæ™¯ï¼Œä½†ä¸å…³å¿ƒå…ƒç´ çš„é¡ºåºã€‚ ä½¿ç”¨åœºæ™¯ï¼š éœ€è¦å¿«é€ŸæŸ¥æ‰¾å’Œè®¿é—®å…ƒç´ ã€‚ ä¸éœ€è¦æœ‰åºå­˜å‚¨å’Œéå†ã€‚ ç¤ºä¾‹ï¼š 123456789101112131415161718192021222324252627282930313233343536#include &lt;QCoreApplication&gt;#include &lt;QHash&gt;#include &lt;QString&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); // åˆ›å»ºQHashå¯¹è±¡ QHash&lt;QString, double&gt; productPrices; productPrices.insert(&quot;Laptop&quot;, 999.99); productPrices.insert(&quot;Smartphone&quot;, 499.49); productPrices.insert(&quot;Tablet&quot;, 299.99); productPrices.insert(&quot;Headphones&quot;, 89.99); // éå†QHash qDebug() &lt;&lt; &quot;äº§å“ä»·æ ¼:&quot;; for(auto it = productPrices.begin(); it != productPrices.end(); ++it) &#123; qDebug() &lt;&lt; it.key() &lt;&lt; &quot;:&quot; &lt;&lt; it.value(); &#125; // æŸ¥æ‰¾äº§å“ä»·æ ¼ QString product = &quot;Tablet&quot;; if(productPrices.contains(product)) &#123; qDebug() &lt;&lt; product &lt;&lt; &quot;çš„ä»·æ ¼æ˜¯&quot; &lt;&lt; productPrices.value(product); &#125; // åˆ é™¤äº§å“ productPrices.remove(&quot;Smartphone&quot;); qDebug() &lt;&lt; &quot;åˆ é™¤å:&quot;; for(auto it = productPrices.begin(); it != productPrices.end(); ++it) &#123; qDebug() &lt;&lt; it.key() &lt;&lt; &quot;:&quot; &lt;&lt; it.value(); &#125; return a.exec();&#125; è¾“å‡ºï¼š 12345678910äº§å“ä»·æ ¼:&quot;Laptop&quot; : 999.99&quot;Smartphone&quot; : 499.49&quot;Tablet&quot; : 299.99&quot;Headphones&quot; : 89.99&quot;Tablet&quot; çš„ä»·æ ¼æ˜¯ 299.99åˆ é™¤å:&quot;Laptop&quot; : 999.99&quot;Tablet&quot; : 299.99&quot;Headphones&quot; : 89.99 è§£é‡Šï¼š QHashæä¾›äº†å¿«é€Ÿçš„æŸ¥æ‰¾å’Œè®¿é—®åŠŸèƒ½ï¼Œé€‚ç”¨äºä¸éœ€è¦æœ‰åºå­˜å‚¨çš„åœºæ™¯ã€‚ å…ƒç´ çš„å­˜å‚¨é¡ºåºä¸æ’å…¥é¡ºåºæ— å…³ï¼Œä½†æŸ¥æ‰¾æ•ˆç‡æ›´é«˜ã€‚ 9.3 QVectorç±»QVectoræ˜¯ä¸€ä¸ªåŠ¨æ€æ•°ç»„å®¹å™¨ï¼Œæä¾›äº†ç±»ä¼¼äºstd::vectorçš„åŠŸèƒ½ï¼Œæ”¯æŒå¿«é€Ÿçš„éšæœºè®¿é—®å’Œé«˜æ•ˆçš„å°¾éƒ¨æ’å…¥æ“ä½œã€‚ ç¤ºä¾‹ï¼š 1234567891011121314151617181920212223242526272829303132333435#include &lt;QCoreApplication&gt;#include &lt;QVector&gt;#include &lt;QString&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); // åˆ›å»ºQVectorå¯¹è±¡ QVector&lt;int&gt; numbers; numbers &lt;&lt; 1 &lt;&lt; 2 &lt;&lt; 3 &lt;&lt; 4 &lt;&lt; 5; // éå†QVector qDebug() &lt;&lt; &quot;æ•°å­—åˆ—è¡¨:&quot;; for(int num : numbers) &#123; qDebug() &lt;&lt; num; &#125; // æ·»åŠ å…ƒç´  numbers.append(6); numbers.prepend(0); qDebug() &lt;&lt; &quot;æ·»åŠ å:&quot;; for(int num : numbers) &#123; qDebug() &lt;&lt; num; &#125; // ä¿®æ”¹å…ƒç´  numbers[3] = 10; qDebug() &lt;&lt; &quot;ä¿®æ”¹å:&quot;; for(int num : numbers) &#123; qDebug() &lt;&lt; num; &#125; return a.exec();&#125; è¾“å‡ºï¼š 12345678910111213141516171819202122æ•°å­—åˆ—è¡¨:12345æ·»åŠ å:0123456ä¿®æ”¹å:01210456 è§£é‡Šï¼š QVectoræ”¯æŒé€šè¿‡ç´¢å¼•å¿«é€Ÿè®¿é—®å’Œä¿®æ”¹å…ƒç´ ï¼Œé€‚ç”¨äºéœ€è¦é¢‘ç¹è®¿é—®å…ƒç´ çš„åœºæ™¯ã€‚ æä¾›é«˜æ•ˆçš„å°¾éƒ¨æ’å…¥æ“ä½œï¼Œé€‚åˆåŠ¨æ€æ•°ç»„çš„åº”ç”¨éœ€æ±‚ã€‚ 10. QListç±»ä¸QLinkedListç±»çš„æ¯”è¾ƒQListå’ŒQLinkedListéƒ½æ˜¯Qtä¸­æä¾›çš„åˆ—è¡¨å®¹å™¨ï¼Œä½†å®ƒä»¬åœ¨å†…éƒ¨å®ç°å’Œæ€§èƒ½ç‰¹æ€§ä¸Šæœ‰æ‰€ä¸åŒï¼Œé€‚ç”¨äºä¸åŒçš„ä½¿ç”¨åœºæ™¯ã€‚ç†è§£å®ƒä»¬çš„åŒºåˆ«æœ‰åŠ©äºåœ¨å®é™…å¼€å‘ä¸­é€‰æ‹©æœ€åˆé€‚çš„å®¹å™¨ã€‚ 10.1 QListç±»QListåŸºäºåŠ¨æ€æ•°ç»„å®ç°ï¼Œæä¾›äº†å¿«é€Ÿçš„éšæœºè®¿é—®å’Œé«˜æ•ˆçš„å°¾éƒ¨æ’å…¥æ“ä½œã€‚ä½†åœ¨åˆ—è¡¨ä¸­é—´æ’å…¥å’Œåˆ é™¤å…ƒç´ æ—¶ï¼Œæ€§èƒ½è¾ƒä½ï¼Œå› ä¸ºéœ€è¦ç§»åŠ¨å…ƒç´ ã€‚ é€‚ç”¨åœºæ™¯ï¼š éœ€è¦é¢‘ç¹éšæœºè®¿é—®å…ƒç´ ã€‚ ä¸éœ€è¦é¢‘ç¹åœ¨åˆ—è¡¨ä¸­é—´æ’å…¥æˆ–åˆ é™¤å…ƒç´ ã€‚ ä¼˜ç‚¹ï¼š å¿«é€Ÿçš„éšæœºè®¿é—®ï¼ˆO(1)æ—¶é—´å¤æ‚åº¦ï¼‰ã€‚ é«˜æ•ˆçš„å°¾éƒ¨æ’å…¥å’Œåˆ é™¤æ“ä½œã€‚ ç¼ºç‚¹ï¼š åœ¨åˆ—è¡¨ä¸­é—´æ’å…¥æˆ–åˆ é™¤å…ƒç´ æ—¶ï¼Œæ€§èƒ½è¾ƒä½ï¼ˆO(n)æ—¶é—´å¤æ‚åº¦ï¼‰ã€‚ ç¤ºä¾‹ï¼š 12345678910111213141516171819202122232425262728293031323334#include &lt;QCoreApplication&gt;#include &lt;QList&gt;#include &lt;QString&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); // åˆ›å»ºQListå¯¹è±¡ QList&lt;QString&gt; list; list &lt;&lt; &quot;Apple&quot; &lt;&lt; &quot;Banana&quot; &lt;&lt; &quot;Cherry&quot;; // éå†QList qDebug() &lt;&lt; &quot;QListå†…å®¹:&quot;; for(const QString&amp; fruit : list) &#123; qDebug() &lt;&lt; fruit; &#125; // æ’å…¥å…ƒç´  list.insert(1, &quot;Blueberry&quot;); qDebug() &lt;&lt; &quot;æ’å…¥å:&quot;; for(const QString&amp; fruit : list) &#123; qDebug() &lt;&lt; fruit; &#125; // åˆ é™¤å…ƒç´  list.removeAt(2); qDebug() &lt;&lt; &quot;åˆ é™¤å:&quot;; for(const QString&amp; fruit : list) &#123; qDebug() &lt;&lt; fruit; &#125; return a.exec();&#125; è¾“å‡ºï¼š 12345678910111213QListå†…å®¹:&quot;Apple&quot;&quot;Banana&quot;&quot;Cherry&quot;æ’å…¥å:&quot;Apple&quot;&quot;Blueberry&quot;&quot;Banana&quot;&quot;Cherry&quot;åˆ é™¤å:&quot;Apple&quot;&quot;Blueberry&quot;&quot;Cherry&quot; 10.2 QLinkedListç±»QLinkedListåŸºäºåŒå‘é“¾è¡¨å®ç°ï¼Œæ”¯æŒé«˜æ•ˆçš„ä¸­é—´æ’å…¥å’Œåˆ é™¤æ“ä½œï¼Œä½†ä¸æ”¯æŒå¿«é€Ÿçš„éšæœºè®¿é—®ã€‚æ¯æ¬¡è®¿é—®å…ƒç´ éƒ½éœ€è¦ä»å¤´æˆ–å°¾éƒ¨å¼€å§‹éå†ã€‚ é€‚ç”¨åœºæ™¯ï¼š éœ€è¦é¢‘ç¹åœ¨åˆ—è¡¨ä¸­é—´æ’å…¥æˆ–åˆ é™¤å…ƒç´ ã€‚ ä¸éœ€è¦é¢‘ç¹éšæœºè®¿é—®å…ƒç´ ã€‚ ä¼˜ç‚¹ï¼š é«˜æ•ˆçš„ä¸­é—´æ’å…¥å’Œåˆ é™¤æ“ä½œï¼ˆO(1)æ—¶é—´å¤æ‚åº¦ï¼‰ã€‚ ä¸éœ€è¦ç§»åŠ¨å…ƒç´ ï¼Œé€‚åˆé“¾è¡¨ç»“æ„ã€‚ ç¼ºç‚¹ï¼š ä¸æ”¯æŒå¿«é€Ÿçš„éšæœºè®¿é—®ï¼ˆO(n)æ—¶é—´å¤æ‚åº¦ï¼‰ã€‚ è¾ƒé«˜çš„å†…å­˜å¼€é”€ï¼Œå› ä¸ºæ¯ä¸ªå…ƒç´ éœ€è¦å­˜å‚¨å‰åæŒ‡é’ˆã€‚ ç¤ºä¾‹ï¼š 123456789101112131415161718192021222324252627282930313233343536#include &lt;QCoreApplication&gt;#include &lt;QLinkedList&gt;#include &lt;QString&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); // åˆ›å»ºQLinkedListå¯¹è±¡ QLinkedList&lt;QString&gt; linkedList; linkedList &lt;&lt; &quot;Dog&quot; &lt;&lt; &quot;Elephant&quot; &lt;&lt; &quot;Frog&quot;; // éå†QLinkedList qDebug() &lt;&lt; &quot;QLinkedListå†…å®¹:&quot;; for(const QString&amp; animal : linkedList) &#123; qDebug() &lt;&lt; animal; &#125; // æ’å…¥å…ƒç´  auto it = linkedList.begin(); std::advance(it, 1); linkedList.insert(it, &quot;Lion&quot;); qDebug() &lt;&lt; &quot;æ’å…¥å:&quot;; for(const QString&amp; animal : linkedList) &#123; qDebug() &lt;&lt; animal; &#125; // åˆ é™¤å…ƒç´  linkedList.removeOne(&quot;Elephant&quot;); qDebug() &lt;&lt; &quot;åˆ é™¤å:&quot;; for(const QString&amp; animal : linkedList) &#123; qDebug() &lt;&lt; animal; &#125; return a.exec();&#125; è¾“å‡ºï¼š 12345678910111213QLinkedListå†…å®¹:&quot;Dog&quot;&quot;Elephant&quot;&quot;Frog&quot;æ’å…¥å:&quot;Dog&quot;&quot;Lion&quot;&quot;Elephant&quot;&quot;Frog&quot;åˆ é™¤å:&quot;Dog&quot;&quot;Lion&quot;&quot;Frog&quot; è§£é‡Šï¼š QLinkedListå…è®¸åœ¨åˆ—è¡¨ä¸­é—´é«˜æ•ˆåœ°æ’å…¥å’Œåˆ é™¤å…ƒç´ ã€‚ ä¸æ”¯æŒé€šè¿‡ç´¢å¼•å¿«é€Ÿè®¿é—®å…ƒç´ ï¼Œé€‚ç”¨äºéœ€è¦é¢‘ç¹ä¿®æ”¹åˆ—è¡¨å†…å®¹çš„åœºæ™¯ã€‚ 10.3 é€‰æ‹©åˆé€‚çš„å®¹å™¨ç±»åœ¨é€‰æ‹©Qtå®¹å™¨ç±»æ—¶ï¼Œåº”æ ¹æ®å…·ä½“çš„åº”ç”¨éœ€æ±‚å’Œæ“ä½œç‰¹æ€§è¿›è¡Œé€‰æ‹©ï¼š éœ€è¦å¿«é€Ÿéšæœºè®¿é—®ï¼šé€‰æ‹©QVectoræˆ–QListã€‚ éœ€è¦é¢‘ç¹ä¸­é—´æ’å…¥å’Œåˆ é™¤ï¼šé€‰æ‹©QLinkedListã€‚ éœ€è¦æœ‰åºé”®å€¼å¯¹å­˜å‚¨ï¼šé€‰æ‹©QMapã€‚ éœ€è¦å¿«é€ŸæŸ¥æ‰¾æ— åºé”®å€¼å¯¹å­˜å‚¨ï¼šé€‰æ‹©QHashã€‚ äº†è§£å„ä¸ªå®¹å™¨ç±»çš„å†…éƒ¨å®ç°å’Œæ€§èƒ½ç‰¹æ€§ï¼Œæœ‰åŠ©äºåœ¨é¡¹ç›®ä¸­åšå‡ºæœ€ä½³çš„å®¹å™¨é€‰æ‹©ï¼Œæå‡ç¨‹åºçš„æ•´ä½“æ€§èƒ½å’Œæ•ˆç‡ã€‚ 11. QVariantç±»åº”ç”¨QVariantæ˜¯Qtæä¾›çš„ä¸€ä¸ªé€šç”¨æ•°æ®ç±»å‹ï¼Œèƒ½å¤Ÿå­˜å‚¨å¤šç§ä¸åŒç±»å‹çš„æ•°æ®ã€‚å®ƒç±»ä¼¼äºC++ä¸­çš„std::variantï¼Œä½†æ›´æ—©åœ¨Qtæ¡†æ¶ä¸­å¾—åˆ°å¹¿æ³›åº”ç”¨ã€‚QVariantåœ¨éœ€è¦å­˜å‚¨ä¸åŒç±»å‹æ•°æ®çš„åœºæ™¯ä¸­éå¸¸æœ‰ç”¨ï¼Œå¦‚æ•°æ®åº“æ“ä½œã€æ¨¡å‹è§†å›¾ç¼–ç¨‹ç­‰ã€‚ 11.1 QVariantçš„åŸºæœ¬ç”¨æ³•QVariantå¯ä»¥å­˜å‚¨å¤šç§ç±»å‹çš„æ•°æ®ï¼Œå¹¶æä¾›äº†ä¾¿æ·çš„ç±»å‹è½¬æ¢æ–¹æ³•ã€‚ ç¤ºä¾‹ï¼šå­˜å‚¨å’Œè½¬æ¢ä¸åŒç±»å‹çš„æ•°æ® 12345678910111213141516171819202122232425262728293031#include &lt;QCoreApplication&gt;#include &lt;QVariant&gt;#include &lt;QString&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); // åˆ›å»ºQVariantå¯¹è±¡å¹¶å­˜å‚¨ä¸åŒç±»å‹çš„æ•°æ® QVariant var1 = 42; // å­˜å‚¨æ•´æ•° QVariant var2 = 3.14; // å­˜å‚¨æµ®ç‚¹æ•° QVariant var3 = QString(&quot;Hello, QVariant!&quot;); // å­˜å‚¨QString // è®¿é—®å’Œè½¬æ¢æ•°æ® if(var1.canConvert&lt;int&gt;()) &#123; int intValue = var1.toInt(); qDebug() &lt;&lt; &quot;æ•´æ•°å€¼:&quot; &lt;&lt; intValue; &#125; if(var2.canConvert&lt;double&gt;()) &#123; double doubleValue = var2.toDouble(); qDebug() &lt;&lt; &quot;æµ®ç‚¹æ•°å€¼:&quot; &lt;&lt; doubleValue; &#125; if(var3.canConvert&lt;QString&gt;()) &#123; QString strValue = var3.toString(); qDebug() &lt;&lt; &quot;å­—ç¬¦ä¸²å€¼:&quot; &lt;&lt; strValue; &#125; return a.exec();&#125; è¾“å‡ºï¼š 123æ•´æ•°å€¼: 42æµ®ç‚¹æ•°å€¼: 3.14å­—ç¬¦ä¸²å€¼: &quot;Hello, QVariant!&quot; è§£é‡Šï¼š QVariantèƒ½å¤Ÿå­˜å‚¨å¤šç§ç±»å‹çš„æ•°æ®ï¼Œå¦‚æ•´æ•°ã€æµ®ç‚¹æ•°å’ŒQStringã€‚ ä½¿ç”¨canConvert&lt;T&gt;()æ–¹æ³•æ£€æŸ¥æ˜¯å¦å¯ä»¥è½¬æ¢ä¸ºæŒ‡å®šç±»å‹ï¼Œä½¿ç”¨to&lt;T&gt;()æ–¹æ³•è¿›è¡Œç±»å‹è½¬æ¢ã€‚ 11.2 QVariantä¸è‡ªå®šä¹‰ç±»å‹çš„ç»“åˆQVariantæ”¯æŒå­˜å‚¨è‡ªå®šä¹‰ç±»å‹ï¼Œä½†éœ€è¦è¿›è¡Œç›¸åº”çš„å£°æ˜å’Œæ³¨å†Œã€‚ ç¤ºä¾‹ï¼š 123456789101112131415161718192021222324252627282930313233#include &lt;QCoreApplication&gt;#include &lt;QVariant&gt;#include &lt;QString&gt;#include &lt;QDebug&gt;// è‡ªå®šä¹‰ç±»å‹struct Point &#123; int x; int y;&#125;;// å£°æ˜å…ƒç±»å‹Q_DECLARE_METATYPE(Point)int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); // æ³¨å†Œè‡ªå®šä¹‰ç±»å‹ qRegisterMetaType&lt;Point&gt;(&quot;Point&quot;); // å­˜å‚¨è‡ªå®šä¹‰ç±»å‹åˆ°QVariant Point p = &#123;10, 20&#125;; QVariant var; var.setValue(p); // æ£€æŸ¥å¹¶æå–è‡ªå®šä¹‰ç±»å‹ if(var.canConvert&lt;Point&gt;()) &#123; Point extracted = var.value&lt;Point&gt;(); qDebug() &lt;&lt; &quot;Point:&quot; &lt;&lt; extracted.x &lt;&lt; &quot;,&quot; &lt;&lt; extracted.y; &#125; return a.exec();&#125; è¾“å‡ºï¼š 1Point: 10 , 20 è§£é‡Šï¼š ä½¿ç”¨Q_DECLARE_METATYPE(Point)å£°æ˜è‡ªå®šä¹‰ç±»å‹ï¼Œä½¿å…¶èƒ½å¤Ÿä¸QVarianté…åˆä½¿ç”¨ã€‚ ä½¿ç”¨qRegisterMetaType&lt;Point&gt;(&quot;Point&quot;)æ³¨å†Œç±»å‹ï¼Œç¡®ä¿åœ¨ä¿¡å·ä¸æ§½ç­‰Qtæœºåˆ¶ä¸­æ­£å¸¸ä½¿ç”¨ã€‚ QVariantèƒ½å¤Ÿå­˜å‚¨å’Œè½¬æ¢è‡ªå®šä¹‰ç±»å‹Pointã€‚ 11.3 QVariantåœ¨æ¨¡å‹è§†å›¾ç¼–ç¨‹ä¸­çš„åº”ç”¨åœ¨Qtçš„æ¨¡å‹è§†å›¾æ¶æ„ä¸­ï¼ŒQVariantè¢«å¹¿æ³›ç”¨äºå­˜å‚¨å’Œä¼ é€’æ•°æ®ã€‚é€šè¿‡QVariantï¼Œæ¨¡å‹å¯ä»¥å­˜å‚¨ä¸åŒç±»å‹çš„æ•°æ®ï¼Œå¹¶åœ¨è§†å›¾ä¸­è¿›è¡Œå±•ç¤ºå’Œç¼–è¾‘ã€‚ ç¤ºä¾‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940#include &lt;QCoreApplication&gt;#include &lt;QStandardItemModel&gt;#include &lt;QStandardItem&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); // åˆ›å»ºæ ‡å‡†é¡¹ç›®æ¨¡å‹ QStandardItemModel model(2, 2); // 2è¡Œ2åˆ— // è®¾ç½®è¡¨å¤´ model.setHeaderData(0, Qt::Horizontal, &quot;Name&quot;); model.setHeaderData(1, Qt::Horizontal, &quot;Age&quot;); // å¡«å……æ•°æ® QStandardItem *item1 = new QStandardItem(&quot;Alice&quot;); QStandardItem *item2 = new QStandardItem(); item2-&gt;setData(30, Qt::EditRole); model.setItem(0, 0, item1); model.setItem(0, 1, item2); QStandardItem *item3 = new QStandardItem(&quot;Bob&quot;); QStandardItem *item4 = new QStandardItem(); item4-&gt;setData(25, Qt::EditRole); model.setItem(1, 0, item3); model.setItem(1, 1, item4); // è®¿é—®å’Œæ‰“å°æ•°æ® for(int row = 0; row &lt; model.rowCount(); ++row) &#123; for(int col = 0; col &lt; model.columnCount(); ++col) &#123; QVariant data = model.data(model.index(row, col), Qt::EditRole); qDebug() &lt;&lt; &quot;Row&quot; &lt;&lt; row &lt;&lt; &quot;Col&quot; &lt;&lt; col &lt;&lt; &quot;:&quot; &lt;&lt; data; &#125; &#125; return a.exec();&#125; è¾“å‡ºï¼š 1234Row 0 Col 0 : &quot;Alice&quot;Row 0 Col 1 : 30Row 1 Col 0 : &quot;Bob&quot;Row 1 Col 1 : 25 è§£é‡Šï¼š ä½¿ç”¨QStandardItemModelåˆ›å»ºä¸€ä¸ªç®€å•çš„æ¨¡å‹ï¼Œå­˜å‚¨å‘˜å·¥å§“åå’Œå¹´é¾„ã€‚ é€šè¿‡QVariantå­˜å‚¨ä¸åŒç±»å‹çš„æ•°æ®ï¼ˆQStringå’Œintï¼‰ã€‚ é€šè¿‡model.data()æ–¹æ³•è®¿é—®æ•°æ®ï¼Œå¹¶è¿›è¡Œæ‰“å°ã€‚ æ€»ç»“ï¼š QVariantåœ¨Qtçš„æ¨¡å‹è§†å›¾ç¼–ç¨‹ä¸­èµ·åˆ°äº†å…³é”®çš„æ¡¥æ¢ä½œç”¨ï¼Œæ”¯æŒå­˜å‚¨å’Œä¼ é€’å¤šç§ç±»å‹çš„æ•°æ®ï¼Œç¡®ä¿æ•°æ®çš„çµæ´»æ€§å’Œé€šç”¨æ€§ã€‚ 12. å¸¸ç”¨ç®—æ³•åŠæ­£åˆ™è¡¨è¾¾å¼åœ¨Qtå¼€å‘ä¸­ï¼Œé™¤äº†ä¸°å¯Œçš„å®¹å™¨ç±»å¤–ï¼Œè¿˜æä¾›äº†å¤šç§ç®—æ³•å’Œæ­£åˆ™è¡¨è¾¾å¼æ”¯æŒï¼Œå¸®åŠ©å¼€å‘è€…é«˜æ•ˆåœ°å¤„ç†æ•°æ®å’Œè¿›è¡Œæ–‡æœ¬åŒ¹é…ã€‚ 12.1 å¸¸ç”¨ç®—æ³•Qtæä¾›äº†ä¸€ç³»åˆ—ç®—æ³•å‡½æ•°ï¼Œç±»ä¼¼äºæ ‡å‡†C++åº“ä¸­çš„ç®—æ³•ã€‚è¿™äº›ç®—æ³•å‡½æ•°ä¸»è¦é›†ä¸­åœ¨QtAlgorithmsæ¨¡å—ï¼Œæä¾›äº†æ’åºã€æŸ¥æ‰¾ã€éå†ç­‰åŠŸèƒ½ã€‚ 12.1.1 æ’åºç®—æ³•ä½¿ç”¨qSortæˆ–std::sortå¯¹å®¹å™¨è¿›è¡Œæ’åºã€‚è™½ç„¶qSortåœ¨Qt 5ä¸­å·²ç»è¢«å¼ƒç”¨ï¼Œä½†åœ¨æŸäº›æ—§é¡¹ç›®ä¸­ä»å¯èƒ½ä½¿ç”¨ã€‚ ç¤ºä¾‹ï¼šä½¿ç”¨std::sortå¯¹QVectorè¿›è¡Œæ’åº 123456789101112131415161718#include &lt;QCoreApplication&gt;#include &lt;QVector&gt;#include &lt;QDebug&gt;#include &lt;algorithm&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); QVector&lt;int&gt; numbers = &#123;5, 2, 9, 1, 5, 6&#125;; qDebug() &lt;&lt; &quot;æ’åºå‰:&quot; &lt;&lt; numbers; // ä½¿ç”¨std::sortæ’åº std::sort(numbers.begin(), numbers.end()); qDebug() &lt;&lt; &quot;æ’åºå:&quot; &lt;&lt; numbers; return a.exec();&#125; è¾“å‡ºï¼š 12æ’åºå‰: QVector(5, 2, 9, 1, 5, 6)æ’åºå: QVector(1, 2, 5, 5, 6, 9) è§£é‡Šï¼š ä½¿ç”¨std::sortå¯¹QVectorä¸­çš„æ•´æ•°è¿›è¡Œå‡åºæ’åºã€‚ 12.1.2 æŸ¥æ‰¾ç®—æ³•ä½¿ç”¨std::findåœ¨å®¹å™¨ä¸­æŸ¥æ‰¾ç‰¹å®šå…ƒç´ ã€‚ ç¤ºä¾‹ï¼šæŸ¥æ‰¾QListä¸­çš„ç‰¹å®šå­—ç¬¦ä¸² 12345678910111213141516171819202122#include &lt;QCoreApplication&gt;#include &lt;QList&gt;#include &lt;QString&gt;#include &lt;QDebug&gt;#include &lt;algorithm&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); QList&lt;QString&gt; fruits = &#123;&quot;Apple&quot;, &quot;Banana&quot;, &quot;Cherry&quot;, &quot;Date&quot;&#125;; QString target = &quot;Cherry&quot;; // ä½¿ç”¨std::findæŸ¥æ‰¾å…ƒç´  auto it = std::find(fruits.begin(), fruits.end(), target); if(it != fruits.end()) &#123; qDebug() &lt;&lt; &quot;æ‰¾åˆ°æ°´æœ:&quot; &lt;&lt; *it; &#125; else &#123; qDebug() &lt;&lt; &quot;æœªæ‰¾åˆ°æ°´æœ:&quot; &lt;&lt; target; &#125; return a.exec();&#125; è¾“å‡ºï¼š 1æ‰¾åˆ°æ°´æœ: &quot;Cherry&quot; è§£é‡Šï¼š ä½¿ç”¨std::findåœ¨QListä¸­æŸ¥æ‰¾æŒ‡å®šçš„å­—ç¬¦ä¸²â€œCherryâ€ã€‚ 12.1.3 éå†ç®—æ³•ä½¿ç”¨std::for_eachå¯¹å®¹å™¨ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œç‰¹å®šæ“ä½œã€‚ ç¤ºä¾‹ï¼šä½¿ç”¨std::for_eachéå†QVectorå¹¶æ‰“å°å…ƒç´  1234567891011121314151617#include &lt;QCoreApplication&gt;#include &lt;QVector&gt;#include &lt;QDebug&gt;#include &lt;algorithm&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); QVector&lt;int&gt; numbers = &#123;1, 2, 3, 4, 5&#125;; // ä½¿ç”¨std::for_eachéå†å¹¶æ‰“å°å…ƒç´  std::for_each(numbers.begin(), numbers.end(), [](int num) &#123; qDebug() &lt;&lt; num; &#125;); return a.exec();&#125; è¾“å‡ºï¼š 1234512345 è§£é‡Šï¼š ä½¿ç”¨std::for_eachå’Œlambdaè¡¨è¾¾å¼éå†QVectorï¼Œå¹¶æ‰“å°æ¯ä¸ªå…ƒç´ çš„å€¼ã€‚ 12.2 æ­£åˆ™è¡¨è¾¾å¼æ”¯æŒQtæä¾›äº†QRegularExpressionç±»ï¼Œæ”¯æŒä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œå¤æ‚çš„æ–‡æœ¬åŒ¹é…å’Œå¤„ç†ã€‚ 12.2.1 QRegularExpressionçš„åŸºæœ¬ä½¿ç”¨ç¤ºä¾‹ï¼šéªŒè¯ç”¨æˆ·è¾“å…¥çš„é‚®ç®±åœ°å€ 1234567891011121314151617181920#include &lt;QCoreApplication&gt;#include &lt;QString&gt;#include &lt;QRegularExpression&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); QString email = &quot;user@example.com&quot;; QRegularExpression regex(R&quot;((\\w+)(\\.\\w+)*@(\\w+\\.)+(\\w+))&quot;); QRegularExpressionMatch match = regex.match(email); if(match.hasMatch()) &#123; qDebug() &lt;&lt; &quot;æœ‰æ•ˆçš„é‚®ç®±åœ°å€ã€‚&quot;; &#125; else &#123; qDebug() &lt;&lt; &quot;æ— æ•ˆçš„é‚®ç®±åœ°å€ã€‚&quot;; &#125; return a.exec();&#125; è¾“å‡ºï¼š 1æœ‰æ•ˆçš„é‚®ç®±åœ°å€ã€‚ è§£é‡Šï¼š ä½¿ç”¨QRegularExpressionå®šä¹‰äº†ä¸€ä¸ªç”¨äºåŒ¹é…é‚®ç®±åœ°å€çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚ match.hasMatch()åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…è¯¥æ­£åˆ™è¡¨è¾¾å¼ã€‚ 12.2.2 å­—ç¬¦ä¸²æ›¿æ¢ä½¿ç”¨QRegularExpressionå’ŒQString::replaceè¿›è¡Œå¤æ‚çš„å­—ç¬¦ä¸²æ›¿æ¢æ“ä½œã€‚ ç¤ºä¾‹ï¼šå°†æ–‡æœ¬ä¸­çš„ç‰¹å®šå…³é”®è¯æ›¿æ¢ä¸ºå¼ºè°ƒæ ¼å¼ 12345678910111213141516#include &lt;QCoreApplication&gt;#include &lt;QString&gt;#include &lt;QRegularExpression&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); QString text = &quot;C++11 introduced many features like auto, lambda, and smart pointers.&quot;; QRegularExpression regex(R&quot;(\\b(auto|lambda|smart pointers)\\b)&quot;); QString replacedText = text.replace(regex, &quot;&lt;strong&gt;\\\\1&lt;/strong&gt;&quot;); qDebug() &lt;&lt; replacedText; return a.exec();&#125; è¾“å‡ºï¼š 1&quot;C++11 introduced many features like &lt;strong&gt;auto&lt;/strong&gt;, &lt;strong&gt;lambda&lt;/strong&gt;, and &lt;strong&gt;smart pointers&lt;/strong&gt;.&quot; è§£é‡Šï¼š ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…autoã€lambdaå’Œsmart pointerså…³é”®è¯ã€‚ ä½¿ç”¨replaceå‡½æ•°å°†åŒ¹é…çš„å…³é”®è¯æ›¿æ¢ä¸ºå¸¦æœ‰HTMLæ ‡ç­¾çš„å¼ºè°ƒæ ¼å¼ã€‚ 12.2.3 å­—ç¬¦ä¸²åˆ†å‰²ä¸æå–ä½¿ç”¨QRegularExpressionç»“åˆQString::splitè¿›è¡Œå¤æ‚çš„å­—ç¬¦ä¸²åˆ†å‰²å’Œæå–æ“ä½œã€‚ ç¤ºä¾‹ï¼šæŒ‰å¤šä¸ªåˆ†éš”ç¬¦åˆ†å‰²å­—ç¬¦ä¸² 1234567891011121314151617181920#include &lt;QCoreApplication&gt;#include &lt;QString&gt;#include &lt;QRegularExpression&gt;#include &lt;QStringList&gt;#include &lt;QDebug&gt;int main(int argc, char *argv[]) &#123; QCoreApplication a(argc, argv); QString data = &quot;apple, banana; cherry|date&quot;; QRegularExpression regex(R&quot;([,;|])&quot;); QStringList fruits = data.split(regex); qDebug() &lt;&lt; &quot;æ°´æœåˆ—è¡¨:&quot;; for(const QString&amp; fruit : fruits) &#123; qDebug() &lt;&lt; fruit.trimmed(); &#125; return a.exec();&#125; è¾“å‡ºï¼š 12345æ°´æœåˆ—è¡¨:&quot;apple&quot;&quot;banana&quot;&quot;cherry&quot;&quot;date&quot; è§£é‡Šï¼š ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…é€—å·ã€åˆ†å·å’Œç«–çº¿ä½œä¸ºåˆ†éš”ç¬¦ã€‚ ä½¿ç”¨splitå‡½æ•°æŒ‰åŒ¹é…çš„åˆ†éš”ç¬¦åˆ†å‰²å­—ç¬¦ä¸²ï¼Œå¹¶ä½¿ç”¨trimmed()å»é™¤å¤šä½™çš„ç©ºæ ¼ã€‚ ç»“è¯­é€šè¿‡ç³»ç»Ÿåœ°å­¦ä¹ Qtå¼€å‘åŸºç¡€ä½“ç³»ï¼Œæ‚¨å·²ç»æŒæ¡äº†Qtæ¡†æ¶çš„æ ¸å¿ƒç»„ä»¶å’ŒæŠ€æœ¯ã€‚è¿™äº›çŸ¥è¯†å°†ä¸ºæ‚¨åœ¨å®é™…é¡¹ç›®ä¸­é«˜æ•ˆå¼€å‘å’Œç»´æŠ¤Qtåº”ç”¨ç¨‹åºæä¾›åšå®çš„åŸºç¡€ã€‚ç»§ç»­æ·±å…¥å­¦ä¹ å’Œå®è·µï¼Œç»“åˆé«˜çº§åŠŸèƒ½å’Œæœ€ä½³å®è·µï¼Œæ‚¨å°†èƒ½å¤Ÿæ„å»ºå‡ºåŠŸèƒ½ä¸°å¯Œã€æ€§èƒ½ä¼˜å¼‚ä¸”ç”¨æˆ·å‹å¥½çš„Qtåº”ç”¨ç¨‹åºã€‚","categories":[],"tags":[]},{"title":"2024æ–°å¹´å¿«ä¹","slug":"2024æ–°å¹´å¿«ä¹","date":"2024-01-01T08:46:53.000Z","updated":"2024-01-04T05:17:36.468Z","comments":true,"path":"2024/01/01/2024æ–°å¹´å¿«ä¹/","link":"","permalink":"http://ycx81.github.io/2024/01/01/2024%E6%96%B0%E5%B9%B4%E5%BF%AB%E4%B9%90/","excerpt":"å‰è¨€2023çœŸæ˜¯è½¬ç¬å³é€å•Šï¼","text":"å‰è¨€2023çœŸæ˜¯è½¬ç¬å³é€å•Šï¼ æ¯æ¬¡åˆ°æ€»ç»“çš„æ—¶å€™åˆä¸çŸ¥é“è¯¥è¯´äº›ä»€ä¹ˆï¼Œä¸é¡¾æˆ‘è§‰å¾—è¿‡å»çš„2023å¹´è¿˜æ˜¯æŒºå……å®çš„ã€‚å¯¹äºä¿æŒè®°å½•è¿™ç§äº‹æƒ…ä¸Šï¼Œæˆ‘ä¸çŸ¥é“ä¸ºå•¥æœ‰ç§è«åçš„æŠ—æ‹’ï¼Œæ˜¯ä¸æ˜¯è§‰å¾—è¯´å‡ºæ¥çš„è¯å°±ä¸æ˜¯å¿ƒé‡Œè¯äº†ï¼Œå“ˆå“ˆï¼Œæ­£ç»äººè°å†™æ—¥è®°å‘¢ã€‚23å¹´ç¡®å®æ˜¯ä¸æ–­æ€ç´¢å’Œå¯å‘çš„ä¸€å¹´ï¼Œä¸ŠåŠå¹´å¤„äºåŠæ‘†çƒ‚çŠ¶æ€ï¼Œæ¯å¤©éƒ½èƒ½èººç€åˆ·è§†é¢‘ä»æ—©çœ‹åˆ°æ™šï¼Œå¯¹äºä»Šåçš„äººç”Ÿé€‰æ‹©ä¹Ÿæ‡’å¾—å»æ€ç´¢ã€‚ åé¢ä¹Ÿæ…¢æ…¢å¼€å§‹å°è¯•å„ç§æ–°çš„ç”Ÿæ´»æ–¹å¼ï¼Œç›®å‰ä»å¤„äºå¹¶å°†é•¿æœŸå¤„äºæ¢ç´¢æ–°ç”Ÿæ´»çš„é˜¶æ®µã€‚å°¤å…¶æ˜¯é‡æ‹¾äº†ä¸€äº›å¤šå¹´å‰çš„å…´è¶£ï¼Œæ¯”å¦‚é‡æ‹¾äº†æ¯›ç¬”å­—ã€‚ã€‚ã€‚ ï¼ˆæ··è¿›å»äº†å…°äº­åºã€‚ã€‚ã€‚ï¼‰ ç”¨å¤šé‚»å›½å­¦äº†ç²¤è¯­ï¼Œæ„Ÿè§‰å®åœ¨æ²¡å­¦åˆ°å•¥ä¸œè¥¿ é‡æ‹¾äº†å‰ä»–ï¼Œè¿˜ç²—ç•¥åœ°å­¦ä¹ äº†ä¸€ä¸‹éŸ³é˜¶ï¼Œæ²¡å›¾å°±ä¸æ”¾äº†ã€‚ 2024æ‰“ç®—å†ç³»ç»Ÿå­¦ä¹ ä¸€ä¸‹ä¹ç†çŸ¥è¯†å’Œç”µé’¢ç´ï¼Œç›®å‰è¦è¯´çš„æµæ°´è´¦å°±è¿™äº›ã€‚","categories":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://ycx81.github.io/categories/%E9%9A%8F%E7%AC%94/"},{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://ycx81.github.io/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"åƒ","slug":"åƒ","permalink":"http://ycx81.github.io/tags/%E5%90%83/"}]},{"title":"C++ä¸­stringç›¸åŠ ä¸ºä»€ä¹ˆæœ‰æ—¶ä¸­é—´ä¼šå‡ºç°E","slug":"C-ä¸­stringç›¸åŠ ä¸ºä»€ä¹ˆæœ‰æ—¶ä¸­é—´ä¼šå‡ºç°E","date":"2023-12-28T08:05:37.000Z","updated":"2023-12-28T08:06:37.230Z","comments":true,"path":"2023/12/28/C-ä¸­stringç›¸åŠ ä¸ºä»€ä¹ˆæœ‰æ—¶ä¸­é—´ä¼šå‡ºç°E/","link":"","permalink":"http://ycx81.github.io/2023/12/28/C-%E4%B8%ADstring%E7%9B%B8%E5%8A%A0%E4%B8%BA%E4%BB%80%E4%B9%88%E6%9C%89%E6%97%B6%E4%B8%AD%E9%97%B4%E4%BC%9A%E5%87%BA%E7%8E%B0E/","excerpt":"å‰è¨€","text":"å‰è¨€ åœ¨C++ä¸­ï¼Œä½¿ç”¨ + è¿ç®—ç¬¦è¿›è¡Œå­—ç¬¦ä¸²ç›¸åŠ æ—¶ï¼Œä¸ä¼šå‡ºç°é¢å¤–çš„å­—ç¬¦å¦‚ â€œEâ€ã€‚å¦‚æœå­—ç¬¦ä¸²ç›¸åŠ çš„ç»“æœä¸­çœ‹åˆ° â€œEâ€ï¼Œå¯èƒ½æ˜¯å› ä¸ºå…¶ä¸­çš„ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯ä»¥ null å­—ç¬¦ (&#39;\\0&#39;) ç»“å°¾çš„ C é£æ ¼å­—ç¬¦ä¸²ï¼Œè€Œå¦ä¸€ä¸ªæ˜¯ä½¿ç”¨ C++ çš„ std::string è¡¨ç¤ºçš„ã€‚ åœ¨ C é£æ ¼å­—ç¬¦ä¸²ä¸­ï¼Œå­—ç¬¦ä¸²çš„ç»“æŸæ˜¯ç”± null å­—ç¬¦ (&#39;\\0&#39;) æ¥æ ‡å¿—çš„ã€‚å¦‚æœä¸€ä¸ªå­—ç¬¦ä¸²çš„æœ«å°¾æ²¡æœ‰ null å­—ç¬¦ï¼ŒC++ åœ¨å¤„ç†æ—¶å¯èƒ½ä¼šå¯¼è‡´é”™è¯¯ã€‚ ä¾‹å¦‚ï¼Œè€ƒè™‘ä»¥ä¸‹æƒ…å†µï¼š 12345678910111213#include &lt;iostream&gt;#include &lt;string&gt;int main() &#123; const char* cString = &quot;Hello&quot;; std::string cppString = &quot;World&quot;; std::string result = cString + cppString; std::cout &lt;&lt; result &lt;&lt; std::endl; return 0;&#125; åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒcString æ˜¯ä¸€ä¸ª C é£æ ¼å­—ç¬¦ä¸²ï¼Œè€Œ cppString æ˜¯ä¸€ä¸ª std::stringã€‚ç”±äº cString æ˜¯ä»¥ null å­—ç¬¦ç»“å°¾çš„ï¼Œå½“å®ƒä¸ cppString ç›¸åŠ æ—¶ï¼Œ+ è¿ç®—ç¬¦ä¼šç»§ç»­é™„åŠ  cppString çš„å†…å®¹ï¼Œä½†æ˜¯åœ¨ç»“æœå­—ç¬¦ä¸²ä¸­å¯èƒ½ä¼šæœ‰é—®é¢˜ã€‚ ä¸ºäº†é¿å…è¿™ç§é—®é¢˜ï¼Œå¯ä»¥ç¡®ä¿ C++ ä¸­çš„å­—ç¬¦ä¸²éƒ½æ˜¯ä½¿ç”¨ std::string ç±»å‹è¡¨ç¤ºã€‚å¦‚æœéœ€è¦å°† C é£æ ¼å­—ç¬¦ä¸²ä¸ std::string è¿›è¡Œæ“ä½œï¼Œå¯ä»¥ä½¿ç”¨ std::string çš„æ„é€ å‡½æ•°æ¥æ˜¾å¼åœ°åˆ›å»º std::string å¯¹è±¡ï¼š 1std::string result = std::string(cString) + cppString;","categories":[],"tags":[]},{"title":"C++é¢è¯•é¢˜æ€»ç»“ï¼ˆåˆ†ç±»ç‰ˆï¼‰","slug":"C-é¢è¯•é¢˜æ€»ç»“ï¼ˆåˆ†ç±»ç‰ˆï¼‰","date":"2023-08-23T11:29:27.000Z","updated":"2023-08-23T11:41:30.935Z","comments":true,"path":"2023/08/23/C-é¢è¯•é¢˜æ€»ç»“ï¼ˆåˆ†ç±»ç‰ˆï¼‰/","link":"","permalink":"http://ycx81.github.io/2023/08/23/C-%E9%9D%A2%E8%AF%95%E9%A2%98%E6%80%BB%E7%BB%93%EF%BC%88%E5%88%86%E7%B1%BB%E7%89%88%EF%BC%89/","excerpt":"å‰è¨€C++é¢è¯•é¢˜åˆ†çŸ¥è¯†ç‚¹é‡æ–°æ’äº†ä¸€ä¸‹","text":"å‰è¨€C++é¢è¯•é¢˜åˆ†çŸ¥è¯†ç‚¹é‡æ–°æ’äº†ä¸€ä¸‹ C&#x2F;C++ åŸºç¡€ ä»€ä¹ˆæ˜¯C++ï¼Ÿ å›ç­”ï¼š C++æ˜¯ä¸€ç§é€šç”¨çš„ã€é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ï¼Œæ˜¯Cè¯­è¨€çš„æ‰©å±•ï¼Œå®ƒç»“åˆäº†é«˜çº§è¯­è¨€çš„ç‰¹æ€§å’Œä½çº§è¯­è¨€çš„æ§åˆ¶ã€‚C++æ”¯æŒé¢å‘å¯¹è±¡ç¼–ç¨‹ã€æ³›å‹ç¼–ç¨‹å’Œè¿‡ç¨‹å¼ç¼–ç¨‹ï¼Œå…·æœ‰ä¸°å¯Œçš„æ ‡å‡†åº“ã€‚ ä»€ä¹ˆæ˜¯C++çš„ä¼˜ç‚¹å’Œç‰¹ç‚¹ï¼Ÿ å›ç­”ï¼š C++çš„ä¼˜ç‚¹åŒ…æ‹¬ï¼š é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼šæ”¯æŒç±»ã€ç»§æ‰¿ã€å¤šæ€ç­‰é¢å‘å¯¹è±¡ç‰¹æ€§ã€‚ æ€§èƒ½ï¼šC++å…è®¸åº•å±‚å†…å­˜æ§åˆ¶ï¼Œå¯å®ç°é«˜æ€§èƒ½çš„ä»£ç ã€‚ æ ‡å‡†åº“ï¼šæ‹¥æœ‰å¼ºå¤§çš„æ ‡å‡†åº“ï¼Œæä¾›å„ç§æ•°æ®ç»“æ„å’Œç®—æ³•ã€‚ å¤šèŒƒå¼ï¼šæ”¯æŒå¤šç§ç¼–ç¨‹èŒƒå¼ï¼Œå¦‚é¢å‘å¯¹è±¡å’Œæ³›å‹ç¼–ç¨‹ã€‚ ä»€ä¹ˆæ˜¯C++çš„ç¼ºç‚¹ï¼Ÿ å›ç­”ï¼š C++çš„ç¼ºç‚¹åŒ…æ‹¬ï¼š å¤æ‚æ€§ï¼šè¯­æ³•å¤æ‚ï¼Œå­¦ä¹ æ›²çº¿é™¡å³­ã€‚ å†…å­˜ç®¡ç†ï¼šéœ€è¦æ‰‹åŠ¨ç®¡ç†å†…å­˜ï¼Œå®¹æ˜“å¯¼è‡´å†…å­˜æ³„æ¼å’Œæ‚¬æŒ‚æŒ‡é’ˆã€‚ å®‰å…¨æ€§ï¼šä¸å¦‚ä¸€äº›å…¶ä»–è¯­è¨€ï¼ˆå¦‚Javaï¼‰é‚£æ ·ä¸¥æ ¼çš„å®‰å…¨æ€§ã€‚ ç§»æ¤æ€§ï¼šä¸åŒç¼–è¯‘å™¨å’Œå¹³å°ä¹‹é—´çš„ç§»æ¤æ€§æœ‰æ—¶è¾ƒå·®ã€‚ C++å’ŒCçš„ä¸»è¦åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ å›ç­”ï¼š C++åœ¨Cçš„åŸºç¡€ä¸Šå¼•å…¥äº†é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ç‰¹æ€§ï¼Œä¸»è¦åŒºåˆ«åŒ…æ‹¬ï¼š é¢å‘å¯¹è±¡ï¼šC++æ”¯æŒç±»ã€ç»§æ‰¿ã€å¤šæ€ç­‰é¢å‘å¯¹è±¡ç‰¹æ€§ï¼ŒCä¸æ”¯æŒã€‚ æ ‡å‡†åº“ï¼šC++æ‹¥æœ‰æ›´ä¸°å¯Œçš„æ ‡å‡†åº“ï¼ŒåŒ…æ‹¬STLç­‰ã€‚ å¼•å…¥äº†æ–°çš„å…³é”®å­—å’Œè¯­æ³•ï¼Œå¦‚classã€newã€deleteç­‰ã€‚ å…¼å®¹æ€§ï¼šC++å¯ä»¥ä½¿ç”¨Cçš„ä»£ç ï¼Œä½†Cä¸ä¸€å®šèƒ½ä½¿ç”¨C++çš„ä»£ç ã€‚ ä»€ä¹ˆæ˜¯C++æ ‡å‡†åº“ï¼Ÿ å›ç­”ï¼š C++æ ‡å‡†åº“æ˜¯ä¸€ç»„æ ‡å‡†åŒ–çš„å‡½æ•°ã€å¯¹è±¡å’Œæ¨¡æ¿ï¼Œæä¾›äº†å„ç§æ•°æ®ç»“æ„å’Œç®—æ³•ï¼Œä»¥ä¾¿C++ç¨‹åºå‘˜æ›´è½»æ¾åœ°å¼€å‘åº”ç”¨ç¨‹åºã€‚å®ƒåŒ…æ‹¬è¾“å…¥è¾“å‡ºã€å®¹å™¨ã€ç®—æ³•ã€æ–‡ä»¶æ“ä½œç­‰å¤šä¸ªéƒ¨åˆ†ï¼Œå¦‚STLï¼ˆStandard Template Libraryï¼‰ã€‚ C++ä¸­çš„constå…³é”®å­—æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ å›ç­”ï¼š constå…³é”®å­—ç”¨äºå£°æ˜å¸¸é‡ï¼Œå®ƒæœ‰ä»¥ä¸‹ä½œç”¨ï¼š å£°æ˜å¸¸é‡å˜é‡ï¼Œä¸€æ—¦èµ‹å€¼åä¸èƒ½ä¿®æ”¹ã€‚ å£°æ˜å¸¸é‡æŒ‡é’ˆï¼ŒæŒ‡é’ˆæŒ‡å‘çš„å†…å®¹ä¸èƒ½é€šè¿‡æŒ‡é’ˆä¿®æ”¹ã€‚ å£°æ˜å¸¸é‡æˆå‘˜å‡½æ•°ï¼Œä¸å…è®¸ä¿®æ”¹å¯¹è±¡çš„æˆå‘˜å˜é‡ã€‚ C++ä¸­çš„staticå…³é”®å­—æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ å›ç­”ï¼š staticå…³é”®å­—åœ¨C++ä¸­çš„ä½œç”¨åŒ…æ‹¬ï¼š å£°æ˜é™æ€å˜é‡ï¼Œè¿™äº›å˜é‡åœ¨å‡½æ•°è°ƒç”¨ä¹‹é—´ä¿æŒå…¶å€¼ã€‚ å£°æ˜é™æ€æˆå‘˜å˜é‡ï¼Œè¿™äº›æˆå‘˜å˜é‡å±äºç±»è€Œä¸æ˜¯å¯¹è±¡ã€‚ å£°æ˜é™æ€æˆå‘˜å‡½æ•°ï¼Œè¿™äº›å‡½æ•°ä¸å±äºç‰¹å®šå¯¹è±¡ï¼Œå¯é€šè¿‡ç±»åç›´æ¥è®¿é—®ã€‚ C++ä¸­çš„æŒ‡é’ˆå’Œå¼•ç”¨æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ å›ç­”ï¼š æŒ‡é’ˆå’Œå¼•ç”¨çš„åŒºåˆ«åŒ…æ‹¬ï¼š åˆå§‹åŒ–å’Œèµ‹å€¼ï¼š æŒ‡é’ˆéœ€è¦åˆå§‹åŒ–ï¼Œå¹¶å¯ä»¥åœ¨åç»­é‡æ–°èµ‹å€¼ï¼Œè€Œå¼•ç”¨å¿…é¡»åœ¨å£°æ˜æ—¶åˆå§‹åŒ–ï¼Œå¹¶ä¸èƒ½é‡æ–°ç»‘å®šåˆ°å…¶ä»–å¯¹è±¡ã€‚ ç¬¦å·å’Œæ“ä½œï¼š æŒ‡é’ˆä½¿ç”¨*å’Œ-&gt;æ¥è®¿é—®å¯¹è±¡ï¼Œè€Œå¼•ç”¨ç›´æ¥ä½¿ç”¨å¯¹è±¡åã€‚ ç©ºå€¼ï¼š æŒ‡é’ˆå¯ä»¥ä¸ºç©ºï¼ˆnullï¼‰ï¼Œå¼•ç”¨ä¸èƒ½ã€‚ C++ä¸­çš„é‡è½½ï¼ˆOverloadingï¼‰æ˜¯ä»€ä¹ˆï¼Ÿ å›ç­”ï¼š é‡è½½æ˜¯C++ä¸­çš„ç‰¹æ€§ï¼Œå…è®¸åœ¨åŒä¸€ä½œç”¨åŸŸå†…å®šä¹‰å¤šä¸ªåŒåå‡½æ•°ï¼Œä½†å®ƒä»¬å…·æœ‰ä¸åŒçš„å‚æ•°åˆ—è¡¨ï¼ˆå‚æ•°ç±»å‹æˆ–ä¸ªæ•°ï¼‰ã€‚ç¼–è¯‘å™¨æ ¹æ®å‡½æ•°è°ƒç”¨æ—¶æä¾›çš„å‚æ•°æ¥é€‰æ‹©æ­£ç¡®çš„å‡½æ•°ç‰ˆæœ¬ã€‚ ä»€ä¹ˆæ˜¯C++ä¸­çš„è¿ç®—ç¬¦é‡è½½ï¼Ÿ å›ç­”ï¼š è¿ç®—ç¬¦é‡è½½æ˜¯C++ä¸­çš„ç‰¹æ€§ï¼Œå…è®¸å¯¹æ ‡å‡†è¿ç®—ç¬¦ï¼ˆå¦‚+ã€-ã€*ç­‰ï¼‰è¿›è¡Œè‡ªå®šä¹‰å®šä¹‰ï¼Œä»¥ä¾¿ç”¨äºè‡ªå®šä¹‰æ•°æ®ç±»å‹çš„æ“ä½œã€‚è¿ç®—ç¬¦é‡è½½é€šè¿‡å‡½æ•°é‡è½½æ¥å®ç°ï¼Œé‡è½½å‡½æ•°çš„åç§°æ˜¯è¿ç®—ç¬¦æœ¬èº«ã€‚ å†…å­˜ç®¡ç†å’ŒæŒ‡é’ˆ ä»€ä¹ˆæ˜¯å†…å­˜æ³„æ¼ï¼Ÿå¦‚ä½•é¿å…å†…å­˜æ³„æ¼ï¼Ÿ å›ç­”ï¼š å†…å­˜æ³„æ¼æ˜¯æŒ‡ç¨‹åºåˆ†é…çš„å†…å­˜åœ¨ä¸å†ä½¿ç”¨æ—¶æœªè¢«é‡Šæ”¾ï¼Œå¯¼è‡´ç³»ç»Ÿçš„å¯ç”¨å†…å­˜é€æ¸å‡å°‘ã€‚è¦é¿å…å†…å­˜æ³„æ¼ï¼Œå¯ä»¥é‡‡å–ä»¥ä¸‹æªæ–½ï¼š å§‹ç»ˆåŒ¹é…newå’Œdeleteã€mallocå’Œfreeã€‚ ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆæ¥è‡ªåŠ¨ç®¡ç†å†…å­˜ã€‚ é€‚æ—¶é‡Šæ”¾ä¸å†ä½¿ç”¨çš„èµ„æºï¼Œå¦‚æ–‡ä»¶å¥æŸ„ã€æ•°æ®åº“è¿æ¥ç­‰ã€‚ ä½¿ç”¨å†…ç½®æ•°ç»„æˆ–STLå®¹å™¨è€Œä¸æ˜¯æ‰‹åŠ¨åˆ†é…å†…å­˜ã€‚ ä»€ä¹ˆæ˜¯æ™ºèƒ½æŒ‡é’ˆï¼ˆSmart Pointerï¼‰ï¼Ÿåœ¨C++ä¸­æœ‰å“ªäº›æ™ºèƒ½æŒ‡é’ˆï¼Ÿ å›ç­”ï¼š æ™ºèƒ½æŒ‡é’ˆæ˜¯C++ä¸­çš„ä¸€ç§æ•°æ®ç±»å‹ï¼Œç”¨äºç®¡ç†åŠ¨æ€åˆ†é…çš„å†…å­˜ï¼Œä»¥é¿å…å†…å­˜æ³„æ¼å’Œæ‚¬æŒ‚æŒ‡é’ˆç­‰é—®é¢˜ã€‚C++æ ‡å‡†åº“æä¾›äº†ä»¥ä¸‹å‡ ç§æ™ºèƒ½æŒ‡é’ˆï¼š std::unique_ptrï¼šè¡¨ç¤ºç‹¬å æ‰€æœ‰æƒçš„æ™ºèƒ½æŒ‡é’ˆã€‚ std::shared_ptrï¼šè¡¨ç¤ºå¤šä¸ªæ™ºèƒ½æŒ‡é’ˆå¯ä»¥å…±äº«ç›¸åŒå†…å­˜å—çš„æ‰€æœ‰æƒã€‚ std::weak_ptrï¼šæ˜¯ä¸€ç§å¼±å¼•ç”¨æ™ºèƒ½æŒ‡é’ˆï¼Œç”¨äºè§£å†³std::shared_ptrçš„å¾ªç¯å¼•ç”¨é—®é¢˜ã€‚ ä»€ä¹ˆæ˜¯å †ï¼ˆHeapï¼‰å’Œæ ˆï¼ˆStackï¼‰ï¼Ÿ å›ç­”ï¼š å †å’Œæ ˆæ˜¯è®¡ç®—æœºå†…å­˜ä¸­çš„ä¸¤ä¸ªä¸»è¦åŒºåŸŸï¼š æ ˆï¼ˆStackï¼‰ï¼š ç”¨äºå­˜å‚¨å‡½æ•°è°ƒç”¨ã€å±€éƒ¨å˜é‡ç­‰çŸ­æœŸå­˜å‚¨çš„æ•°æ®ã€‚å®ƒçš„ç®¡ç†ç”±ç¼–è¯‘å™¨è‡ªåŠ¨å¤„ç†ï¼Œé€šå¸¸å…·æœ‰è¾ƒå°çš„å›ºå®šå¤§å°ã€‚ å †ï¼ˆHeapï¼‰ï¼š ç”¨äºå­˜å‚¨åŠ¨æ€åˆ†é…çš„æ•°æ®ï¼Œå¦‚é€šè¿‡newã€mallocç­‰åˆ†é…çš„å†…å­˜ã€‚å †çš„ç®¡ç†éœ€è¦æ˜¾å¼é‡Šæ”¾ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´å†…å­˜æ³„æ¼ã€‚ ä»€ä¹ˆæ˜¯æŒ‡é’ˆå’Œå¼•ç”¨ï¼Ÿå®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ å›ç­”ï¼š æŒ‡é’ˆå’Œå¼•ç”¨çš„åŒºåˆ«åŒ…æ‹¬ï¼š åˆå§‹åŒ–å’Œèµ‹å€¼ï¼š æŒ‡é’ˆéœ€è¦åˆå§‹åŒ–ï¼Œå¹¶å¯ä»¥åœ¨åç»­é‡æ–°èµ‹å€¼ï¼Œè€Œå¼•ç”¨å¿…é¡»åœ¨å£°æ˜æ—¶åˆå§‹åŒ–ï¼Œå¹¶ä¸èƒ½é‡æ–°ç»‘å®šåˆ°å…¶ä»–å¯¹è±¡ã€‚ ç¬¦å·å’Œæ“ä½œï¼š æŒ‡é’ˆä½¿ç”¨*å’Œ-&gt;æ¥è®¿é—®å¯¹è±¡ï¼Œè€Œå¼•ç”¨ç›´æ¥ä½¿ç”¨å¯¹è±¡åã€‚ ç©ºå€¼ï¼š æŒ‡é’ˆå¯ä»¥ä¸ºç©ºï¼ˆnullï¼‰ï¼Œå¼•ç”¨ä¸èƒ½ã€‚ ä»€ä¹ˆæ˜¯é‡æŒ‡é’ˆï¼ˆDangling Pointerï¼‰ï¼Ÿå¦‚ä½•é¿å…é‡æŒ‡é’ˆé—®é¢˜ï¼Ÿ å›ç­”ï¼š é‡æŒ‡é’ˆæ˜¯æŒ‡æŒ‡å‘å·²é‡Šæ”¾æˆ–æœªåˆ†é…å†…å­˜çš„æŒ‡é’ˆï¼Œè®¿é—®é‡æŒ‡é’ˆä¼šå¯¼è‡´æœªå®šä¹‰çš„è¡Œä¸ºã€‚ä¸ºé¿å…é‡æŒ‡é’ˆé—®é¢˜ï¼Œå¯ä»¥é‡‡å–ä»¥ä¸‹æªæ–½ï¼š åœ¨é‡Šæ”¾å†…å­˜åï¼Œå°†æŒ‡é’ˆè®¾ç½®ä¸ºnullæˆ–ç©ºæŒ‡é’ˆã€‚ é¿å…ä½¿ç”¨æœªåˆå§‹åŒ–çš„æŒ‡é’ˆã€‚ ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆæ¥è‡ªåŠ¨ç®¡ç†å†…å­˜ã€‚ ç±»å’Œé¢å‘å¯¹è±¡ç¼–ç¨‹ ä»€ä¹ˆæ˜¯ç±»å’Œå¯¹è±¡ï¼Ÿ å›ç­”ï¼š ç±»æ˜¯ä¸€ç§æŠ½è±¡æ•°æ®ç±»å‹ï¼Œå®šä¹‰äº†æ•°æ®æˆå‘˜å’Œæˆå‘˜å‡½æ•°ï¼Œå¯¹è±¡æ˜¯ç±»çš„å®ä¾‹ã€‚ç±»æè¿°äº†å¯¹è±¡çš„å±æ€§å’Œè¡Œä¸ºã€‚ ä»€ä¹ˆæ˜¯å°è£…ï¼ˆEncapsulationï¼‰ï¼Ÿ å›ç­”ï¼š å°è£…æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„åŸåˆ™ï¼Œå®ƒå°†æ•°æ®å’Œæ“ä½œæ•°æ®çš„æ–¹æ³•å°è£…åœ¨ä¸€ä¸ªå•å…ƒä¸­ï¼Œé˜²æ­¢å¤–éƒ¨ç›´æ¥è®¿é—®æ•°æ®ï¼Œæä¾›äº†æ•°æ®éšè—å’ŒæŠ½è±¡ã€‚ ä»€ä¹ˆæ˜¯ç»§æ‰¿ï¼ˆInheritanceï¼‰ï¼ŸC++æ”¯æŒå¤šé‡ç»§æ‰¿å—ï¼Ÿ å›ç­”ï¼š ç»§æ‰¿æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ¦‚å¿µï¼Œå…è®¸ä¸€ä¸ªç±»ï¼ˆæ´¾ç”Ÿç±»ï¼‰ä»å¦ä¸€ä¸ªç±»ï¼ˆåŸºç±»ï¼‰ç»§æ‰¿å±æ€§å’Œè¡Œä¸ºã€‚C++æ”¯æŒå¤šé‡ç»§æ‰¿ï¼Œå³ä¸€ä¸ªæ´¾ç”Ÿç±»å¯ä»¥ä»å¤šä¸ªåŸºç±»ç»§æ‰¿ã€‚ ä»€ä¹ˆæ˜¯å¤šæ€æ€§ï¼ˆPolymorphismï¼‰ï¼ŸC++ä¸­å¦‚ä½•å®ç°å¤šæ€æ€§ï¼Ÿ å›ç­”ï¼š å¤šæ€æ€§æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ¦‚å¿µï¼Œå®ƒå…è®¸ä¸åŒå¯¹è±¡å¯¹ç›¸åŒçš„æ¶ˆæ¯åšå‡ºä¸åŒçš„å“åº”ã€‚åœ¨C++ä¸­ï¼Œå¤šæ€æ€§é€šè¿‡è™šå‡½æ•°å’Œå‡½æ•°é‡è½½æ¥å®ç°ã€‚ ä»€ä¹ˆæ˜¯è™šå‡½æ•°ï¼ˆVirtual Functionï¼‰å’Œçº¯è™šå‡½æ•°ï¼ˆPure Virtual Functionï¼‰ï¼Ÿ å›ç­”ï¼š è™šå‡½æ•°æ˜¯ç”¨å…³é”®å­—virtualå£°æ˜çš„ç±»æˆå‘˜å‡½æ•°ï¼Œå®ƒå…è®¸åœ¨æ´¾ç”Ÿç±»ä¸­è¿›è¡Œé‡å†™ï¼ˆè¦†ç›–ï¼‰ã€‚çº¯è™šå‡½æ•°æ˜¯ä¸€ä¸ªæ²¡æœ‰å®ç°çš„è™šå‡½æ•°ï¼Œå®ƒçš„å£°æ˜ä»¥= 0ç»“å°¾ï¼Œç”¨äºå®šä¹‰æ¥å£ã€‚ ä»€ä¹ˆæ˜¯æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ï¼Ÿå®ƒä»¬çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ å›ç­”ï¼š æ„é€ å‡½æ•°æ˜¯ç”¨äºå¯¹è±¡åˆå§‹åŒ–çš„ç‰¹æ®Šæˆå‘˜å‡½æ•°ï¼Œå®ƒåœ¨å¯¹è±¡åˆ›å»ºæ—¶è‡ªåŠ¨è°ƒç”¨ã€‚ææ„å‡½æ•°ç”¨äºå¯¹è±¡é”€æ¯æ—¶æ‰§è¡Œå¿…è¦çš„æ¸…ç†å’Œèµ„æºé‡Šæ”¾æ“ä½œã€‚æ„é€ å‡½æ•°å’Œææ„å‡½æ•°çš„åç§°ä¸ç±»åç›¸åŒï¼Œä½†ææ„å‡½æ•°å‰é¢åŠ ä¸Šæ³¢æµªå·ï¼ˆ~ï¼‰ã€‚ å¼‚å¸¸å¤„ç† ä»€ä¹ˆæ˜¯å¼‚å¸¸å¤„ç†ï¼ˆException Handlingï¼‰ï¼Ÿåœ¨C++ä¸­å¦‚ä½•è¿›è¡Œå¼‚å¸¸å¤„ç†ï¼Ÿ å›ç­”ï¼š å¼‚å¸¸å¤„ç†æ˜¯ä¸€ç§ç¨‹åºè®¾è®¡å’Œé”™è¯¯å¤„ç†çš„æ–¹æ³•ï¼Œç”¨äºå¤„ç†ç¨‹åºåœ¨è¿è¡Œæ—¶é‡åˆ°çš„å¼‚å¸¸æƒ…å†µã€‚å¼‚å¸¸æ˜¯æŒ‡ä¸å¯»å¸¸çš„ã€ä¸æ­£å¸¸çš„æƒ…å†µï¼Œå¯èƒ½å¯¼è‡´ç¨‹åºä¸­æ–­æˆ–ä¸æ­£å¸¸è¡Œä¸ºã€‚åœ¨C++ä¸­ï¼Œå¼‚å¸¸å¤„ç†å¯ä»¥é€šè¿‡tryã€throwå’Œcatchå…³é”®å­—æ¥å®ç°ã€‚ ä»€ä¹ˆæ˜¯RAIIï¼ˆèµ„æºè·å–å³åˆå§‹åŒ–ï¼‰ï¼Ÿå®ƒåœ¨C++ä¸­æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ å›ç­”ï¼š RAIIï¼ˆResource Acquisition Is Initializationï¼‰æ˜¯C++ä¸­çš„ä¸€ç§ç¼–ç¨‹èŒƒå¼ï¼Œå®ƒå¼ºè°ƒèµ„æºçš„è·å–å’Œé‡Šæ”¾åº”ä¸å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸç»‘å®šã€‚RAIIçš„æ ¸å¿ƒæ€æƒ³æ˜¯åœ¨å¯¹è±¡çš„æ„é€ å‡½æ•°ä¸­è·å–èµ„æºï¼Œåœ¨ææ„å‡½æ•°ä¸­é‡Šæ”¾èµ„æºï¼Œè¿™æ ·å¯ä»¥ç¡®ä¿èµ„æºåœ¨å¯¹è±¡ç”Ÿå‘½å‘¨æœŸç»“æŸæ—¶è¢«æ­£ç¡®é‡Šæ”¾ï¼Œé¿å…èµ„æºæ³„æ¼ã€‚RAIIç”¨äºç®¡ç†å„ç§èµ„æºï¼ŒåŒ…æ‹¬å†…å­˜ã€æ–‡ä»¶å¥æŸ„ã€æ•°æ®åº“è¿æ¥ç­‰ã€‚ æ–‡ä»¶å’Œè¾“å…¥è¾“å‡º å¦‚ä½•åœ¨C++ä¸­è¯»å†™æ–‡ä»¶ï¼Ÿ å›ç­”ï¼š åœ¨C++ä¸­ï¼Œå¯ä»¥ä½¿ç”¨&lt;fstream&gt;å¤´æ–‡ä»¶ä¸­çš„ifstreamå’Œofstreamç±»æ¥è¿›è¡Œæ–‡ä»¶çš„è¯»å†™æ“ä½œã€‚é€šå¸¸çš„æ­¥éª¤åŒ…æ‹¬æ‰“å¼€æ–‡ä»¶ã€è¯»å†™æ•°æ®ã€å…³é—­æ–‡ä»¶ã€‚åŒæ—¶ï¼ŒC++è¿˜æä¾›äº†&lt;iostream&gt;ä¸­çš„è¾“å…¥è¾“å‡ºæµå¯¹è±¡ï¼Œå¦‚cinå’Œcoutï¼Œç”¨äºæ ‡å‡†è¾“å…¥è¾“å‡ºã€‚ ä»€ä¹ˆæ˜¯C++çš„æµï¼ˆStreamï¼‰ï¼Ÿæœ‰å“ªäº›å¸¸ç”¨çš„æµå¯¹è±¡ï¼Ÿ å›ç­”ï¼š æµæ˜¯C++ä¸­ç”¨äºè¾“å…¥å’Œè¾“å‡ºçš„æŠ½è±¡æ¦‚å¿µï¼Œå®ƒå°†æ•°æ®æµè½¬åŒ–ä¸ºå­—ç¬¦æµï¼Œä½¿å¾—æ•°æ®çš„è¾“å…¥å’Œè¾“å‡ºéƒ½å¯ä»¥é€šè¿‡æµè¿›è¡Œã€‚å¸¸ç”¨çš„æµå¯¹è±¡åŒ…æ‹¬ï¼š cinï¼šæ ‡å‡†è¾“å…¥æµï¼Œç”¨äºä»é”®ç›˜è¯»å–è¾“å…¥ã€‚ coutï¼šæ ‡å‡†è¾“å‡ºæµï¼Œç”¨äºå‘å±å¹•è¾“å‡ºã€‚ ifstreamï¼šç”¨äºä»æ–‡ä»¶è¯»å–è¾“å…¥ã€‚ ofstreamï¼šç”¨äºå‘æ–‡ä»¶å†™å…¥è¾“å‡ºã€‚ stringstreamï¼šç”¨äºå¤„ç†å­—ç¬¦ä¸²çš„è¾“å…¥è¾“å‡ºã€‚ C++ä¸­çš„è¾“å…¥è¾“å‡ºè¿ç®—ç¬¦æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•é‡è½½å®ƒä»¬ï¼Ÿ å›ç­”ï¼š C++ä¸­çš„è¾“å…¥è¾“å‡ºè¿ç®—ç¬¦æ˜¯&lt;&lt;å’Œ&gt;&gt;ï¼Œå®ƒä»¬é€šå¸¸ç”¨äºcoutå’Œcinå¯¹è±¡ä»¥åŠæ–‡ä»¶æµå¯¹è±¡çš„è¾“å…¥è¾“å‡ºã€‚æ‚¨å¯ä»¥é€šè¿‡è¿ç®—ç¬¦é‡è½½æ¥è‡ªå®šä¹‰ç±»çš„è¾“å…¥è¾“å‡ºè¡Œä¸ºï¼Œé‡è½½å‡½æ•°çš„åç§°æ˜¯è¿ç®—ç¬¦æœ¬èº«ï¼Œä¾‹å¦‚ï¼š 123456789101112class MyClass &#123;public: int data; friend std::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, const MyClass&amp; obj) &#123; os &lt;&lt; obj.data; // è‡ªå®šä¹‰è¾“å‡ºè¡Œä¸º return os; &#125; friend std::istream&amp; operator&gt;&gt;(std::istream&amp; is, MyClass&amp; obj) &#123; is &gt;&gt; obj.data; // è‡ªå®šä¹‰è¾“å…¥è¡Œä¸º return is; &#125;&#125;; æ¨¡æ¿å’Œæ³›å‹ç¼–ç¨‹ ä»€ä¹ˆæ˜¯æ¨¡æ¿ï¼ˆTemplateï¼‰ï¼Ÿåœ¨C++ä¸­å¦‚ä½•ä½¿ç”¨æ¨¡æ¿ï¼Ÿ å›ç­”ï¼š æ¨¡æ¿æ˜¯C++ä¸­çš„ä¸€ç§æœºåˆ¶ï¼Œå…è®¸ç¼–å†™é€šç”¨çš„ä»£ç ä»¥é€‚åº”ä¸åŒçš„æ•°æ®ç±»å‹ã€‚æ¨¡æ¿ä»¥templateå…³é”®å­—å¼€å§‹ï¼Œå¯ä»¥å®šä¹‰å‡½æ•°æ¨¡æ¿å’Œç±»æ¨¡æ¿ã€‚ ä»€ä¹ˆæ˜¯STLï¼ˆStandard Template Libraryï¼‰ï¼Ÿå®ƒåŒ…æ‹¬å“ªäº›å¸¸è§ç»„ä»¶ï¼Ÿ å›ç­”ï¼š STLæ˜¯C++æ ‡å‡†åº“çš„ä¸€éƒ¨åˆ†ï¼Œæä¾›äº†è®¸å¤šå¸¸ç”¨çš„æ•°æ®ç»“æ„å’Œç®—æ³•ï¼ŒåŒ…æ‹¬å®¹å™¨ï¼ˆå¦‚å‘é‡ã€é“¾è¡¨ã€æ˜ å°„ï¼‰ã€è¿­ä»£å™¨ã€ç®—æ³•ï¼ˆå¦‚æ’åºã€æŸ¥æ‰¾ã€éå†ï¼‰ç­‰ã€‚STLä½¿C++ç¨‹åºå‘˜èƒ½å¤Ÿæ›´è½»æ¾åœ°å¤„ç†æ•°æ®å’Œæ‰§è¡Œå¸¸è§çš„æ“ä½œã€‚ ç¼–è¯‘å’Œé¢„å¤„ç†å™¨ ä»€ä¹ˆæ˜¯é¢„å¤„ç†å™¨ï¼ˆPreprocessorï¼‰ï¼Ÿå®ƒåœ¨C&#x2F;C++ä¸­æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ å›ç­”ï¼š é¢„å¤„ç†å™¨æ˜¯C&#x2F;C++ç¼–è¯‘è¿‡ç¨‹çš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºåœ¨å®é™…ç¼–è¯‘ä¹‹å‰å¯¹æºä»£ç è¿›è¡Œå¤„ç†ã€‚å®ƒçš„ä¸»è¦ä½œç”¨åŒ…æ‹¬ï¼š å¤„ç†é¢„å¤„ç†æŒ‡ä»¤ï¼Œå¦‚#includeã€#defineç­‰ã€‚ è¿›è¡Œå®æ›¿æ¢ã€‚ æ¡ä»¶ç¼–è¯‘ï¼Œæ ¹æ®æ¡ä»¶ç¼–è¯‘éƒ¨åˆ†ä»£ç ã€‚ ç”Ÿæˆå¤´æ–‡ä»¶çš„åŒ…å«å…³ç³»ã€‚é¢„å¤„ç†å™¨çš„å·¥ä½œæ˜¯åœ¨å®é™…ç¼–è¯‘ä¹‹å‰è¿›è¡Œçš„ï¼Œå®ƒå¯ä»¥å½±å“æºä»£ç çš„æ–‡æœ¬ï¼Œä½†ä¸ä¼šæ¶‰åŠç¼–è¯‘åçš„æœºå™¨ä»£ç ç”Ÿæˆã€‚ é¢è¯•ä¸­å¸¸è§é—®é¢˜ ä¸ºä»€ä¹ˆC++ä¸­éœ€è¦ææ„å‡½æ•°ï¼Ÿ å›ç­”ï¼š ææ„å‡½æ•°æ˜¯C++ä¸­çš„ç‰¹æ®Šæˆå‘˜å‡½æ•°ï¼Œç”¨äºåœ¨å¯¹è±¡ç”Ÿå‘½å‘¨æœŸç»“æŸæ—¶æ‰§è¡Œå¿…è¦çš„æ¸…ç†å’Œèµ„æºé‡Šæ”¾æ“ä½œã€‚å®ƒæ˜¯å¿…è¦çš„ï¼Œå› ä¸ºC++å…è®¸æ‰‹åŠ¨ç®¡ç†èµ„æºï¼Œå¦‚å†…å­˜ã€æ–‡ä»¶å¥æŸ„ç­‰ï¼Œææ„å‡½æ•°ç¡®ä¿è¿™äº›èµ„æºåœ¨å¯¹è±¡é”€æ¯æ—¶è¢«æ­£ç¡®é‡Šæ”¾ï¼Œé¿å…èµ„æºæ³„æ¼ã€‚ ä»€ä¹ˆæ˜¯å‡½æ•°é‡è½½ï¼ˆFunction Overloadingï¼‰ï¼Ÿä¸¾ä¾‹è¯´æ˜ã€‚ å›ç­”ï¼š å‡½æ•°é‡è½½æ˜¯æŒ‡åœ¨åŒä¸€ä½œç”¨åŸŸå†…å®šä¹‰å¤šä¸ªåŒåå‡½æ•°ï¼Œä½†å®ƒä»¬å…·æœ‰ä¸åŒçš„å‚æ•°åˆ—è¡¨ï¼ˆå‚æ•°ç±»å‹æˆ–ä¸ªæ•°ï¼‰ã€‚ç¼–è¯‘å™¨æ ¹æ®å‡½æ•°è°ƒç”¨æ—¶æä¾›çš„å‚æ•°æ¥é€‰æ‹©æ­£ç¡®çš„å‡½æ•°ç‰ˆæœ¬ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š 1234567891011121314151617void print(int x) &#123; std::cout &lt;&lt; &quot;Printing integer: &quot; &lt;&lt; x &lt;&lt; std::endl;&#125;void print(double y) &#123; std::cout &lt;&lt; &quot;Printing double: &quot; &lt;&lt; y &lt;&lt; std::endl;&#125;int main() &#123; int a = 42; double b = 3.14; print(a); // ç¼–è¯‘æ—¶ç¡®å®šè°ƒç”¨ print(int) print(b); // ç¼–è¯‘æ—¶ç¡®å®šè°ƒç”¨ print(double) return 0;&#125; C++ä¸­çš„å¤šé‡ç»§æ‰¿æ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰ä»€ä¹ˆç‰¹ç‚¹å’Œæ½œåœ¨çš„é—®é¢˜ï¼Ÿ å›ç­”ï¼š å¤šé‡ç»§æ‰¿æ˜¯C++ä¸­çš„é¢å‘å¯¹è±¡ç¼–ç¨‹æ¦‚å¿µï¼Œå…è®¸ä¸€ä¸ªç±»ä»å¤šä¸ªåŸºç±»ç»§æ‰¿å±æ€§å’Œè¡Œä¸ºã€‚å¤šé‡ç»§æ‰¿çš„ç‰¹ç‚¹å’Œæ½œåœ¨é—®é¢˜åŒ…æ‹¬ï¼šç‰¹ç‚¹ï¼š ä¸€ä¸ªæ´¾ç”Ÿç±»å¯ä»¥ç»§æ‰¿å¤šä¸ªåŸºç±»çš„æˆå‘˜ï¼ŒåŒ…æ‹¬æ•°æ®æˆå‘˜å’Œæˆå‘˜å‡½æ•°ã€‚ å¯ä»¥å®ç°ä¸åŒç±»ä¹‹é—´çš„å¤æ‚å…³ç³»ï¼Œä¾‹å¦‚æ··åˆå¤šä¸ªä¸åŒç±»å‹çš„åŠŸèƒ½ã€‚æ½œåœ¨é—®é¢˜ï¼š è±å½¢ç»§æ‰¿é—®é¢˜ï¼ˆDiamond Inheritance Problemï¼‰ï¼š å½“ä¸€ä¸ªç±»é€šè¿‡å¤šæ¡è·¯å¾„ç»§æ‰¿åŒä¸€ä¸ªåŸºç±»æ—¶ï¼Œå¯èƒ½å¯¼è‡´åŒä¸€åŸºç±»çš„å¤šä¸ªå®ä¾‹è¢«åˆ›å»ºï¼Œå¼•å‘äºŒä¹‰æ€§ã€‚ å‡½æ•°åå†²çªï¼š å¦‚æœå¤šä¸ªåŸºç±»å…·æœ‰ç›¸åŒåç§°çš„æˆå‘˜å‡½æ•°ï¼Œå¯èƒ½å¯¼è‡´å‡½æ•°åå†²çªï¼Œéœ€è¦ä½¿ç”¨ä½œç”¨åŸŸè§£æè¿ç®—ç¬¦æ¥è§£å†³ã€‚ ä»€ä¹ˆæ˜¯é™æ€å¤šæ€æ€§ï¼ˆStatic Polymorphismï¼‰å’ŒåŠ¨æ€å¤šæ€æ€§ï¼ˆDynamic Polymorphismï¼‰ï¼Ÿå®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ å›ç­”ï¼š é™æ€å¤šæ€æ€§ï¼ˆStatic Polymorphismï¼‰ï¼š é™æ€å¤šæ€æ€§æ˜¯åœ¨ç¼–è¯‘æ—¶ç¡®å®šå‡½æ•°è°ƒç”¨çš„å¤šæ€æ€§ï¼Œé€šå¸¸é€šè¿‡å‡½æ•°é‡è½½å’Œè¿ç®—ç¬¦é‡è½½å®ç°ã€‚ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶é€‰æ‹©æ­£ç¡®çš„å‡½æ•°ç‰ˆæœ¬ã€‚ åŠ¨æ€å¤šæ€æ€§ï¼ˆDynamic Polymorphismï¼‰ï¼š åŠ¨æ€å¤šæ€æ€§æ˜¯åœ¨è¿è¡Œæ—¶ç¡®å®šå‡½æ•°è°ƒç”¨çš„å¤šæ€æ€§ï¼Œé€šå¸¸é€šè¿‡è™šå‡½æ•°å®ç°ã€‚è¿è¡Œæ—¶æ ¹æ®å¯¹è±¡çš„å®é™…ç±»å‹æ¥è°ƒç”¨é€‚å½“çš„å‡½æ•°ç‰ˆæœ¬ã€‚è¿™é€šå¸¸æ¶‰åŠåŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨æŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡ã€‚ ä»€ä¹ˆæ˜¯C++ä¸­çš„å¼•ç”¨ï¼ˆReferenceï¼‰ï¼Ÿ å›ç­”ï¼š å¼•ç”¨æ˜¯C++ä¸­çš„ä¸€ç§æ•°æ®ç±»å‹ï¼Œç”¨äºåˆ›å»ºå˜é‡çš„åˆ«åã€‚å®ƒå…è®¸åœ¨ä¸ä½¿ç”¨æŒ‡é’ˆçš„æƒ…å†µä¸‹å¯¹å˜é‡è¿›è¡Œæ“ä½œï¼Œå¹¶ä¸”å¿…é¡»åœ¨å£°æ˜æ—¶è¿›è¡Œåˆå§‹åŒ–ã€‚å¼•ç”¨é€šå¸¸ç”¨äºå‡½æ•°å‚æ•°ä¼ é€’å’Œè¿”å›å€¼ï¼Œä»¥é¿å…å¤åˆ¶å¤§å‹å¯¹è±¡ã€‚","categories":[{"name":"ç¼–ç¨‹","slug":"ç¼–ç¨‹","permalink":"http://ycx81.github.io/categories/%E7%BC%96%E7%A8%8B/"}],"tags":[{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://ycx81.github.io/tags/%E9%9D%A2%E8%AF%95/"},{"name":"C/C++","slug":"C-C","permalink":"http://ycx81.github.io/tags/C-C/"},{"name":"çŸ¥è¯†æ‰‹å†Œ","slug":"çŸ¥è¯†æ‰‹å†Œ","permalink":"http://ycx81.github.io/tags/%E7%9F%A5%E8%AF%86%E6%89%8B%E5%86%8C/"}]},{"title":"Redisç®€æ˜“æ‰‹å†Œ","slug":"Redisç®€æ˜“æ‰‹å†Œ","date":"2023-08-23T06:46:13.000Z","updated":"2023-08-23T11:10:37.337Z","comments":true,"path":"2023/08/23/Redisç®€æ˜“æ‰‹å†Œ/","link":"","permalink":"http://ycx81.github.io/2023/08/23/Redis%E7%AE%80%E6%98%93%E6%89%8B%E5%86%8C/","excerpt":"0x00 å‰è¨€ è¿‘æœŸåœ¨Bç«™çœ‹åˆ°ä¸€ä¸ª1å°æ—¶æ•™å­¦Redisï¼Œå…¨ç¨‹æ²¡æœ‰åºŸè¯ï¼Œç²—ç•¥è¿‡äº†ä¸€éï¼Œå¹¶å¯¹å…¶ä¸»è¦çŸ¥è¯†ç‚¹è¿›è¡Œæ€»ç»“ã€‚ ã€ã€GeekHourã€‘ä¸€å°æ—¶Redisæ•™ç¨‹-å“”å“©å“”å“©ã€‘ https://b23.tv/MzEWwWh","text":"0x00 å‰è¨€ è¿‘æœŸåœ¨Bç«™çœ‹åˆ°ä¸€ä¸ª1å°æ—¶æ•™å­¦Redisï¼Œå…¨ç¨‹æ²¡æœ‰åºŸè¯ï¼Œç²—ç•¥è¿‡äº†ä¸€éï¼Œå¹¶å¯¹å…¶ä¸»è¦çŸ¥è¯†ç‚¹è¿›è¡Œæ€»ç»“ã€‚ ã€ã€GeekHourã€‘ä¸€å°æ—¶Redisæ•™ç¨‹-å“”å“©å“”å“©ã€‘ https://b23.tv/MzEWwWh ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„Rediså‘½ä»¤ï¼Œä½¿ç”¨Markdownè¯­æ³•è¿›è¡Œæ€»ç»“ï¼š è¿æ¥ä¸é…ç½® è¿æ¥åˆ°RedisæœåŠ¡å™¨ï¼šredis-cli æ˜¾ç¤ºRedisæœåŠ¡å™¨ä¿¡æ¯ï¼šINFO æŸ¥çœ‹é…ç½®æ–‡ä»¶çš„è·¯å¾„ï¼šCONFIG GET dir ä¿®æ”¹é…ç½®é¡¹ï¼šCONFIG SET &lt;config-name&gt; &lt;value&gt; æŸ¥çœ‹Redisç‰ˆæœ¬ï¼šredis-server -v é”®æ“ä½œ è®¾ç½®é”®å€¼å¯¹ï¼šSET &lt;key&gt; &lt;value&gt; è·å–é”®å¯¹åº”çš„å€¼ï¼šGET &lt;key&gt; åˆ é™¤é”®å€¼å¯¹ï¼šDEL &lt;key&gt; æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨ï¼šEXISTS &lt;key&gt; è®¾ç½®é”®çš„è¿‡æœŸæ—¶é—´ï¼ˆç§’ï¼‰ï¼šEXPIRE &lt;key&gt; &lt;seconds&gt; ç§»é™¤é”®çš„è¿‡æœŸæ—¶é—´ï¼šPERSIST &lt;key&gt; æŸ¥çœ‹é”®çš„å‰©ä½™è¿‡æœŸæ—¶é—´ï¼ˆç§’ï¼‰ï¼šTTL &lt;key&gt; åˆ—è¡¨æ“ä½œ å‘åˆ—è¡¨å¤´éƒ¨æ·»åŠ å…ƒç´ ï¼šLPUSH &lt;key&gt; &lt;value&gt; å‘åˆ—è¡¨å°¾éƒ¨æ·»åŠ å…ƒç´ ï¼šRPUSH &lt;key&gt; &lt;value&gt; è·å–åˆ—è¡¨é•¿åº¦ï¼šLLEN &lt;key&gt; è·å–åˆ—è¡¨æŒ‡å®šèŒƒå›´çš„å…ƒç´ ï¼šLRANGE &lt;key&gt; &lt;start&gt; &lt;end&gt; å¼¹å‡ºå¹¶è¿”å›åˆ—è¡¨å¤´éƒ¨å…ƒç´ ï¼šLPOP &lt;key&gt; å¼¹å‡ºå¹¶è¿”å›åˆ—è¡¨å°¾éƒ¨å…ƒç´ ï¼šRPOP &lt;key&gt; é›†åˆæ“ä½œ å‘é›†åˆæ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼šSADD &lt;key&gt; &lt;member&gt; è·å–é›†åˆçš„æ‰€æœ‰æˆå‘˜ï¼šSMEMBERS &lt;key&gt; æ£€æŸ¥å…ƒç´ æ˜¯å¦æ˜¯é›†åˆçš„æˆå‘˜ï¼šSISMEMBER &lt;key&gt; &lt;member&gt; ç§»é™¤é›†åˆä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼šSREM &lt;key&gt; &lt;member&gt; è®¡ç®—é›†åˆçš„äº¤é›†ã€å¹¶é›†æˆ–å·®é›†ï¼šSINTER, SUNION, SDIFF å“ˆå¸Œæ“ä½œ è®¾ç½®å“ˆå¸Œå­—æ®µå€¼ï¼šHSET &lt;key&gt; &lt;field&gt; &lt;value&gt; è·å–å“ˆå¸Œå­—æ®µå€¼ï¼šHGET &lt;key&gt; &lt;field&gt; è·å–å“ˆå¸Œæ‰€æœ‰å­—æ®µå’Œå€¼ï¼šHGETALL &lt;key&gt; åˆ é™¤å“ˆå¸Œå­—æ®µï¼šHDEL &lt;key&gt; &lt;field&gt; æŸ¥çœ‹å“ˆå¸Œå­—æ®µæ•°é‡ï¼šHLEN &lt;key&gt; æœ‰åºé›†åˆæ“ä½œ å‘æœ‰åºé›†åˆæ·»åŠ æˆå‘˜åŠåˆ†æ•°ï¼šZADD &lt;key&gt; &lt;score&gt; &lt;member&gt; è·å–æœ‰åºé›†åˆçš„æˆå‘˜åˆ—è¡¨ï¼šZRANGE &lt;key&gt; &lt;start&gt; &lt;end&gt; æ ¹æ®åˆ†æ•°èŒƒå›´è·å–æœ‰åºé›†åˆçš„æˆå‘˜ï¼šZRANGEBYSCORE &lt;key&gt; &lt;min&gt; &lt;max&gt; è·å–æœ‰åºé›†åˆçš„æˆå‘˜æ•°é‡ï¼šZCARD &lt;key&gt; ç§»é™¤æœ‰åºé›†åˆä¸­çš„æˆå‘˜ï¼šZREM &lt;key&gt; &lt;member&gt; å‘å¸ƒä¸è®¢é˜… è®¢é˜…é¢‘é“ï¼šSUBSCRIBE &lt;channel&gt; å–æ¶ˆè®¢é˜…é¢‘é“ï¼šUNSUBSCRIBE &lt;channel&gt; å‘å¸ƒæ¶ˆæ¯åˆ°é¢‘é“ï¼šPUBLISH &lt;channel&gt; &lt;message&gt; æ’åºå’Œæ’å æŒ‰åˆ†æ•°å‡åºæ’åˆ—æœ‰åºé›†åˆçš„æˆå‘˜ï¼šZREVRANGE &lt;key&gt; &lt;start&gt; &lt;end&gt; è·å–æœ‰åºé›†åˆä¸­æˆå‘˜çš„æ’åï¼šZRANK &lt;key&gt; &lt;member&gt; è·å–æœ‰åºé›†åˆä¸­æˆå‘˜çš„åˆ†æ•°ï¼šZSCORE &lt;key&gt; &lt;member&gt; æ¨¡å¼åŒ¹é… ä½¿ç”¨é€šé…ç¬¦æŸ¥æ‰¾é”®åï¼šKEYS &lt;pattern&gt; æ‰¹é‡åˆ é™¤ç¬¦åˆæ¡ä»¶çš„é”®ï¼šDEL &lt;pattern&gt; åˆ—å‡ºåŒ¹é…çš„é”®åï¼šSCAN &lt;cursor&gt; MATCH &lt;pattern&gt; COUNT &lt;count&gt; äº‹åŠ¡ å¼€å¯äº‹åŠ¡ï¼šMULTI æ‰§è¡Œäº‹åŠ¡ï¼šEXEC å–æ¶ˆäº‹åŠ¡ï¼šDISCARD ç®¡é“ ä½¿ç”¨ç®¡é“æ‰§è¡Œå¤šä¸ªå‘½ä»¤ï¼šå¯ä»¥é€šè¿‡ä¸€æ¬¡ç½‘ç»œå¾€è¿”æ‰§è¡Œå¤šä¸ªå‘½ä»¤ä»¥æé«˜æ€§èƒ½ï¼Œä½¿ç”¨PIPELINE ä¿¡æ¯ç»Ÿè®¡ æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µï¼šMEMORY STATS æŸ¥çœ‹æœåŠ¡å™¨çŠ¶æ€ï¼šINFO SERVER æŸ¥çœ‹å®¢æˆ·ç«¯åˆ—è¡¨ï¼šCLIENT LIST å¤‡ä»½å’Œæ¢å¤ åˆ›å»ºæ•°æ®å¿«ç…§ï¼šSAVE åœ¨åå°åˆ›å»ºæ•°æ®å¿«ç…§ï¼šBGSAVE æ¢å¤æ•°æ®ï¼šå°†å¿«ç…§æ–‡ä»¶å¤åˆ¶åˆ°Redisæ•°æ®ç›®å½•å¹¶é‡å¯æœåŠ¡å™¨ å®‰å…¨ è®¾ç½®è®¿é—®å¯†ç ï¼šCONFIG SET requirepass &lt;password&gt; éªŒè¯å¯†ç ï¼šAUTH &lt;password&gt; é›†ç¾¤ åˆ›å»ºRedisé›†ç¾¤ï¼šä½¿ç”¨Redis Cluster æŸ¥çœ‹é›†ç¾¤èŠ‚ç‚¹ä¿¡æ¯ï¼šCLUSTER NODES æ‰‹åŠ¨åˆ‡æ¢ä¸»èŠ‚ç‚¹ï¼šCLUSTER FAILOVER å…¶ä»– å‘é€ä¸€ä¸ªå³æ—¶å‘½ä»¤åˆ°æœåŠ¡å™¨ä»¥æŸ¥çœ‹æ€§èƒ½ç»Ÿè®¡ä¿¡æ¯ï¼šINFO COMMANDSTATS ç›‘è§†é”®çš„å˜åŒ–ï¼šMONITOR é…ç½®RedisæœåŠ¡å™¨ä»¥æ¥å—è¿œç¨‹è¿æ¥ï¼šä¿®æ”¹redis.confæ–‡ä»¶ä¸­çš„bindé€‰é¡¹ åœ¨C++ä¸­ä½¿ç”¨Redisåœ¨C++ä¸­ä½¿ç”¨Redisé€šå¸¸éœ€è¦ä½¿ç”¨Redis C++å®¢æˆ·ç«¯åº“ï¼Œå…¶ä¸­æœ€å¸¸ç”¨çš„æ˜¯hirediså’Œcpp_redisã€‚ä»¥ä¸‹æ˜¯åœ¨C++ä¸­ä½¿ç”¨Redisçš„åŸºæœ¬æ­¥éª¤ä»¥åŠä¸€äº›å¸¸è§æ“ä½œï¼š æ­¥éª¤1ï¼šå®‰è£…Redis C++å®¢æˆ·ç«¯åº“ é¦–å…ˆå®‰è£…Redis C++å®¢æˆ·ç«¯åº“ï¼Œæœ€å¸¸è§çš„é€‰æ‹©æ˜¯hirediså’Œcpp_redisã€‚æ‚¨å¯ä»¥ä½¿ç”¨åŒ…ç®¡ç†å™¨ï¼ˆå¦‚aptã€brewã€vcpkgï¼‰æ¥å®‰è£…è¿™äº›åº“ï¼Œæˆ–è€…ä»å®˜æ–¹GitHubå­˜å‚¨åº“æ‰‹åŠ¨æ„å»ºå®ƒä»¬ã€‚ æ­¥éª¤2ï¼šåŒ…å«å¤´æ–‡ä»¶ åœ¨æ‚¨çš„C++ä»£ç ä¸­ï¼ŒåŒ…å«é€‚å½“çš„Rediså®¢æˆ·ç«¯åº“å¤´æ–‡ä»¶ã€‚ä¾‹å¦‚ä½¿ç”¨cpp_redisåˆ™éœ€è¦åŒ…å«ä»¥ä¸‹å¤´æ–‡ä»¶ï¼š 1#include &lt;cpp_redis/cpp_redis&gt; æ­¥éª¤3ï¼šå»ºç«‹ä¸Redisçš„è¿æ¥ åœ¨ä»£ç ä¸­ï¼Œä½¿ç”¨å®¢æˆ·ç«¯åº“æä¾›çš„å‡½æ•°æ¥å»ºç«‹ä¸RedisæœåŠ¡å™¨çš„è¿æ¥ã€‚è¿™é€šå¸¸æ¶‰åŠåˆ›å»ºä¸€ä¸ªå®¢æˆ·ç«¯å¯¹è±¡å¹¶é…ç½®è¿æ¥å‚æ•°ï¼š 1234cpp_redis::client client;// è®¾ç½®è¿æ¥å‚æ•°client.connect(&quot;localhost&quot;, 6379); æ­¥éª¤4ï¼šæ‰§è¡ŒRediså‘½ä»¤ ä½¿ç”¨å®¢æˆ·ç«¯åº“æä¾›çš„å‡½æ•°æ‰§è¡ŒRediså‘½ä»¤ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„ç¤ºä¾‹ï¼š 123456789// è®¾ç½®é”®å€¼å¯¹client.set(&quot;my_key&quot;, &quot;my_value&quot;);// è·å–é”®çš„å€¼client.get(&quot;my_key&quot;);// æ‰§è¡Œå“ˆå¸Œæ“ä½œclient.hset(&quot;my_hash&quot;, &quot;field1&quot;, &quot;value1&quot;);client.hget(&quot;my_hash&quot;, &quot;field1&quot;); æ­¥éª¤5ï¼šæäº¤å‘½ä»¤å’Œå¤„ç†å“åº” æäº¤Rediså‘½ä»¤å¹¶å¤„ç†å“åº”ã€‚å¯ä»¥ä½¿ç”¨å›è°ƒå‡½æ•°æˆ–é˜»å¡æ–¹å¼ç­‰ä¸åŒçš„æ–¹æ³•æ¥å¤„ç†å“åº”ï¼š 123456789101112131415// æäº¤å‘½ä»¤client.sync_commit();// å¤„ç†å“åº”ï¼ˆå›è°ƒæ–¹å¼ï¼‰client.get(&quot;my_key&quot;, [](cpp_redis::reply&amp; reply) &#123; if (reply.is_string()) &#123; std::cout &lt;&lt; &quot;Value: &quot; &lt;&lt; reply.as_string() &lt;&lt; std::endl; &#125;&#125;);// å¤„ç†å“åº”ï¼ˆé˜»å¡æ–¹å¼ï¼‰cpp_redis::reply reply = client.sync_commit();if (reply.is_string()) &#123; std::cout &lt;&lt; &quot;Value: &quot; &lt;&lt; reply.as_string() &lt;&lt; std::endl;&#125; æ­¥éª¤6ï¼šå…³é—­è¿æ¥ åœ¨ä½¿ç”¨å®ŒRedisä¹‹åï¼Œç¡®ä¿å…³é—­ä¸RedisæœåŠ¡å™¨çš„è¿æ¥ä»¥é‡Šæ”¾èµ„æºï¼š 1client.disconnect(); è¦äº†è§£æ›´å¤šè¯¦ç»†ä¿¡æ¯å’Œç¤ºä¾‹ï¼Œè¯·æŸ¥é˜…Redis C++å®¢æˆ·ç«¯åº“çš„æ–‡æ¡£ã€‚","categories":[{"name":"ç¼–ç¨‹","slug":"ç¼–ç¨‹","permalink":"http://ycx81.github.io/categories/%E7%BC%96%E7%A8%8B/"}],"tags":[{"name":"redis","slug":"redis","permalink":"http://ycx81.github.io/tags/redis/"},{"name":"çŸ¥è¯†æ‰‹å†Œ","slug":"çŸ¥è¯†æ‰‹å†Œ","permalink":"http://ycx81.github.io/tags/%E7%9F%A5%E8%AF%86%E6%89%8B%E5%86%8C/"}]},{"title":"çº¿ç¨‹ä¸åç¨‹å¼‚åŒæ¯”è¾ƒ","slug":"çº¿ç¨‹ä¸åç¨‹å¼‚åŒæ¯”è¾ƒ","date":"2023-08-19T14:44:59.000Z","updated":"2023-09-05T08:06:30.442Z","comments":true,"path":"2023/08/19/çº¿ç¨‹ä¸åç¨‹å¼‚åŒæ¯”è¾ƒ/","link":"","permalink":"http://ycx81.github.io/2023/08/19/%E7%BA%BF%E7%A8%8B%E4%B8%8E%E5%8D%8F%E7%A8%8B%E5%BC%82%E5%90%8C%E6%AF%94%E8%BE%83/","excerpt":"å‰è¨€çº¿ç¨‹å’Œåç¨‹éƒ½æ˜¯ç”¨äºå¤šä»»åŠ¡å¹¶å‘ç¼–ç¨‹çš„æ¦‚å¿µï¼Œä½†å®ƒä»¬æœ‰å¾ˆå¤§çš„ä¸åŒä¹‹å¤„ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥è®¨è®ºçº¿ç¨‹å’Œåç¨‹çš„å¼‚åŒç‚¹ï¼Œå¹¶æä¾›ä¸€äº›ç¤ºä¾‹ä»£ç æ¥è¯´æ˜å®ƒä»¬çš„ç”¨æ³•ã€‚","text":"å‰è¨€çº¿ç¨‹å’Œåç¨‹éƒ½æ˜¯ç”¨äºå¤šä»»åŠ¡å¹¶å‘ç¼–ç¨‹çš„æ¦‚å¿µï¼Œä½†å®ƒä»¬æœ‰å¾ˆå¤§çš„ä¸åŒä¹‹å¤„ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥è®¨è®ºçº¿ç¨‹å’Œåç¨‹çš„å¼‚åŒç‚¹ï¼Œå¹¶æä¾›ä¸€äº›ç¤ºä¾‹ä»£ç æ¥è¯´æ˜å®ƒä»¬çš„ç”¨æ³•ã€‚ çº¿ç¨‹ï¼ˆThreadsï¼‰çº¿ç¨‹æ˜¯æ“ä½œç³»ç»Ÿçº§åˆ«çš„å¹¶å‘æ‰§è¡Œå•ä½ï¼Œå®ƒæ˜¯å¤šä»»åŠ¡ç¼–ç¨‹çš„ä¸€ç§æ–¹å¼ã€‚æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„å †æ ˆå’Œç¨‹åºè®¡æ•°å™¨ï¼Œå¯ä»¥ç‹¬ç«‹è¿è¡Œã€‚çº¿ç¨‹ä¹‹é—´å¯ä»¥å¹¶è¡Œæ‰§è¡Œï¼Œå…±äº«è¿›ç¨‹çš„å†…å­˜ç©ºé—´ï¼Œå› æ­¤å¯ä»¥è®¿é—®ç›¸åŒçš„å…¨å±€å˜é‡å’Œæ•°æ®ç»“æ„ã€‚ çº¿ç¨‹çš„ç‰¹ç‚¹ å¹¶è¡Œæ‰§è¡Œï¼šçº¿ç¨‹å¯ä»¥å¹¶è¡Œæ‰§è¡Œï¼Œåˆ©ç”¨å¤šæ ¸å¤„ç†å™¨çš„ä¼˜åŠ¿ï¼Œæé«˜ç¨‹åºæ€§èƒ½ã€‚ å…±äº«å†…å­˜ï¼šçº¿ç¨‹å¯ä»¥è®¿é—®ç›¸åŒè¿›ç¨‹çš„å†…å­˜ç©ºé—´ï¼Œå› æ­¤å¯ä»¥è½»æ¾å…±äº«æ•°æ®ã€‚ é€‚ç”¨äºé•¿æ—¶é—´ä»»åŠ¡ï¼šçº¿ç¨‹é€‚ç”¨äºæ‰§è¡Œé•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡ï¼Œä¾‹å¦‚ç½‘ç»œé€šä¿¡ã€æ–‡ä»¶è¯»å†™ç­‰ã€‚ çº¿ç¨‹çš„ç¤ºä¾‹ä»£ç 123456789101112#include &lt;iostream&gt;#include &lt;thread&gt;void hello() &#123; std::cout &lt;&lt; &quot;Hello from thread!&quot; &lt;&lt; std::endl;&#125;int main() &#123; std::thread t(hello); t.join(); return 0;&#125; åç¨‹ï¼ˆCoroutinesï¼‰åç¨‹æ˜¯ä¸€ç§æ›´è½»é‡çº§çš„å¹¶å‘ç¼–ç¨‹æ¦‚å¿µï¼Œå®ƒå…è®¸å‡½æ•°åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æš‚åœå¹¶åœ¨ç¨åæ¢å¤æ‰§è¡Œï¼Œè€Œä¸éœ€è¦åˆ›å»ºæ–°çš„çº¿ç¨‹ã€‚åç¨‹é€šå¸¸åœ¨å‡½æ•°çº§åˆ«ä¸Šå®ç°ï¼Œè€Œä¸æ˜¯çº¿ç¨‹çº§åˆ«ã€‚ åç¨‹çš„ç‰¹ç‚¹ è½»é‡çº§ï¼šåç¨‹æ¯”çº¿ç¨‹æ›´è½»é‡çº§ï¼Œåˆ›å»ºå’Œé”€æ¯åç¨‹çš„å¼€é”€è¾ƒå°ã€‚ é¿å…å¹¶å‘é—®é¢˜ï¼šåç¨‹é€šå¸¸ä¸ä¼šæ¶‰åŠå…±äº«å†…å­˜ï¼Œå› æ­¤é¿å…äº†è®¸å¤šå¹¶å‘é—®é¢˜ï¼Œå¦‚ç«æ€æ¡ä»¶å’Œæ­»é”ã€‚ é€‚ç”¨äº I&#x2F;O å¯†é›†å‹ä»»åŠ¡ï¼šåç¨‹é€‚ç”¨äºæ‰§è¡Œ I&#x2F;O å¯†é›†å‹ä»»åŠ¡ï¼Œå¦‚ç½‘ç»œè¯·æ±‚ã€æ–‡ä»¶æ“ä½œç­‰ã€‚ åç¨‹çš„ç¤ºä¾‹ä»£ç 123456789101112131415161718192021222324252627#include &lt;iostream&gt;#include &lt;coroutine&gt;struct Task &#123; struct promise_type &#123; auto get_return_object() &#123; return Task&#123;&#125;; &#125; auto initial_suspend() &#123; return std::suspend_always&#123;&#125;; &#125; auto final_suspend() noexcept &#123; return std::suspend_always&#123;&#125;; &#125; void return_void() &#123;&#125; void unhandled_exception() &#123;&#125; &#125;; void await_suspend(std::coroutine_handle&lt;&gt; h) &#123; std::cout &lt;&lt; &quot;Task is suspended&quot; &lt;&lt; std::endl; h.resume(); &#125;&#125;;Task myCoroutine() &#123; co_await std::suspend_always&#123;&#125;; std::cout &lt;&lt; &quot;Coroutine resumed&quot; &lt;&lt; std::endl;&#125;int main() &#123; myCoroutine(); return 0;&#125; å¼‚åŒç‚¹æ¯”è¾ƒ1. å¹¶å‘çº§åˆ« çº¿ç¨‹ï¼šçº¿ç¨‹æ˜¯æ“ä½œç³»ç»Ÿçº§åˆ«çš„å¹¶å‘æ‰§è¡Œå•ä½ï¼Œå¯ä»¥å¹¶è¡Œæ‰§è¡Œåœ¨å¤šæ ¸å¤„ç†å™¨ä¸Šã€‚ åç¨‹ï¼šåç¨‹æ˜¯å‡½æ•°çº§åˆ«çš„å¹¶å‘å•ä½ï¼Œé€šå¸¸åœ¨å•ä¸ªçº¿ç¨‹å†…æ‰§è¡Œï¼Œä¸èƒ½å¹¶è¡Œæ‰§è¡Œã€‚ 2. å†…å­˜å’Œå¼€é”€ çº¿ç¨‹ï¼šçº¿ç¨‹çš„åˆ›å»ºå’Œé”€æ¯å¼€é”€è¾ƒå¤§ï¼Œå› ä¸ºæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„å †æ ˆå’Œä¸Šä¸‹æ–‡ã€‚çº¿ç¨‹é€šå¸¸éœ€è¦æ›´å¤šçš„å†…å­˜ã€‚ åç¨‹ï¼šåç¨‹è½»é‡çº§ï¼Œåˆ›å»ºå’Œé”€æ¯å¼€é”€å°ã€‚åç¨‹é€šå¸¸éœ€è¦è¾ƒå°‘çš„å†…å­˜ã€‚ 3. å…±äº«çŠ¶æ€ çº¿ç¨‹ï¼šçº¿ç¨‹ä¹‹é—´å¯ä»¥è½»æ¾å…±äº«å†…å­˜ï¼Œä½†éœ€è¦è€ƒè™‘åŒæ­¥å’Œç«æ€æ¡ä»¶ã€‚ åç¨‹ï¼šåç¨‹é€šå¸¸ä¸æ¶‰åŠå…±äº«å†…å­˜ï¼Œå› æ­¤é¿å…äº†å¤§éƒ¨åˆ†å¹¶å‘é—®é¢˜ã€‚ 4. é€‚ç”¨åœºæ™¯ çº¿ç¨‹ï¼šé€‚ç”¨äºé•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡ï¼Œåˆ©ç”¨å¤šæ ¸å¤„ç†å™¨çš„å¹¶è¡Œæ€§ã€‚ åç¨‹ï¼šé€‚ç”¨äº I&#x2F;O å¯†é›†å‹ä»»åŠ¡ï¼Œé¿å…äº†çº¿ç¨‹çš„å¼€é”€å’Œå¹¶å‘é—®é¢˜ã€‚ ç»¼ä¸Šæ‰€è¿°ï¼Œçº¿ç¨‹å’Œåç¨‹åœ¨å¤šä»»åŠ¡ç¼–ç¨‹ä¸­æœ‰ä¸åŒçš„ä¼˜åŠ¿å’Œç”¨é€”ã€‚çº¿ç¨‹é€‚ç”¨äºéœ€è¦å¹¶è¡Œæ‰§è¡Œçš„é•¿æ—¶é—´ä»»åŠ¡ï¼Œè€Œåç¨‹é€‚ç”¨äºé¿å…å…±äº«å†…å­˜å’Œå¤„ç† I&#x2F;O å¯†é›†å‹ä»»åŠ¡ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¯ä»¥æ ¹æ®å…·ä½“çš„éœ€æ±‚é€‰æ‹©åˆé€‚çš„å¹¶å‘æ¨¡å‹ã€‚","categories":[{"name":"ç¼–ç¨‹","slug":"ç¼–ç¨‹","permalink":"http://ycx81.github.io/categories/%E7%BC%96%E7%A8%8B/"}],"tags":[{"name":"C++","slug":"C","permalink":"http://ycx81.github.io/tags/C/"}]},{"title":"å†…è”å‡½æ•°å’Œå‡½æ•°è°ƒç”¨ä¹‹é—´çš„ä¸»è¦åŒºåˆ«","slug":"å†…è”å‡½æ•°å’Œå‡½æ•°è°ƒç”¨ä¹‹é—´çš„ä¸»è¦åŒºåˆ«","date":"2023-08-14T16:08:56.000Z","updated":"2023-09-05T08:04:11.691Z","comments":true,"path":"2023/08/15/å†…è”å‡½æ•°å’Œå‡½æ•°è°ƒç”¨ä¹‹é—´çš„ä¸»è¦åŒºåˆ«/","link":"","permalink":"http://ycx81.github.io/2023/08/15/%E5%86%85%E8%81%94%E5%87%BD%E6%95%B0%E5%92%8C%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%E4%B9%8B%E9%97%B4%E7%9A%84%E4%B8%BB%E8%A6%81%E5%8C%BA%E5%88%AB/","excerpt":"å‰è¨€å†…è”å‡½æ•°å’Œæ™®é€šå‡½æ•°è°ƒç”¨ä¹‹é—´æœ‰ä¸€äº›å…³é”®åŒºåˆ«ï¼Œå®ƒä»¬å½±å“äº†ç¼–è¯‘å™¨å¦‚ä½•å¤„ç†å‡½æ•°ä»¥åŠç¨‹åºçš„æ€§èƒ½ã€‚ä¸‹é¢æ˜¯å†…è”å‡½æ•°å’Œå‡½æ•°è°ƒç”¨ä¹‹é—´çš„ä¸»è¦åŒºåˆ«ï¼š","text":"å‰è¨€å†…è”å‡½æ•°å’Œæ™®é€šå‡½æ•°è°ƒç”¨ä¹‹é—´æœ‰ä¸€äº›å…³é”®åŒºåˆ«ï¼Œå®ƒä»¬å½±å“äº†ç¼–è¯‘å™¨å¦‚ä½•å¤„ç†å‡½æ•°ä»¥åŠç¨‹åºçš„æ€§èƒ½ã€‚ä¸‹é¢æ˜¯å†…è”å‡½æ•°å’Œå‡½æ•°è°ƒç”¨ä¹‹é—´çš„ä¸»è¦åŒºåˆ«ï¼š 1.ç¼–è¯‘æ—¶æœºåˆ¶ï¼š å†…è”å‡½æ•°ï¼šå†…è”å‡½æ•°æ˜¯åœ¨ç¼–è¯‘æ—¶å±•å¼€çš„ï¼Œç¼–è¯‘å™¨ä¼šå°†å‡½æ•°ä½“çš„ä»£ç å¤åˆ¶åˆ°æ¯ä¸ªè°ƒç”¨ç‚¹ï¼Œå¹¶æ¶ˆé™¤å‡½æ•°è°ƒç”¨çš„å¼€é”€ã€‚ å‡½æ•°è°ƒç”¨ï¼šæ™®é€šå‡½æ•°è°ƒç”¨æ˜¯åœ¨è¿è¡Œæ—¶è¿›è¡Œçš„ï¼Œç¨‹åºåœ¨è¿è¡Œæ—¶è·³è½¬åˆ°å‡½æ•°çš„åœ°å€æ‰§è¡Œä»£ç ã€‚ 2. è°ƒç”¨å¼€é”€ï¼š å†…è”å‡½æ•°ï¼šç”±äºå†…è”å‡½æ•°æ˜¯åœ¨è°ƒç”¨ç‚¹å±•å¼€çš„ï¼Œæ‰€ä»¥æ²¡æœ‰å‡½æ•°è°ƒç”¨çš„å¼€é”€ï¼Œæ²¡æœ‰å‡½æ•°æ ˆå¸§çš„åˆ›å»ºå’Œé”€æ¯ï¼Œé€šå¸¸æ¯”å‡½æ•°è°ƒç”¨æ›´é«˜æ•ˆã€‚ å‡½æ•°è°ƒç”¨ï¼šå‡½æ•°è°ƒç”¨æ¶‰åŠè·³è½¬åˆ°å‡½æ•°çš„åœ°å€ã€ä¿å­˜ä¸Šä¸‹æ–‡ã€åˆ†é…å‡½æ•°æ ˆå¸§ã€ä¼ é€’å‚æ•°ç­‰å¼€é”€ï¼Œç›¸å¯¹è¾ƒæ…¢ã€‚ 3. ä»£ç è†¨èƒ€ï¼š å†…è”å‡½æ•°ï¼šå†…è”å‡½æ•°çš„ä»£ç ä¼šåœ¨æ¯ä¸ªè°ƒç”¨ç‚¹éƒ½å¤åˆ¶ä¸€ä»½ï¼Œå¯èƒ½å¯¼è‡´ä»£ç è†¨èƒ€ï¼Œå¢åŠ å¯æ‰§è¡Œæ–‡ä»¶çš„å¤§å°ã€‚ å‡½æ•°è°ƒç”¨ï¼šå‡½æ•°è°ƒç”¨ä¸ä¼šå¯¼è‡´ä»£ç è†¨èƒ€ï¼Œå‡½æ•°çš„ä»£ç åªæœ‰ä¸€ä»½ã€‚ 4. é€‚ç”¨åœºæ™¯ï¼š å†…è”å‡½æ•°ï¼šé€‚ç”¨äºçŸ­å°ã€é¢‘ç¹è°ƒç”¨çš„å‡½æ•°ï¼Œå¦‚ç®€å•çš„getterå’Œsetterå‡½æ•°ã€æ•°å­¦è¿ç®—ç­‰ã€‚ å‡½æ•°è°ƒç”¨ï¼šé€‚ç”¨äºå¤æ‚çš„å‡½æ•°æˆ–é€’å½’å‡½æ•°ã€‚ 5. ä»£ç å¯è¯»æ€§ï¼š å†…è”å‡½æ•°ï¼šå†…è”å‡½æ•°é€šå¸¸å°†å‡½æ•°ä½“çš„ä»£ç åµŒå…¥åˆ°è°ƒç”¨ç‚¹ï¼Œå¯èƒ½ä¼šå¯¼è‡´å¯è¯»æ€§è¾ƒå·®çš„ä»£ç ã€‚ å‡½æ•°è°ƒç”¨ï¼šå‡½æ•°è°ƒç”¨å¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§ï¼Œå› ä¸ºå®ƒå°†å…·ä½“çš„å®ç°åˆ†ç¦»å‡ºæ¥ã€‚ 6. è¯­æ³•ï¼š å†…è”å‡½æ•°ï¼šä½¿ç”¨ inline å…³é”®å­—è¿›è¡Œå£°æ˜å’Œå®šä¹‰ã€‚ å‡½æ•°è°ƒç”¨ï¼šç›´æ¥è°ƒç”¨å‡½æ•°åã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œæ¼”ç¤ºäº†å†…è”å‡½æ•°å’Œå‡½æ•°è°ƒç”¨ä¹‹é—´çš„åŒºåˆ«ï¼š 1234567891011121314151617// å†…è”å‡½æ•°inline int add(int a, int b) &#123; return a + b;&#125;// å‡½æ•°è°ƒç”¨int subtract(int a, int b) &#123; return a - b;&#125;int main() &#123; int x = 5, y = 3; int result1 = add(x, y); // å†…è”å‡½æ•°å±•å¼€ä¸º x + y int result2 = subtract(x, y); // å‡½æ•°è°ƒç”¨ subtract(x, y) return 0;&#125; æ€»ä¹‹ï¼Œå†…è”å‡½æ•°å’Œå‡½æ•°è°ƒç”¨ä¹‹é—´çš„é€‰æ‹©å–å†³äºä»£ç çš„éœ€æ±‚å’Œæ€§èƒ½ä¼˜åŒ–ã€‚å†…è”å‡½æ•°å¯ä»¥æé«˜æ€§èƒ½ï¼Œä½†å¯èƒ½å¯¼è‡´ä»£ç è†¨èƒ€ï¼Œè€Œå‡½æ•°è°ƒç”¨å…·æœ‰æ›´å¥½çš„ä»£ç ç»“æ„å’Œå¯è¯»æ€§ã€‚åœ¨å®é™…ç¼–ç¨‹ä¸­ï¼Œéœ€è¦æ ¹æ®å…·ä½“æƒ…å†µæƒè¡¡äºŒè€…çš„åˆ©å¼Šã€‚","categories":[{"name":"ç¼–ç¨‹","slug":"ç¼–ç¨‹","permalink":"http://ycx81.github.io/categories/%E7%BC%96%E7%A8%8B/"}],"tags":[{"name":"C++","slug":"C","permalink":"http://ycx81.github.io/tags/C/"}]},{"title":"ç®€æ˜“ç½‘ç›˜é¡¹ç›®00","slug":"ç®€æ˜“ç½‘ç›˜é¡¹ç›®00","date":"2023-07-27T05:08:00.000Z","updated":"2023-08-23T07:59:33.953Z","comments":true,"path":"2023/07/27/ç®€æ˜“ç½‘ç›˜é¡¹ç›®00/","link":"","permalink":"http://ycx81.github.io/2023/07/27/%E7%AE%80%E6%98%93%E7%BD%91%E7%9B%98%E9%A1%B9%E7%9B%AE00/","excerpt":"0x00 å‰è¨€ æ­¤é¡¹ç›®å‡†å¤‡ç”¨äºåº”ä»˜è¿‘æœŸçš„é¢è¯•ï¼Œä½œä¸ºä¸€ç§ç®€æ˜“çš„Web Serveré¡¹ç›®ï¼Œå¯èƒ½éœ€è¦4-5æœŸè¿­ä»£å¼€å‘ã€‚æœ¬é¡¹ç›®å°†å°½å¯èƒ½è¿˜åŸå¸‚é¢ä¸Šä¸»æµçš„ç½‘ç›˜æ‰€å…·æœ‰çš„åŠŸèƒ½ã€‚","text":"0x00 å‰è¨€ æ­¤é¡¹ç›®å‡†å¤‡ç”¨äºåº”ä»˜è¿‘æœŸçš„é¢è¯•ï¼Œä½œä¸ºä¸€ç§ç®€æ˜“çš„Web Serveré¡¹ç›®ï¼Œå¯èƒ½éœ€è¦4-5æœŸè¿­ä»£å¼€å‘ã€‚æœ¬é¡¹ç›®å°†å°½å¯èƒ½è¿˜åŸå¸‚é¢ä¸Šä¸»æµçš„ç½‘ç›˜æ‰€å…·æœ‰çš„åŠŸèƒ½ã€‚ 0x01 ç¬¬ä¸€æœŸå¼€å‘æ€»çº²ç¬¬ä¸€æœŸä¸»è¦éœ€è¦å®ç°çš„åŠŸèƒ½æœ‰æœåŠ¡å™¨ç«¯å®ç°å‘½ä»¤è§£æï¼Œå¯èƒ½æ¶‰åŠçš„å‘½ä»¤åŒ…æ‹¬ï¼š cd è¿›å…¥æœåŠ¡å™¨å¯¹åº”ç›®å½• ls åˆ—å‡ºå½“å‰è·¯å¾„ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ pwd æ˜¾ç¤ºå½“å‰æ‰€å¤„è·¯å¾„ puts filename ä¸Šä¼ æœ¬åœ°æ–‡ä»¶åˆ°æœåŠ¡å™¨ get filename ä¸‹è½½æœåŠ¡å™¨æ–‡ä»¶åˆ°æœ¬åœ° rm filename åˆ é™¤æœåŠ¡å™¨ä¸Šçš„æŸæ–‡ä»¶ mkdir dirname åˆ›å»ºæ–‡ä»¶å¤¹ éæ³•å‘½ä»¤ ä¸å“åº” 0x020x030x04","categories":[],"tags":[]},{"title":"2023.07.26éšç¬”","slug":"2023-07-26éšç¬”","date":"2023-07-26T12:32:22.000Z","updated":"2023-07-26T12:38:40.450Z","comments":true,"path":"2023/07/26/2023-07-26éšç¬”/","link":"","permalink":"http://ycx81.github.io/2023/07/26/2023-07-26%E9%9A%8F%E7%AC%94/","excerpt":"0x00 å‰è¨€ æ¯å¤©æ„Ÿè§‰æµ‘èº«æ— åŠ›ï¼Œåšäº‹æ²¡æœ‰å¹²åŠ²ï¼ŒçŠ¹å¦‚ä¸€å…·è¡Œå°¸èµ°è‚‰ï¼Œè¿™ä¸ªæ¦´è²æŠ«è¨è–„è„†è¿˜æŒºå¥½åƒã€‚","text":"0x00 å‰è¨€ æ¯å¤©æ„Ÿè§‰æµ‘èº«æ— åŠ›ï¼Œåšäº‹æ²¡æœ‰å¹²åŠ²ï¼ŒçŠ¹å¦‚ä¸€å…·è¡Œå°¸èµ°è‚‰ï¼Œè¿™ä¸ªæ¦´è²æŠ«è¨è–„è„†è¿˜æŒºå¥½åƒã€‚","categories":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://ycx81.github.io/categories/%E9%9A%8F%E7%AC%94/"},{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://ycx81.github.io/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"åƒ","slug":"åƒ","permalink":"http://ycx81.github.io/tags/%E5%90%83/"}]},{"title":"2023.07.25éšç¬”","slug":"2023-07-25éšç¬”","date":"2023-07-25T11:06:46.000Z","updated":"2023-07-25T12:00:52.195Z","comments":true,"path":"2023/07/25/2023-07-25éšç¬”/","link":"","permalink":"http://ycx81.github.io/2023/07/25/2023-07-25%E9%9A%8F%E7%AC%94/","excerpt":"0x00 å‰è¨€ ä»Šå¤©æ€»ç®—æ˜¯æŠŠåšå®¢æ­å»ºå¥½äº†ï¼Œå…¶ä¸­é‡åˆ°ä¸€å †å¥‡æ€ªçš„é—®é¢˜å’Œå„ç§å„æ ·çš„bugã€‚ã€‚ã€‚(å›¾ä¸º7.21å¤§é›¨å‰çš„ä¸‰å…¬å±±)","text":"0x00 å‰è¨€ ä»Šå¤©æ€»ç®—æ˜¯æŠŠåšå®¢æ­å»ºå¥½äº†ï¼Œå…¶ä¸­é‡åˆ°ä¸€å †å¥‡æ€ªçš„é—®é¢˜å’Œå„ç§å„æ ·çš„bugã€‚ã€‚ã€‚(å›¾ä¸º7.21å¤§é›¨å‰çš„ä¸‰å…¬å±±) æœ€è¿‘é¢è¯•çš„é¡¹ç›®è¿˜ä¸çŸ¥é“ä»ä½•ä¸‹æ‰‹ï¼Œæ¯æ¬¡å‡†å¤‡å»åšçš„æ—¶å€™åˆæƒ³å¼€æ‘†ï¼ŒçœŸæ˜¯æŠ˜ç£¨å•Šï¼Œæˆ‘å‘ç°æˆ‘åˆ°ç°åœ¨å†™æ—¥è®°è¿˜æ˜¯åœ¨çº¯è®°æµæ°´è´¦å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ","categories":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://ycx81.github.io/categories/%E9%9A%8F%E7%AC%94/"},{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://ycx81.github.io/categories/%E6%97%A5%E8%AE%B0/"}],"tags":[{"name":"åšå®¢æ­å»º","slug":"åšå®¢æ­å»º","permalink":"http://ycx81.github.io/tags/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"}]},{"title":"C++é¢è¯•é¢˜æ€»ç»“","slug":"C-é¢è¯•é¢˜æ€»ç»“ï¼ˆä¹±åºç‰ˆï¼‰","date":"2023-05-08T15:07:14.000Z","updated":"2023-08-23T12:02:33.905Z","comments":true,"path":"2023/05/08/C-é¢è¯•é¢˜æ€»ç»“ï¼ˆä¹±åºç‰ˆï¼‰/","link":"","permalink":"http://ycx81.github.io/2023/05/08/C-%E9%9D%A2%E8%AF%95%E9%A2%98%E6%80%BB%E7%BB%93%EF%BC%88%E4%B9%B1%E5%BA%8F%E7%89%88%EF%BC%89/","excerpt":"å‰è¨€å¹³æ—¶ç§¯ç´¯çš„é¢è¯•é¢˜ï¼Œè¿˜æ²¡å½’çº³æ•´ç†ï¼Œå…ˆå¼„ä¸ªä¹±åºç‰ˆï¼Œåé¢æœ‰æ—¶é—´å†é‡æ–°æŒ‰çŸ¥è¯†ç‚¹æ’åºä¸€ä¸‹","text":"å‰è¨€å¹³æ—¶ç§¯ç´¯çš„é¢è¯•é¢˜ï¼Œè¿˜æ²¡å½’çº³æ•´ç†ï¼Œå…ˆå¼„ä¸ªä¹±åºç‰ˆï¼Œåé¢æœ‰æ—¶é—´å†é‡æ–°æŒ‰çŸ¥è¯†ç‚¹æ’åºä¸€ä¸‹ ä»€ä¹ˆæ˜¯Cè¯­è¨€ï¼Ÿå®ƒæœ‰å“ªäº›ä¸»è¦ç‰¹ç‚¹ï¼Ÿå›ç­”ï¼š Cè¯­è¨€æ˜¯ä¸€ç§é€šç”¨çš„ã€è¿‡ç¨‹åŒ–çš„ç¼–ç¨‹è¯­è¨€ã€‚å®ƒçš„ä¸»è¦ç‰¹ç‚¹åŒ…æ‹¬ï¼š ç®€æ´æ€§ï¼š Cè¯­è¨€çš„è¯­æ³•ç›¸å¯¹ç®€å•ï¼Œæ˜“äºå­¦ä¹ å’Œç†è§£ã€‚ å¯ç§»æ¤æ€§ï¼š Cä»£ç å¯ä»¥åœ¨ä¸åŒçš„è®¡ç®—æœºå¹³å°ä¸Šç¼–è¯‘å’Œè¿è¡Œï¼Œåªéœ€è¿›è¡Œå°‘é‡ä¿®æ”¹ã€‚ é«˜æ€§èƒ½ï¼š Cè¯­è¨€ä»£ç é€šå¸¸å…·æœ‰å¾ˆé«˜çš„æ‰§è¡Œé€Ÿåº¦ï¼Œå› ä¸ºå®ƒæ¥è¿‘åº•å±‚ç¡¬ä»¶ã€‚ å¼ºå¤§çš„æ ‡å‡†åº“ï¼š Cæ ‡å‡†åº“æä¾›äº†è®¸å¤šå¸¸ç”¨çš„å‡½æ•°ï¼Œç”¨äºæ–‡ä»¶æ“ä½œã€å†…å­˜ç®¡ç†ã€è¾“å…¥&#x2F;è¾“å‡ºç­‰ã€‚ æŒ‡é’ˆæ”¯æŒï¼š Cè¯­è¨€æ”¯æŒæŒ‡é’ˆï¼Œå…è®¸ç›´æ¥è®¿é—®å†…å­˜åœ°å€ï¼Œå› æ­¤å…·æœ‰æ›´é«˜çš„çµæ´»æ€§ã€‚ ä»€ä¹ˆæ˜¯C++è¯­è¨€ï¼Ÿå®ƒä¸Cè¯­è¨€æœ‰ä»€ä¹ˆä¸åŒï¼Ÿå›ç­”ï¼š C++æ˜¯ä¸€ç§å¤šèŒƒå¼ç¼–ç¨‹è¯­è¨€ï¼Œå®ƒæ˜¯Cè¯­è¨€çš„æ‰©å±•ï¼ŒåŒ…æ‹¬äº†é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰çš„ç‰¹æ€§ã€‚ä¸Cè¯­è¨€ç›¸æ¯”ï¼ŒC++çš„ä¸»è¦ä¸åŒä¹‹å¤„åŒ…æ‹¬ï¼š é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼š C++æ”¯æŒç±»å’Œå¯¹è±¡ï¼Œå…è®¸ä½¿ç”¨å°è£…ã€ç»§æ‰¿å’Œå¤šæ€ç­‰OOPç‰¹æ€§ã€‚ æ ‡å‡†æ¨¡æ¿åº“ï¼ˆSTLï¼‰ï¼š C++æä¾›äº†STLï¼ŒåŒ…æ‹¬å®¹å™¨ã€ç®—æ³•å’Œè¿­ä»£å™¨ç­‰ï¼Œä½¿ä»£ç æ›´æ˜“äºç¼–å†™å’Œç»´æŠ¤ã€‚ å¼‚å¸¸å¤„ç†ï¼š C++æ”¯æŒå¼‚å¸¸å¤„ç†ï¼Œå¯ä»¥æ•è·å’Œå¤„ç†è¿è¡Œæ—¶é”™è¯¯ã€‚ å‡½æ•°é‡è½½ï¼š C++å…è®¸å®šä¹‰å¤šä¸ªåŒåå‡½æ•°ï¼Œä½†å‚æ•°ç±»å‹æˆ–æ•°é‡ä¸åŒï¼Œç§°ä¸ºå‡½æ•°é‡è½½ã€‚ å‘½åç©ºé—´ï¼š C++å¼•å…¥äº†å‘½åç©ºé—´æ¦‚å¿µï¼Œç”¨äºç»„ç»‡å’Œç®¡ç†ä»£ç ã€‚ ä»€ä¹ˆæ˜¯æŒ‡é’ˆï¼Ÿå¦‚ä½•ä½¿ç”¨æŒ‡é’ˆï¼Ÿå›ç­”ï¼š æŒ‡é’ˆæ˜¯ä¸€ç§ç”¨äºå­˜å‚¨å˜é‡åœ°å€çš„æ•°æ®ç±»å‹ã€‚æŒ‡é’ˆé€šå¸¸ç”¨äºä»¥ä¸‹æ“ä½œï¼š å£°æ˜æŒ‡é’ˆï¼š ä½¿ç”¨*è¿ç®—ç¬¦å£°æ˜æŒ‡é’ˆå˜é‡ï¼Œä¾‹å¦‚ï¼šint *ptr;å£°æ˜ä¸€ä¸ªæŒ‡å‘æ•´æ•°çš„æŒ‡é’ˆã€‚ åˆå§‹åŒ–æŒ‡é’ˆï¼š å°†æŒ‡é’ˆæŒ‡å‘ç‰¹å®šå˜é‡çš„åœ°å€ï¼Œä¾‹å¦‚ï¼šptr = &amp;myVar;å°†æŒ‡é’ˆptræŒ‡å‘myVarçš„åœ°å€ã€‚ è®¿é—®å˜é‡ï¼š ä½¿ç”¨æŒ‡é’ˆé—´æ¥è®¿é—®å˜é‡çš„å€¼ï¼Œä¾‹å¦‚ï¼šint x = *ptr;å°†æŒ‡é’ˆptræŒ‡å‘çš„å€¼èµ‹ç»™xã€‚ æŒ‡é’ˆç®—æœ¯ï¼š æŒ‡é’ˆæ”¯æŒç®—æœ¯è¿ç®—ï¼Œä¾‹å¦‚ï¼šptr++å°†æŒ‡é’ˆå‘åç§»åŠ¨ä¸€ä¸ªä½ç½®ã€‚ ç©ºæŒ‡é’ˆï¼š ä½¿ç”¨nullptrï¼ˆC++11åŠä»¥ä¸Šï¼‰æˆ–NULLï¼ˆæ—§æ ‡å‡†ï¼‰è¡¨ç¤ºç©ºæŒ‡é’ˆï¼Œå³ä¸æŒ‡å‘ä»»ä½•å˜é‡çš„æŒ‡é’ˆã€‚ æŒ‡é’ˆæ˜¯C&#x2F;C++ä¸­å¼ºå¤§ä½†éœ€è¦è°¨æ…ä½¿ç”¨çš„ç‰¹æ€§ï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥ç›´æ¥æ“ä½œå†…å­˜ã€‚ ä»€ä¹ˆæ˜¯åŠ¨æ€å†…å­˜åˆ†é…ï¼Ÿå¦‚ä½•åœ¨C&#x2F;C++ä¸­æ‰§è¡ŒåŠ¨æ€å†…å­˜åˆ†é…å’Œé‡Šæ”¾ï¼Ÿå›ç­”ï¼š åŠ¨æ€å†…å­˜åˆ†é…æ˜¯åœ¨ç¨‹åºè¿è¡Œæ—¶åˆ†é…å†…å­˜ï¼Œä»¥å­˜å‚¨æ•°æ®ç»“æ„ï¼Œè€Œä¸æ˜¯åœ¨ç¼–è¯‘æ—¶åˆ†é…ã€‚åœ¨C&#x2F;C++ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‡½æ•°æ‰§è¡ŒåŠ¨æ€å†…å­˜åˆ†é…å’Œé‡Šæ”¾ï¼š Cä¸­çš„åŠ¨æ€å†…å­˜åˆ†é…ï¼š malloc(size_t size)ï¼šåˆ†é…æŒ‡å®šå¤§å°çš„å†…å­˜å—ï¼Œå¹¶è¿”å›æŒ‡å‘é¦–å­—èŠ‚çš„æŒ‡é’ˆã€‚ calloc(size_t num, size_t size)ï¼šåˆ†é…æŒ‡å®šæ•°é‡å’Œå¤§å°çš„å†…å­˜å—ï¼Œåˆå§‹åŒ–ä¸ºé›¶ã€‚ realloc(void* ptr, size_t new_size)ï¼šé‡æ–°åˆ†é…å·²åˆ†é…å†…å­˜çš„å¤§å°ã€‚ free(void* ptr)ï¼šé‡Šæ”¾å…ˆå‰åˆ†é…çš„å†…å­˜ã€‚ C++ä¸­çš„åŠ¨æ€å†…å­˜åˆ†é…ï¼š new typeï¼šåˆ†é…æŒ‡å®šç±»å‹çš„å†…å­˜ï¼Œè¿”å›æŒ‡å‘è¯¥ç±»å‹çš„æŒ‡é’ˆã€‚ new type[n]ï¼šåˆ†é…æ•°ç»„ç±»å‹çš„å†…å­˜ã€‚ delete ptrï¼šé‡Šæ”¾ç”±newåˆ†é…çš„å†…å­˜ã€‚ delete[] ptrï¼šé‡Šæ”¾ç”±new[]åˆ†é…çš„å†…å­˜ã€‚ å¿…é¡»è°¨æ…ä½¿ç”¨åŠ¨æ€å†…å­˜åˆ†é…ï¼Œä»¥é¿å…å†…å­˜æ³„æ¼å’Œæ‚¬æŒ‚æŒ‡é’ˆã€‚ ä»€ä¹ˆæ˜¯ç±»å’Œå¯¹è±¡ï¼Ÿå¦‚ä½•åœ¨C++ä¸­å®šä¹‰ç±»å’Œåˆ›å»ºå¯¹è±¡ï¼Ÿå›ç­”ï¼š ç±»æ˜¯C++ä¸­é¢å‘å¯¹è±¡ç¼–ç¨‹çš„åŸºæœ¬æ¦‚å¿µï¼Œå®ƒæ˜¯ä¸€ç§ç”¨æˆ·è‡ªå®šä¹‰çš„æ•°æ®ç±»å‹ï¼Œç”¨äºå°è£…æ•°æ®å’Œæ“ä½œã€‚å¯¹è±¡æ˜¯ç±»çš„å®ä¾‹ï¼Œå®ƒæ˜¯å…·ä½“çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥æ‰§è¡Œç±»ä¸­å®šä¹‰çš„æ“ä½œã€‚ åœ¨C++ä¸­å®šä¹‰ç±»å’Œåˆ›å»ºå¯¹è±¡çš„æ­¥éª¤å¦‚ä¸‹ï¼š å®šä¹‰ç±»ï¼šä½¿ç”¨classå…³é”®å­—å®šä¹‰ç±»ï¼Œå£°æ˜ç±»çš„æ•°æ®æˆå‘˜å’Œæˆå‘˜å‡½æ•°ã€‚ä¾‹å¦‚ï¼š 12345class MyClass &#123;public: int myVar; void myFunction();&#125;; åˆ›å»ºå¯¹è±¡ï¼šåœ¨ç¨‹åºä¸­ä½¿ç”¨ç±»ååˆ›å»ºå¯¹è±¡ï¼Œä¾‹å¦‚ï¼š 1MyClass obj; è®¿é—®å¯¹è±¡æˆå‘˜ï¼šä½¿ç”¨ç‚¹è¿ç®—ç¬¦(.)è®¿é—®å¯¹è±¡çš„æ•°æ®æˆå‘˜å’Œæˆå‘˜å‡½æ•°ï¼Œä¾‹å¦‚ï¼š 12obj.myVar = 42;obj.myFunction(); ç±»å’Œå¯¹è±¡å…è®¸å°†ç›¸å…³æ•°æ®å’Œæ“ä½œå°è£…åœ¨ä¸€èµ·ï¼Œæé«˜äº†ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯é‡ç”¨æ€§ã€‚ ä»€ä¹ˆæ˜¯æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ï¼Ÿå®ƒä»¬æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿå›ç­”ï¼š æ„é€ å‡½æ•°å’Œææ„å‡½æ•°æ˜¯C++ç±»çš„ç‰¹æ®Šæˆå‘˜å‡½æ•°ï¼Œç”¨äºå¯¹è±¡çš„åˆå§‹åŒ–å’Œæ¸…ç†ã€‚ æ„é€ å‡½æ•°ï¼ˆConstructorï¼‰ï¼š æ„é€ å‡½æ•°åœ¨å¯¹è±¡åˆ›å»ºæ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œç”¨äºåˆå§‹åŒ–å¯¹è±¡çš„æ•°æ®æˆå‘˜ã€‚æ„é€ å‡½æ•°çš„åç§°ä¸ç±»åç›¸åŒï¼Œæ²¡æœ‰è¿”å›ç±»å‹ã€‚ 123456class MyClass &#123;public: MyClass() &#123; // æ„é€ å‡½æ•°çš„ä»£ç  &#125;&#125;; ææ„å‡½æ•°ï¼ˆDestructorï¼‰ï¼š ææ„å‡½æ•°åœ¨å¯¹è±¡é”€æ¯æ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œç”¨äºæ¸…ç†èµ„æºã€‚ææ„å‡½æ•°çš„åç§°ä¸ç±»åç›¸åŒï¼Œå‰é¢åŠ ä¸Š~ã€‚ 123456class MyClass &#123;public: ~MyClass() &#123; // ææ„å‡½æ•°çš„ä»£ç  &#125;&#125;; æ„é€ å‡½æ•°ç¡®ä¿å¯¹è±¡åœ¨ä½¿ç”¨å‰å¤„äºä¸€ç§æœ‰æ•ˆçŠ¶æ€ï¼Œè€Œææ„å‡½æ•°å¯ç”¨äºé‡Šæ”¾å¯¹è±¡ä½¿ç”¨çš„èµ„æºï¼Œå¦‚å†…å­˜æˆ–æ‰“å¼€çš„æ–‡ä»¶ã€‚ ä»€ä¹ˆæ˜¯ç»§æ‰¿ï¼Ÿå¦‚ä½•åœ¨C++ä¸­å®ç°ç»§æ‰¿ï¼Ÿå›ç­”ï¼š ç»§æ‰¿æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œå®ƒå…è®¸åˆ›å»ºä¸€ä¸ªæ–°ç±»ï¼ˆå­ç±»æˆ–æ´¾ç”Ÿç±»ï¼‰ï¼Œä»¥é‡ç”¨ç°æœ‰ç±»ï¼ˆåŸºç±»æˆ–çˆ¶ç±»ï¼‰çš„å±æ€§å’Œæ–¹æ³•ã€‚åœ¨C++ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼å®ç°ç»§æ‰¿ï¼š 123456789101112131415class ParentClass &#123;public: int parentVar; void parentFunction() &#123; // çˆ¶ç±»çš„æ–¹æ³• &#125;&#125;;class ChildClass : public ParentClass &#123;public: int childVar; void childFunction() &#123; // å­ç±»çš„æ–¹æ³• &#125;&#125;; ChildClassç»§æ‰¿äº†ParentClassï¼Œå­ç±»æ‹¥æœ‰çˆ¶ç±»çš„æ•°æ®æˆå‘˜å’Œæ–¹æ³•ã€‚ publicå…³é”®å­—è¡¨ç¤ºç»§æ‰¿çš„è®¿é—®æƒé™ï¼Œpublicè¡¨ç¤ºå­ç±»å¯ä»¥è®¿é—®çˆ¶ç±»çš„å…¬æœ‰æˆå‘˜ã€‚ ç»§æ‰¿å…è®¸ä»£ç é‡ç”¨ã€æ‰©å±•ç°æœ‰ç±»çš„åŠŸèƒ½ï¼Œä»¥åŠåˆ›å»ºå±‚æ¬¡åŒ–çš„ç±»ç»“æ„ã€‚ ä»€ä¹ˆæ˜¯å¤šæ€æ€§ï¼ˆPolymorphismï¼‰ï¼Ÿå¦‚ä½•åœ¨C++ä¸­å®ç°å¤šæ€æ€§ï¼Ÿå›ç­”ï¼š å¤šæ€æ€§æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸€ä¸ªç‰¹æ€§ï¼Œå®ƒå…è®¸ä¸åŒå¯¹è±¡å¯¹ç›¸åŒçš„æ–¹æ³•äº§ç”Ÿä¸åŒçš„è¡Œä¸ºã€‚åœ¨C++ä¸­ï¼Œå¤šæ€æ€§å¯ä»¥é€šè¿‡å‡½æ•°é‡è½½å’Œè™šå‡½æ•°å®ç°ã€‚ å‡½æ•°é‡è½½ï¼š å‡½æ•°é‡è½½å…è®¸åœ¨åŒä¸€ä¸ªç±»ä¸­å®šä¹‰å¤šä¸ªåŒåå‡½æ•°ï¼Œä½†å‚æ•°ç±»å‹æˆ–æ•°é‡ä¸åŒã€‚ç¼–è¯‘å™¨æ ¹æ®è°ƒç”¨æ—¶çš„å‚æ•°ç±»å‹æ¥é€‰æ‹©æ­£ç¡®çš„å‡½æ•°ã€‚ 123456789class MyMath &#123;public: int add(int a, int b) &#123; return a + b; &#125; double add(double a, double b) &#123; return a + b; &#125;&#125;; è™šå‡½æ•°å’Œè¿è¡Œæ—¶å¤šæ€æ€§ï¼š è™šå‡½æ•°æ˜¯åŸºç±»ä¸­å£°æ˜ä¸ºvirtualçš„æˆå‘˜å‡½æ•°ã€‚å­ç±»å¯ä»¥é‡å†™ï¼ˆè¦†ç›–ï¼‰åŸºç±»çš„è™šå‡½æ•°ï¼Œå¹¶åœ¨è¿è¡Œæ—¶è°ƒç”¨ç›¸åº”çš„å­ç±»ç‰ˆæœ¬ã€‚ 12345678910111213class Shape &#123;public: virtual void draw() &#123; // åŸºç±»çš„è™šå‡½æ•° &#125;&#125;;class Circle : public Shape &#123;public: void draw() override &#123; // å­ç±»çš„è™šå‡½æ•° &#125;&#125;; å¤šæ€æ€§å…è®¸ä»¥é€šç”¨çš„æ–¹å¼æ“ä½œå¯¹è±¡ï¼Œè€Œä¸å¿…å…³å¿ƒå…¶å…·ä½“ç±»å‹ã€‚è¿™æé«˜äº†ä»£ç çš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ã€‚ ä»€ä¹ˆæ˜¯æ¨¡æ¿ï¼ˆTemplateï¼‰ï¼Ÿå¦‚ä½•åœ¨C++ä¸­ä½¿ç”¨æ¨¡æ¿ï¼Ÿå›ç­”ï¼š æ¨¡æ¿æ˜¯C++ä¸­ä¸€ç§é€šç”¨ç¼–ç¨‹å·¥å…·ï¼Œå…è®¸ç¼–å†™é€šç”¨ä»£ç ï¼Œé€‚ç”¨äºä¸åŒçš„æ•°æ®ç±»å‹ã€‚C++ä¸­æœ‰ä¸¤ç§ä¸»è¦ç±»å‹çš„æ¨¡æ¿ï¼š å‡½æ•°æ¨¡æ¿ï¼š å…è®¸ç¼–å†™é€šç”¨å‡½æ•°ï¼Œå¯ä»¥é€‚ç”¨äºä¸åŒç±»å‹çš„å‚æ•°ã€‚ 1234template &lt;typename T&gt;T add(T a, T b) &#123; return a + b;&#125; ç±»æ¨¡æ¿ï¼š å…è®¸ç¼–å†™é€šç”¨ç±»ï¼Œå¯ä»¥é€‚ç”¨äºä¸åŒç±»å‹çš„æˆå‘˜ã€‚ 123456template &lt;typename T&gt;class MyContainer &#123;public: T value; MyContainer(T val) : value(val) &#123;&#125;&#125;; æ¨¡æ¿é€šè¿‡å‚æ•°åŒ–ç±»å‹æ¥å®ç°é€šç”¨æ€§ï¼Œä½¿å¾—ä»£ç æ›´å…·é€šç”¨æ€§å’Œå¯é‡ç”¨æ€§ã€‚ ä»€ä¹ˆæ˜¯RAIIï¼ˆèµ„æºè·å–å³åˆå§‹åŒ–ï¼‰ï¼Ÿå®ƒåœ¨C++ä¸­æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿå›ç­”ï¼š RAIIæ˜¯ä¸€ç§C++ç¼–ç¨‹æƒ¯ä¾‹ï¼Œå®ƒå¼ºè°ƒèµ„æºç®¡ç†ä¸å¯¹è±¡ç”Ÿå‘½å‘¨æœŸçš„ç»‘å®šã€‚RAIIçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼Œèµ„æºçš„è·å–åº”è¯¥åœ¨å¯¹è±¡æ„é€ æœŸé—´è¿›è¡Œï¼Œè€Œé‡Šæ”¾åº”è¯¥åœ¨å¯¹è±¡ææ„æœŸé—´è¿›è¡Œã€‚è¿™å¯ä»¥ç¡®ä¿èµ„æºåœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½ä¼šå¾—åˆ°æ­£ç¡®é‡Šæ”¾ï¼Œä»¥é¿å…èµ„æºæ³„æ¼ã€‚ RAIIæœ€å¸¸è§çš„ç”¨æ³•ä¹‹ä¸€æ˜¯ä½¿ç”¨ææ„å‡½æ•°æ¥é‡Šæ”¾åŠ¨æ€åˆ†é…çš„å†…å­˜ã€‚ä¾‹å¦‚ï¼š 123456789class MyResource &#123;public: MyResource() &#123; // è·å–èµ„æºçš„æ“ä½œ &#125; ~MyResource() &#123; // é‡Šæ”¾èµ„æºçš„æ“ä½œ &#125;&#125;; ä½¿ç”¨RAIIï¼Œå¯ä»¥ç¡®ä¿åœ¨å¯¹è±¡ç¦»å¼€ä½œç”¨åŸŸæ—¶èµ„æºè¢«æ­£ç¡®é‡Šæ”¾ï¼Œå³ä½¿å‘ç”Ÿå¼‚å¸¸æˆ–æå‰é€€å‡ºå‡½æ•°ä¹Ÿå¯ä»¥ã€‚è¿™ç§æŠ€æœ¯è¿˜å¯ç”¨äºç®¡ç†æ–‡ä»¶å¥æŸ„ã€äº’æ–¥é”ç­‰èµ„æºã€‚ ä»€ä¹ˆæ˜¯æŒ‡é’ˆå’Œå¼•ç”¨çš„åŒºåˆ«ï¼Ÿåœ¨ä»€ä¹ˆæƒ…å†µä¸‹åº”è¯¥ä½¿ç”¨å“ªä¸ªï¼Ÿå›ç­”ï¼š æŒ‡é’ˆå’Œå¼•ç”¨éƒ½ç”¨äºå¤„ç†å˜é‡çš„é—´æ¥è®¿é—®ï¼Œä½†å®ƒä»¬æœ‰ä¸€äº›é‡è¦çš„åŒºåˆ«ï¼š æŒ‡é’ˆï¼ˆPointerï¼‰ï¼š æŒ‡é’ˆæ˜¯ä¸€ä¸ªå˜é‡ï¼Œå…¶å€¼æ˜¯å¦ä¸€ä¸ªå˜é‡çš„åœ°å€ã€‚ æŒ‡é’ˆå¯ä»¥é‡æ–°åˆ†é…ç»™ä¸åŒçš„å˜é‡ï¼Œå› æ­¤å®ƒæ˜¯å¯å˜çš„ã€‚ æŒ‡é’ˆéœ€è¦æ˜¾å¼è§£å¼•ç”¨æ‰èƒ½è®¿é—®å­˜å‚¨åœ¨åœ°å€ä¸­çš„å€¼ã€‚ æŒ‡é’ˆå¯ä»¥ä¸ºç©ºï¼ˆnullï¼‰ã€‚ æŒ‡é’ˆé€šå¸¸ç”¨äºåŠ¨æ€å†…å­˜åˆ†é…ã€æ•°æ®ç»“æ„å’Œåœ¨å‡½æ•°ä¸­ä¼ é€’å‚æ•°æ—¶ã€‚ å¼•ç”¨ï¼ˆReferenceï¼‰ï¼š å¼•ç”¨æ˜¯ä¸€ä¸ªåˆ«åï¼Œå®ƒå¼•ç”¨äº†å¦ä¸€ä¸ªå˜é‡ã€‚ å¼•ç”¨åœ¨åˆ›å»ºåä¸èƒ½é‡æ–°ç»‘å®šåˆ°å…¶ä»–å˜é‡ï¼Œå› æ­¤å®ƒæ˜¯ä¸å¯å˜çš„ã€‚ å¼•ç”¨ä¸éœ€è¦æ˜¾å¼è§£å¼•ç”¨ï¼Œå› ä¸ºå®ƒæœ¬èº«å°±æ˜¯æ‰€å¼•ç”¨å˜é‡çš„åˆ«åã€‚ å¼•ç”¨ä¸èƒ½ä¸ºç©ºï¼Œå®ƒå¿…é¡»å¼•ç”¨ä¸€ä¸ªå·²å­˜åœ¨çš„å˜é‡ã€‚ å¼•ç”¨é€šå¸¸ç”¨äºå‡½æ•°å‚æ•°ã€è¿”å›å€¼å’Œé¿å…å¤åˆ¶å¤§å¯¹è±¡çš„å¼€é”€ã€‚ åœ¨é€‰æ‹©ä½¿ç”¨æŒ‡é’ˆè¿˜æ˜¯å¼•ç”¨æ—¶ï¼Œåº”è€ƒè™‘ä»¥ä¸‹å› ç´ ï¼š å¦‚æœéœ€è¦èƒ½å¤Ÿé‡æ–°åˆ†é…å¼•ç”¨æˆ–è€…å¼•ç”¨ä¸ºç©ºï¼Œåº”ä½¿ç”¨æŒ‡é’ˆã€‚ å¦‚æœä¸éœ€è¦é‡æ–°åˆ†é…å¼•ç”¨ï¼Œå¹¶ä¸”è¦é¿å…å¤åˆ¶å¤§å¯¹è±¡çš„å¼€é”€ï¼Œåº”ä½¿ç”¨å¼•ç”¨ã€‚ å¯¹äºå‡½æ•°å‚æ•°ï¼Œå¦‚æœä¸éœ€è¦ä¿®æ”¹ä¼ é€’çš„å€¼ï¼Œé€šå¸¸ä½¿ç”¨å¼•ç”¨æˆ–è€…å¸¸é‡å¼•ç”¨ï¼ˆconstå¼•ç”¨ï¼‰æ›´å®‰å…¨ï¼Œå› ä¸ºå®ƒä»¬ä¸ä¼šæ”¹å˜åŸå§‹å€¼ã€‚ ä»€ä¹ˆæ˜¯å¤´æ–‡ä»¶ï¼ˆHeader Fileï¼‰ï¼Ÿä¸ºä»€ä¹ˆåœ¨C&#x2F;C++ä¸­ä½¿ç”¨å¤´æ–‡ä»¶ï¼Ÿå›ç­”ï¼š å¤´æ–‡ä»¶æ˜¯åŒ…å«C&#x2F;C++ç¨‹åºä¸­å£°æ˜å’Œå®šä¹‰çš„ä¿¡æ¯çš„æ–‡ä»¶ï¼Œé€šå¸¸å…·æœ‰.hï¼ˆCï¼‰æˆ–.hppï¼ˆC++ï¼‰çš„æ‰©å±•åã€‚å¤´æ–‡ä»¶çš„ä¸»è¦ä½œç”¨æ˜¯ï¼š åˆ†ç¦»æ¥å£å’Œå®ç°ï¼š å¤´æ–‡ä»¶åŒ…å«å‡½æ•°å’Œç±»çš„å£°æ˜ï¼Œä½†é€šå¸¸ä¸åŒ…å«å®é™…çš„å‡½æ•°æˆ–ç±»çš„å®ç°ã€‚è¿™æœ‰åŠ©äºåˆ†ç¦»æ¥å£å®šä¹‰ï¼ˆå¤´æ–‡ä»¶ï¼‰å’Œå®ç°ï¼ˆæºæ–‡ä»¶ï¼‰ï¼Œä»¥ä¾¿äºä»£ç ç»„ç»‡å’Œç»´æŠ¤ã€‚ é‡å¤ä½¿ç”¨ä»£ç ï¼š å¤´æ–‡ä»¶å…è®¸åœ¨å¤šä¸ªæºæ–‡ä»¶ä¸­å…±äº«ç›¸åŒçš„å‡½æ•°å’Œç±»å£°æ˜ï¼Œä»¥ä¾¿é‡å¤ä½¿ç”¨ä»£ç ã€‚ ç¼–è¯‘ä¼˜åŒ–ï¼š ä½¿ç”¨å¤´æ–‡ä»¶å¯ä»¥æä¾›ç¼–è¯‘å™¨ä¼˜åŒ–çš„æœºä¼šï¼Œå› ä¸ºå®ƒå¯ä»¥åœ¨ç¼–è¯‘ä¸åŒæºæ–‡ä»¶ä¹‹å‰æŸ¥çœ‹å¤´æ–‡ä»¶çš„å†…å®¹ã€‚ ç¼–è¯‘æ£€æŸ¥ï¼š å¤´æ–‡ä»¶ä¸­çš„å£°æ˜å…è®¸ç¼–è¯‘å™¨è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œä»¥æ•è·æ½œåœ¨çš„é”™è¯¯ã€‚ é€šå¸¸ï¼Œå¤´æ–‡ä»¶åŒ…å«å‡½æ•°åŸå‹ã€ç±»å£°æ˜ã€å®å®šä¹‰ã€å¸¸é‡å’Œå…¨å±€å˜é‡çš„å£°æ˜ã€‚æºæ–‡ä»¶ï¼ˆ.cæˆ–.cppï¼‰åŒ…å«å‡½æ•°å’Œç±»çš„å®ç°ã€‚ ä»€ä¹ˆæ˜¯å†…è”å‡½æ•°ï¼ˆInline Functionï¼‰ï¼Ÿå¦‚ä½•å®šä¹‰å†…è”å‡½æ•°ï¼Ÿå›ç­”ï¼š å†…è”å‡½æ•°æ˜¯C&#x2F;C++ä¸­çš„ä¸€ç§ç¼–è¯‘å™¨æŒ‡ç¤ºï¼Œç”¨äºè¯·æ±‚å°†å‡½æ•°çš„ä»£ç åµŒå…¥åˆ°å‡½æ•°è°ƒç”¨çš„åœ°æ–¹ï¼Œè€Œä¸æ˜¯é€šè¿‡å‡½æ•°è°ƒç”¨çš„æ–¹å¼æ‰§è¡Œå®ƒã€‚å†…è”å‡½æ•°é€šå¸¸ç”¨äºå°å‹å‡½æ•°ï¼Œä»¥æé«˜æ‰§è¡Œæ•ˆç‡ï¼Œå› ä¸ºå‡½æ•°è°ƒç”¨ä¼šæ¶‰åŠé¢å¤–çš„å¼€é”€ã€‚ åœ¨C++ä¸­ï¼Œå¯ä»¥é€šè¿‡åœ¨å‡½æ•°å£°æ˜å‰åŠ ä¸Šinlineå…³é”®å­—æ¥å®šä¹‰å†…è”å‡½æ•°ï¼Œä¾‹å¦‚ï¼š 123inline int add(int a, int b) &#123; return a + b;&#125; å†…è”å‡½æ•°çš„ä¼˜ç‚¹åŒ…æ‹¬ï¼š å‡å°‘äº†å‡½æ•°è°ƒç”¨çš„å¼€é”€ï¼Œå› ä¸ºä»£ç ç›´æ¥åµŒå…¥åˆ°è°ƒç”¨å¤„ã€‚ å¯ä»¥æé«˜ç¨‹åºçš„æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯å¯¹äºé¢‘ç¹è°ƒç”¨çš„å°å‹å‡½æ•°ã€‚ æœ‰åŠ©äºå‡å°å¯æ‰§è¡Œæ–‡ä»¶çš„å¤§å°ã€‚ ç„¶è€Œï¼Œå†…è”å‡½æ•°çš„ä½¿ç”¨åº”è°¨æ…ï¼Œå› ä¸ºè¿‡å¤šçš„å†…è”å‡½æ•°å¯èƒ½ä¼šå¯¼è‡´å¯æ‰§è¡Œæ–‡ä»¶å˜å¾—åºå¤§ã€‚ç¼–è¯‘å™¨é€šå¸¸ä¼šæ ¹æ®å‡½æ•°çš„å¤§å°å’Œå¤æ‚æ€§æ¥å†³å®šæ˜¯å¦å°†å…¶å†…è”ã€‚ ä»€ä¹ˆæ˜¯å¤šçº¿ç¨‹ï¼Ÿå¦‚ä½•åœ¨C&#x2F;C++ä¸­åˆ›å»ºå’Œç®¡ç†å¤šçº¿ç¨‹ï¼Ÿå›ç­”ï¼š å¤šçº¿ç¨‹æ˜¯ä¸€ç§å¹¶å‘ç¼–ç¨‹æŠ€æœ¯ï¼Œå…è®¸ç¨‹åºåŒæ—¶æ‰§è¡Œå¤šä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„æ‰§è¡Œæµå’Œå±€éƒ¨çŠ¶æ€ã€‚å¤šçº¿ç¨‹å¯ä»¥æé«˜ç¨‹åºçš„æ€§èƒ½å’Œå“åº”æ€§ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤šæ ¸å¤„ç†å™¨ä¸Šã€‚ åœ¨C&#x2F;C++ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹åº“æ¥åˆ›å»ºå’Œç®¡ç†å¤šçº¿ç¨‹ï¼š Cè¯­è¨€ä¸­çš„çº¿ç¨‹ï¼ˆpthreadï¼‰ï¼š ä½¿ç”¨POSIXçº¿ç¨‹åº“å¯ä»¥åœ¨Cä¸­åˆ›å»ºå¤šçº¿ç¨‹ã€‚ç¤ºä¾‹ï¼š 12345678910111213#include &lt;pthread.h&gt;void* thread_function(void* arg) &#123; // çº¿ç¨‹å‡½æ•°çš„ä»£ç  return NULL;&#125;int main() &#123; pthread_t thread; pthread_create(&amp;thread, NULL, thread_function, NULL); pthread_join(thread, NULL); // ç­‰å¾…çº¿ç¨‹ç»“æŸ return 0;&#125; C++æ ‡å‡†åº“ä¸­çš„çº¿ç¨‹ï¼š C++11å¼•å…¥äº†std::threadï¼Œå…è®¸åœ¨C++ä¸­åˆ›å»ºå¤šçº¿ç¨‹ã€‚ç¤ºä¾‹ï¼š 1234567891011#include &lt;thread&gt;void thread_function() &#123; // çº¿ç¨‹å‡½æ•°çš„ä»£ç &#125;int main() &#123; std::thread thread1(thread_function); thread1.join(); // ç­‰å¾…çº¿ç¨‹ç»“æŸ return 0;&#125; å¤šçº¿ç¨‹ç¼–ç¨‹éœ€è¦è°¨æ…å¤„ç†å…±äº«èµ„æºçš„åŒæ­¥å’Œäº’æ–¥é—®é¢˜ï¼Œä»¥é¿å…ç«æ€æ¡ä»¶å’Œæ­»é”ç­‰é—®é¢˜ã€‚ ä»€ä¹ˆæ˜¯å¼‚å¸¸å¤„ç†ï¼Ÿåœ¨C++ä¸­å¦‚ä½•å¤„ç†å¼‚å¸¸ï¼Ÿå›ç­”ï¼š å¼‚å¸¸å¤„ç† æ˜¯ä¸€ç§åœ¨ç¨‹åºè¿è¡Œæ—¶æ£€æµ‹å’Œå“åº”é”™è¯¯çš„æœºåˆ¶ï¼Œä»¥é¿å…ç¨‹åºå´©æºƒæˆ–äº§ç”Ÿä¸å¯é¢„æµ‹çš„è¡Œä¸ºã€‚åœ¨C++ä¸­ï¼Œå¼‚å¸¸å¤„ç†ä½¿ç”¨tryã€catchå’Œthrowå…³é”®å­—æ¥å®ç°ã€‚ tryå—ç”¨äºåŒ…è£…å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„ä»£ç å—ã€‚ catchå—ç”¨äºæ•è·å’Œå¤„ç†å¼‚å¸¸ã€‚å¯ä»¥æœ‰å¤šä¸ªcatchå—ï¼Œæ¯ä¸ªå—å¯ä»¥å¤„ç†ä¸åŒç±»å‹çš„å¼‚å¸¸ã€‚ throwè¯­å¥ç”¨äºæŠ›å‡ºå¼‚å¸¸ï¼Œå¯ä»¥æŠ›å‡ºä»»ä½•ç±»å‹çš„å¼‚å¸¸ã€‚ ç¤ºä¾‹ï¼š 12345678910111213141516171819#include &lt;iostream&gt;#include &lt;stdexcept&gt;int divide(int a, int b) &#123; if (b == 0) &#123; throw std::runtime_error(&quot;Divide by zero&quot;); &#125; return a / b;&#125;int main() &#123; try &#123; int result = divide(10, 0); std::cout &lt;&lt; &quot;Result: &quot; &lt;&lt; result &lt;&lt; std::endl; &#125; catch (const std::exception&amp; e) &#123; std::cerr &lt;&lt; &quot;Exception: &quot; &lt;&lt; e.what() &lt;&lt; std::endl; &#125; return 0;&#125; å¼‚å¸¸å¤„ç†å…è®¸ç¨‹åºåœ¨é‡åˆ°é”™è¯¯æ—¶è¿›è¡Œå®‰å…¨é€€å‡ºæˆ–æ‰§è¡Œæ¢å¤æ“ä½œã€‚åœ¨è®¾è®¡å‡½æ•°æ—¶ï¼Œåº”è¯¥è€ƒè™‘å¯èƒ½æŠ›å‡ºçš„å¼‚å¸¸ç±»å‹ï¼Œå¹¶æä¾›é€‚å½“çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ã€‚ ä»€ä¹ˆæ˜¯ææ„å‡½æ•°ï¼ˆDestructorï¼‰ï¼Ÿä¸ºä»€ä¹ˆå®ƒé‡è¦ï¼Ÿå›ç­”ï¼š ææ„å‡½æ•°æ˜¯C++ç±»çš„ç‰¹æ®Šæˆå‘˜å‡½æ•°ï¼Œç”¨äºå¯¹è±¡çš„æ¸…ç†å’Œèµ„æºé‡Šæ”¾ã€‚ææ„å‡½æ•°çš„åç§°ä¸ç±»åç›¸åŒï¼Œå‰é¢åŠ ä¸Š~ç¬¦å·ã€‚ ææ„å‡½æ•°åœ¨ä»¥ä¸‹æƒ…å†µä¸‹é‡è¦ï¼š èµ„æºé‡Šæ”¾ï¼š ææ„å‡½æ•°ç”¨äºé‡Šæ”¾å¯¹è±¡åœ¨å…¶ç”Ÿå‘½å‘¨æœŸä¸­åˆ†é…çš„èµ„æºï¼Œå¦‚å†…å­˜ã€æ–‡ä»¶å¥æŸ„ã€æ•°æ®åº“è¿æ¥ç­‰ã€‚è¿™æœ‰åŠ©äºé¿å…èµ„æºæ³„æ¼ã€‚ å¯¹è±¡ç”Ÿå‘½å‘¨æœŸæ§åˆ¶ï¼š ææ„å‡½æ•°ç¡®å®šäº†å¯¹è±¡åœ¨é”€æ¯æ—¶åº”é‡‡å–çš„è¡ŒåŠ¨ï¼Œä¾‹å¦‚å…³é—­æ–‡ä»¶æˆ–é‡Šæ”¾é”å®šã€‚ å¼‚å¸¸å¤„ç†ï¼š ææ„å‡½æ•°å¯ä»¥ç”¨äºå¤„ç†å¯¹è±¡ç”Ÿå‘½å‘¨æœŸä¸­çš„å¼‚å¸¸æƒ…å†µï¼Œç¡®ä¿èµ„æºåœ¨å¼‚å¸¸æ—¶å¾—åˆ°é‡Šæ”¾ã€‚ å­ç±»ææ„å‡½æ•°ï¼š åœ¨ç»§æ‰¿ä¸­ï¼ŒåŸºç±»çš„ææ„å‡½æ•°é€šå¸¸æ˜¯è™šçš„ï¼Œä»¥ç¡®ä¿åœ¨é”€æ¯å­ç±»å¯¹è±¡æ—¶æ­£ç¡®è°ƒç”¨åŸºç±»ææ„å‡½æ•°ï¼Œä»è€Œå®ç°å¤šæ€çš„ææ„ã€‚ ç¤ºä¾‹ï¼š 123456789class MyClass &#123;public: MyClass() &#123; // æ„é€ å‡½æ•°çš„ä»£ç  &#125; ~MyClass() &#123; // ææ„å‡½æ•°çš„ä»£ç ï¼Œç”¨äºé‡Šæ”¾èµ„æº &#125;&#125;; ç¡®ä¿åœ¨éœ€è¦æ—¶æ­£ç¡®å®ç°ææ„å‡½æ•°ï¼Œä»¥é¿å…èµ„æºæ³„æ¼å’Œä¸ç¨³å®šçš„ç¨‹åºè¡Œä¸ºã€‚ ä»€ä¹ˆæ˜¯é¢„å¤„ç†å™¨ï¼ˆPreprocessorï¼‰ï¼Ÿå®ƒåœ¨C&#x2F;C++ä¸­æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿå›ç­”ï¼š é¢„å¤„ç†å™¨æ˜¯C&#x2F;C++ç¼–è¯‘è¿‡ç¨‹ä¸­çš„ä¸€ä¸ªç‹¬ç«‹é˜¶æ®µï¼Œç”¨äºåœ¨å®é™…ç¼–è¯‘ä¹‹å‰å¤„ç†æºä»£ç ã€‚é¢„å¤„ç†å™¨çš„ä¸»è¦ä½œç”¨åŒ…æ‹¬ï¼š å®æ›¿æ¢ï¼š é¢„å¤„ç†å™¨å¯ä»¥æ›¿æ¢æºä»£ç ä¸­çš„å®å®šä¹‰ï¼Œä¾‹å¦‚ä½¿ç”¨#defineå®šä¹‰çš„å®å¸¸é‡æˆ–å®å‡½æ•°ã€‚ æ–‡ä»¶åŒ…å«ï¼š é¢„å¤„ç†å™¨ä½¿ç”¨#includeæŒ‡ä»¤å°†å…¶ä»–æ–‡ä»¶çš„å†…å®¹æ’å…¥æºæ–‡ä»¶ä¸­ï¼Œå…è®¸ä»£ç çš„æ¨¡å—åŒ–ç»„ç»‡ã€‚ æ¡ä»¶ç¼–è¯‘ï¼š é¢„å¤„ç†å™¨ä½¿ç”¨æ¡ä»¶ç¼–è¯‘æŒ‡ä»¤ï¼Œå¦‚#ifdefå’Œ#ifndefï¼Œå¯ä»¥æ ¹æ®æ¡ä»¶é€‰æ‹©æ€§åœ°åŒ…å«æˆ–æ’é™¤ä»£ç å—ã€‚ æ³¨é‡Šåˆ é™¤ï¼š é¢„å¤„ç†å™¨åˆ é™¤æºä»£ç ä¸­çš„æ³¨é‡Šï¼Œä»¥å‡å°ç¼–è¯‘åçš„å¯æ‰§è¡Œæ–‡ä»¶çš„å¤§å°ã€‚ å…¶ä»–ï¼š é¢„å¤„ç†å™¨è¿˜æ”¯æŒå…¶ä»–åŠŸèƒ½ï¼Œå¦‚æ¡ä»¶ç¼–è¯‘ã€å®å±•å¼€ç­‰ã€‚ ç¤ºä¾‹ï¼š 1234567891011#define MAX_VALUE 100 // å®å®šä¹‰#include &lt;iostream&gt; // æ–‡ä»¶åŒ…å«#ifdef DEBUG // è°ƒè¯•ä»£ç #endifint main() &#123; int value = MAX_VALUE; // å®æ›¿æ¢ return 0;&#125; é¢„å¤„ç†å™¨é€šè¿‡ç”Ÿæˆç»è¿‡å¤„ç†çš„æºä»£ç ï¼Œç„¶åå°†å…¶ä¼ é€’ç»™ç¼–è¯‘å™¨è¿›è¡Œç¼–è¯‘ï¼Œèµ·åˆ°äº†ä»£ç é¢„å¤„ç†å’Œæ¡ä»¶ç¼–è¯‘çš„ä½œç”¨ã€‚ ä»€ä¹ˆæ˜¯é™æ€é“¾æ¥ï¼ˆStatic Linkingï¼‰å’ŒåŠ¨æ€é“¾æ¥ï¼ˆDynamic Linkingï¼‰ï¼Ÿå®ƒä»¬æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå›ç­”ï¼š é™æ€é“¾æ¥å’ŒåŠ¨æ€é“¾æ¥æ˜¯ç”¨äºå°†ç¨‹åºæ¨¡å—ï¼ˆå¦‚åº“å’Œå‡½æ•°ï¼‰ä¸åº”ç”¨ç¨‹åºä»£ç ç»„åˆåœ¨ä¸€èµ·çš„ä¸¤ç§ä¸åŒæ–¹æ³•ã€‚ é™æ€é“¾æ¥ï¼š åœ¨é™æ€é“¾æ¥ä¸­ï¼Œç¼–è¯‘å™¨å°†æ‰€æœ‰éœ€è¦çš„åº“å’Œå‡½æ•°çš„ä»£ç å¤åˆ¶åˆ°æœ€ç»ˆçš„å¯æ‰§è¡Œæ–‡ä»¶ä¸­ã€‚ å¯æ‰§è¡Œæ–‡ä»¶ç‹¬ç«‹äºå¤–éƒ¨åº“ï¼Œæ— éœ€ä¾èµ–å¤–éƒ¨åº“çš„å­˜åœ¨ã€‚ å¯æ‰§è¡Œæ–‡ä»¶è¾ƒå¤§ï¼Œå› ä¸ºå®ƒåŒ…å«äº†æ‰€æœ‰å¿…è¦çš„ä»£ç ã€‚ é™æ€é“¾æ¥çš„ç¨‹åºåœ¨è¿è¡Œæ—¶ä¸éœ€è¦å¤–éƒ¨åº“æ–‡ä»¶ï¼Œå› æ­¤æ›´æ˜“äºåˆ†å‘å’Œéƒ¨ç½²ã€‚ åŠ¨æ€é“¾æ¥ï¼š åœ¨åŠ¨æ€é“¾æ¥ä¸­ï¼Œåº”ç”¨ç¨‹åºåœ¨è¿è¡Œæ—¶åŠ è½½æ‰€éœ€çš„åº“å’Œå‡½æ•°ã€‚ å¯æ‰§è¡Œæ–‡ä»¶è¾ƒå°ï¼Œå› ä¸ºå®ƒåªåŒ…å«é“¾æ¥åˆ°åº“çš„å¼•ç”¨ã€‚ åº“æ–‡ä»¶ï¼ˆå¦‚DLLæˆ–å…±äº«å¯¹è±¡ï¼‰å¿…é¡»åœ¨è¿è¡Œæ—¶å­˜åœ¨ï¼Œå¦åˆ™ç¨‹åºå°†æ— æ³•æ‰§è¡Œã€‚ åŠ¨æ€é“¾æ¥å‡å°äº†å¯æ‰§è¡Œæ–‡ä»¶çš„å¤§å°ï¼Œå¹¶å…è®¸åº“çš„æ›´æ–°å’Œå…±äº«ã€‚ åŒºåˆ«ï¼š å¯æ‰§è¡Œæ–‡ä»¶å¤§å°ï¼š é™æ€é“¾æ¥ç”Ÿæˆè¾ƒå¤§çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œè€ŒåŠ¨æ€é“¾æ¥ç”Ÿæˆè¾ƒå°çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚ éƒ¨ç½²å’Œæ›´æ–°ï¼š é™æ€é“¾æ¥ç¨‹åºæ›´å®¹æ˜“éƒ¨ç½²ï¼Œå› ä¸ºå®ƒä¸éœ€è¦å¤–éƒ¨åº“æ–‡ä»¶ï¼Œä½†æ›´æ–°æ—¶éœ€è¦é‡æ–°ç¼–è¯‘ã€‚åŠ¨æ€é“¾æ¥ç¨‹åºæ›´å®¹æ˜“æ›´æ–°ï¼Œä½†éœ€è¦ç¡®ä¿æ‰€éœ€çš„åº“æ–‡ä»¶å¯ç”¨ã€‚ æ€§èƒ½ï¼š é€šå¸¸æƒ…å†µä¸‹ï¼Œé™æ€é“¾æ¥çš„æ€§èƒ½ ç•¥é«˜äºåŠ¨æ€é“¾æ¥ï¼Œå› ä¸ºæ‰€æœ‰ä»£ç éƒ½åŒ…å«åœ¨å¯æ‰§è¡Œæ–‡ä»¶ä¸­ï¼Œæ— éœ€è¿è¡Œæ—¶åŠ è½½ã€‚ é€‰æ‹©é™æ€é“¾æ¥æˆ–åŠ¨æ€é“¾æ¥å–å†³äºé¡¹ç›®çš„éœ€æ±‚å’Œç›®æ ‡ã€‚ä¸€äº›æ“ä½œç³»ç»Ÿå’Œå¼€å‘ç¯å¢ƒæ”¯æŒåŒæ—¶ä½¿ç”¨ä¸¤è€…ï¼Œä»¥å®ç°æœ€ä½³çš„çµæ´»æ€§å’Œæ€§èƒ½ã€‚ ä»€ä¹ˆæ˜¯å¤šç»§æ‰¿ï¼ˆMultiple Inheritanceï¼‰ï¼Ÿåœ¨C++ä¸­å¦‚ä½•å®ç°å¤šç»§æ‰¿ï¼Ÿå›ç­”ï¼š å¤šç»§æ‰¿æ˜¯C++ä¸­ä¸€ç§é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ç‰¹æ€§ï¼Œå…è®¸ä¸€ä¸ªç±»ç»§æ‰¿å¤šä¸ªåŸºç±»çš„ç‰¹æ€§å’Œè¡Œä¸ºã€‚åœ¨C++ä¸­ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å®ç°å¤šç»§æ‰¿ï¼š 1234567891011121314151617181920class BaseClass1 &#123;public: void func1() &#123; // BaseClass1 çš„æˆå‘˜å‡½æ•° &#125;&#125;;class BaseClass2 &#123;public: void func2() &#123; // BaseClass2 çš„æˆå‘˜å‡½æ•° &#125;&#125;;class DerivedClass : public BaseClass1, public BaseClass2 &#123;public: void func3() &#123; // DerivedClass çš„æˆå‘˜å‡½æ•° &#125;&#125;; DerivedClassä»BaseClass1å’ŒBaseClass2ç»§æ‰¿äº†æˆå‘˜å‡½æ•°func1å’Œfunc2ã€‚ å¤šç»§æ‰¿å…è®¸ä¸€ä¸ªç±»æ‹¥æœ‰å¤šä¸ªçˆ¶ç±»ï¼Œä½†éœ€è¦æ³¨æ„è§£å†³æ½œåœ¨çš„äºŒä¹‰æ€§é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸¤ä¸ªåŸºç±»éƒ½æœ‰ç›¸åŒåç§°çš„æˆå‘˜å‡½æ•°ï¼Œéœ€è¦ä½¿ç”¨ä½œç”¨åŸŸè§£æç¬¦å·æ¥æŒ‡å®šè°ƒç”¨å“ªä¸ªç‰ˆæœ¬ã€‚ å¤šç»§æ‰¿å¯ä»¥æä¾›æ›´ä¸°å¯Œçš„ä»£ç å¤ç”¨å’Œç»„ç»‡ï¼Œä½†ä¹Ÿå¯èƒ½å¯¼è‡´å¤æ‚æ€§å¢åŠ ï¼Œå› ä¸ºéœ€è¦å¤„ç†æ½œåœ¨çš„äºŒä¹‰æ€§å’Œå‘½åå†²çªã€‚ ä»€ä¹ˆæ˜¯æ™ºèƒ½æŒ‡é’ˆï¼ˆSmart Pointerï¼‰ï¼Ÿå®ƒä»¬åœ¨C++ä¸­çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿå›ç­”ï¼š æ™ºèƒ½æŒ‡é’ˆæ˜¯C++ä¸­çš„ä¸€ç§æ•°æ®ç±»å‹ï¼Œç”¨äºç®¡ç†åŠ¨æ€åˆ†é…çš„å†…å­˜ï¼Œä»¥é˜²æ­¢å†…å­˜æ³„æ¼å’Œæ‚¬æŒ‚æŒ‡é’ˆç­‰é—®é¢˜ã€‚C++æ ‡å‡†åº“æä¾›äº†ä¸¤ç§ä¸»è¦ç±»å‹çš„æ™ºèƒ½æŒ‡é’ˆï¼šstd::shared_ptrå’Œstd::unique_ptrã€‚ std::shared_ptrï¼š å…è®¸å¤šä¸ªæ™ºèƒ½æŒ‡é’ˆå…±äº«åŒä¸€å—å†…å­˜ã€‚ ä½¿ç”¨å¼•ç”¨è®¡æ•°æ¥è·Ÿè¸ªå…±äº«å¯¹è±¡çš„å¼•ç”¨æ•°ï¼Œå½“å¼•ç”¨è®¡æ•°ä¸ºé›¶æ—¶ï¼Œè‡ªåŠ¨é‡Šæ”¾å†…å­˜ã€‚ é€‚ç”¨äºå¤šä¸ªæŒ‡é’ˆéœ€è¦è®¿é—®ç›¸åŒå¯¹è±¡çš„æƒ…å†µã€‚ std::unique_ptrï¼š é™åˆ¶åªæœ‰ä¸€ä¸ªæ™ºèƒ½æŒ‡é’ˆå¯ä»¥æ‹¥æœ‰å’Œç®¡ç†ç‰¹å®šå†…å­˜å—ã€‚ é€‚ç”¨äºå•ä¸€æ‰€æœ‰æƒçš„æƒ…å†µï¼Œå¯ä»¥ç¡®ä¿å†…å­˜çš„ç‹¬å æ€§ã€‚ ç§»åŠ¨è¯­ä¹‰å…è®¸å°†æ‰€æœ‰æƒä»ä¸€ä¸ªunique_ptrè½¬ç§»ç»™å¦ä¸€ä¸ªã€‚ æ™ºèƒ½æŒ‡é’ˆçš„ä½œç”¨åŒ…æ‹¬ï¼š è‡ªåŠ¨å†…å­˜ç®¡ç†ï¼š æ™ºèƒ½æŒ‡é’ˆè´Ÿè´£åœ¨å¯¹è±¡ä¸å†éœ€è¦æ—¶é‡Šæ”¾å†…å­˜ï¼Œä»è€Œé¿å…å†…å­˜æ³„æ¼ã€‚ èµ„æºç®¡ç†ï¼š é™¤äº†å†…å­˜ï¼Œæ™ºèƒ½æŒ‡é’ˆè¿˜å¯ä»¥ç”¨äºç®¡ç†å…¶ä»–èµ„æºï¼Œå¦‚æ–‡ä»¶å¥æŸ„å’Œæ•°æ®åº“è¿æ¥ã€‚ é¿å…æ‚¬æŒ‚æŒ‡é’ˆï¼š æ™ºèƒ½æŒ‡é’ˆçš„ç”Ÿå‘½å‘¨æœŸä¸æ‰€ç®¡ç†çš„å¯¹è±¡ç›¸å…³è”ï¼Œå½“å¯¹è±¡ä¸å†å­˜åœ¨æ—¶ï¼Œæ™ºèƒ½æŒ‡é’ˆä¼šè‡ªåŠ¨ç½®ä¸ºnullptrï¼Œé¿å…æ‚¬æŒ‚æŒ‡é’ˆçš„é—®é¢˜ã€‚ ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆå¯ä»¥æé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå®‰å…¨æ€§ï¼Œå‡å°‘æ‰‹åŠ¨å†…å­˜ç®¡ç†çš„é”™è¯¯ã€‚ ä»€ä¹ˆæ˜¯è™šå‡½æ•°ï¼ˆVirtual Functionï¼‰ï¼Ÿå®ƒåœ¨C++ä¸­æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿå›ç­”ï¼š è™šå‡½æ•°æ˜¯C++ä¸­ä¸€ç§ç”¨äºå®ç°å¤šæ€æ€§ï¼ˆpolymorphismï¼‰çš„é‡è¦ç‰¹æ€§ã€‚è™šå‡½æ•°å…è®¸å­ç±»ï¼ˆæ´¾ç”Ÿç±»ï¼‰é‡å†™ï¼ˆè¦†ç›–ï¼‰åŸºç±»ï¼ˆçˆ¶ç±»ï¼‰ä¸­çš„åŒåå‡½æ•°ï¼Œä»è€Œåœ¨è¿è¡Œæ—¶å®ç°åŠ¨æ€ç»‘å®šã€‚ä»¥ä¸‹æ˜¯è™šå‡½æ•°çš„å…³é”®æ¦‚å¿µå’Œä½œç”¨ï¼š è™šå‡½æ•°å£°æ˜ï¼š åœ¨åŸºç±»ä¸­ï¼Œå¯ä»¥é€šè¿‡åœ¨å‡½æ•°å£°æ˜å‰é¢æ·»åŠ virtualå…³é”®å­—æ¥å£°æ˜è™šå‡½æ•°ã€‚å­ç±»å¯ä»¥é€‰æ‹©æ€§åœ°é‡å†™è¿™äº›è™šå‡½æ•°ã€‚ 123456class Base &#123;public: virtual void myFunction() &#123; // åŸºç±»è™šå‡½æ•°çš„å®ç° &#125;&#125;; å‡½æ•°è¦†ç›–ï¼š å­ç±»å¯ä»¥è¦†ç›–åŸºç±»çš„è™šå‡½æ•°ï¼Œæä¾›è‡ªå·±çš„å®ç°ã€‚ 123456class Derived : public Base &#123;public: void myFunction() override &#123; // å­ç±»è¦†ç›–çš„è™šå‡½æ•°å®ç° &#125;&#125;; åŠ¨æ€ç»‘å®šï¼š å½“é€šè¿‡åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨è°ƒç”¨è™šå‡½æ•°æ—¶ï¼Œå®é™…æ‰§è¡Œçš„æ˜¯æ´¾ç”Ÿç±»çš„ç‰ˆæœ¬ã€‚è¿™ä¸ªæœºåˆ¶ç§°ä¸ºåŠ¨æ€ç»‘å®šï¼Œå®ƒä½¿å¤šæ€æ€§æˆä¸ºå¯èƒ½ã€‚ 12Base* ptr = new Derived();ptr-&gt;myFunction(); // è°ƒç”¨Derivedç±»çš„å®ç° è™šå‡½æ•°çš„ä½œç”¨åœ¨äºå®ç°äº†å¤šæ€æ€§ï¼Œå…è®¸é€šè¿‡åŸºç±»æ¥å£æ“ä½œæ´¾ç”Ÿç±»å¯¹è±¡ï¼ŒåŒæ—¶ä¿æŒäº†è¿è¡Œæ—¶çš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ã€‚ ä»€ä¹ˆæ˜¯æ¨¡æ¿å…ƒç¼–ç¨‹ï¼ˆTemplate Metaprogrammingï¼‰ï¼Ÿåœ¨C++ä¸­å¦‚ä½•ä½¿ç”¨æ¨¡æ¿å…ƒç¼–ç¨‹ï¼Ÿå›ç­”ï¼š æ¨¡æ¿å…ƒç¼–ç¨‹æ˜¯ä¸€ç§ä½¿ç”¨C++æ¨¡æ¿ç³»ç»Ÿæ¥è¿›è¡Œç¼–ç¨‹çš„æŠ€æœ¯ï¼Œå®ƒå…è®¸åœ¨ç¼–è¯‘æ—¶æ‰§è¡Œè®¡ç®—å’Œç”Ÿæˆä»£ç ã€‚æ¨¡æ¿å…ƒç¼–ç¨‹çš„æ ¸å¿ƒæ€æƒ³æ˜¯åˆ©ç”¨æ¨¡æ¿ç‰¹åŒ–ã€é€’å½’å’Œç¼–è¯‘æœŸå¸¸é‡ç­‰åŠŸèƒ½æ¥è¿›è¡Œå…ƒç¼–ç¨‹ï¼Œç”Ÿæˆé€šç”¨ã€é«˜æ€§èƒ½çš„ä»£ç ã€‚ æ¨¡æ¿å…ƒç¼–ç¨‹çš„åº”ç”¨åŒ…æ‹¬ï¼š æ³›å‹ç¼–ç¨‹ï¼š é€šè¿‡æ¨¡æ¿ç¼–å†™é€šç”¨çš„æ•°æ®ç»“æ„å’Œç®—æ³•ï¼Œå¯ä»¥åœ¨ç¼–è¯‘æ—¶æ ¹æ®ä¸åŒç±»å‹ç”Ÿæˆé«˜æ•ˆçš„ä»£ç ã€‚ 1234template &lt;typename T&gt;T add(T a, T b) &#123; return a + b;&#125; ç¼–è¯‘æ—¶è®¡ç®—ï¼š æ¨¡æ¿å…ƒç¼–ç¨‹å¯ä»¥åœ¨ç¼–è¯‘æ—¶æ‰§è¡Œè®¡ç®—ï¼Œç”Ÿæˆå¸¸é‡è¡¨è¾¾å¼çš„ç»“æœã€‚ 123456789template &lt;int N&gt;struct Factorial &#123; static const int value = N * Factorial&lt;N - 1&gt;::value;&#125;;template &lt;&gt;struct Factorial&lt;0&gt; &#123; static const int value = 1;&#125;; å…ƒç¼–ç¨‹æŠ€å·§ï¼š æ¨¡æ¿å…ƒç¼–ç¨‹è¿˜å¯ä»¥ç”¨äºå…ƒç¼–ç¨‹æŠ€å·§ï¼Œå¦‚ç±»å‹èƒå–ã€ç±»å‹è½¬æ¢ç­‰ã€‚ 123456789template &lt;typename T&gt;struct TypeTrait &#123; static const bool is_integer = false;&#125;;template &lt;&gt;struct TypeTrait&lt;int&gt; &#123; static const bool is_integer = true;&#125;; æ¨¡æ¿å…ƒç¼–ç¨‹çš„ä¸»è¦ä¼˜åŠ¿åœ¨äºå®ƒåœ¨ç¼–è¯‘æ—¶æ‰§è¡Œï¼Œå› æ­¤å¯ä»¥äº§ç”Ÿé«˜æ€§èƒ½çš„ä»£ç ï¼Œå¹¶åœ¨ç±»å‹å®‰å…¨å’Œæ³›å‹æ€§æ–¹é¢æä¾›äº†å¼ºå¤§çš„å·¥å…·ã€‚ä½†å®ƒä¹Ÿå¯èƒ½å¯¼è‡´å¤æ‚çš„ä»£ç å’Œç¼–è¯‘é”™è¯¯ï¼Œå› æ­¤éœ€è¦è°¨æ…ä½¿ç”¨ã€‚ ä»€ä¹ˆæ˜¯ç§»åŠ¨è¯­ä¹‰ï¼ˆMove Semanticsï¼‰ï¼Ÿå®ƒåœ¨C++ä¸­æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿå›ç­”ï¼š ç§»åŠ¨è¯­ä¹‰æ˜¯C++11å¼•å…¥çš„ä¸€ä¸ªç‰¹æ€§ï¼Œæ—¨åœ¨æé«˜ç¨‹åºæ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†å¤§å‹æ•°æ®ç»“æ„æ—¶ã€‚ç§»åŠ¨è¯­ä¹‰å…è®¸å°†èµ„æºçš„æ‰€æœ‰æƒä»ä¸€ä¸ªå¯¹è±¡è½¬ç§»åˆ°å¦ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œæ— éœ€å¤åˆ¶æ•°æ®ã€‚è¿™ä¸»è¦é€šè¿‡ç§»åŠ¨æ„é€ å‡½æ•°å’Œç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦æ¥å®ç°ã€‚ ç§»åŠ¨è¯­ä¹‰çš„å…³é”®æ¦‚å¿µåŒ…æ‹¬ï¼š ç§»åŠ¨æ„é€ å‡½æ•°ï¼ˆMove Constructorï¼‰ï¼š ç§»åŠ¨æ„é€ å‡½æ•°å…è®¸ä»ä¸€ä¸ªä¸´æ—¶å¯¹è±¡æˆ–å³å€¼å¼•ç”¨ï¼ˆé€šå¸¸æ˜¯å³å°†é”€æ¯çš„å¯¹è±¡ï¼‰ä¸­â€œçªƒå–â€èµ„æºï¼Œè€Œä¸æ˜¯å¤åˆ¶èµ„æºã€‚ 123456class MyString &#123;public: MyString(MyString&amp;&amp; other) &#123; // ç§»åŠ¨æ„é€ å‡½æ•°ï¼Œçªƒå–èµ„æº &#125;&#125;; ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ï¼ˆMove Assignment Operatorï¼‰ï¼š ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦å…è®¸å°†èµ„æºä»ä¸€ä¸ªå¯¹è±¡è½¬ç§»åˆ°å¦ä¸€ä¸ªå¯¹è±¡ï¼Œä»¥æ›¿ä»£ä¼ ç»Ÿçš„å¤åˆ¶èµ‹å€¼ã€‚ 1234MyString&amp; operator=(MyString&amp;&amp; other) &#123; // ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ï¼Œçªƒå–èµ„æº return *this;&#125; ç§»åŠ¨è¯­ä¹‰çš„ä¸»è¦ä½œç”¨åœ¨äºï¼š æé«˜æ€§èƒ½ï¼šé¿å…ä¸å¿…è¦çš„æ•°æ®å¤åˆ¶ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†å¤§å‹æ•°æ®ç»“æ„æ—¶å¯ä»¥æ˜¾è‘—æé«˜æ€§èƒ½ã€‚ æ”¯æŒç§»åŠ¨è¯­ä¹‰çš„æ ‡å‡†åº“å®¹å™¨å’Œç®—æ³•ï¼šæ ‡å‡†åº“å®¹å™¨ï¼ˆå¦‚std::vectorï¼‰å’Œç®—æ³•ï¼ˆå¦‚std::sortï¼‰éƒ½å·²ç»æ›´æ–°ï¼Œä»¥æ”¯æŒç§»åŠ¨è¯­ä¹‰ï¼Œå…è®¸æ›´é«˜æ•ˆåœ°ç®¡ç†å’Œæ“ä½œå¯¹è±¡ã€‚ æ”¯æŒç§»åŠ¨è¯­ä¹‰çš„ç”¨æˆ·å®šä¹‰ç±»å‹ï¼šç”¨æˆ·å¯ä»¥ä¸ºè‡ªå·±çš„ç±»å‹å®šä¹‰ç§»åŠ¨æ„é€ å‡½æ•°å’Œç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ï¼Œä»¥å……åˆ†åˆ©ç”¨ç§»åŠ¨è¯­ä¹‰ã€‚ ç§»åŠ¨è¯­ä¹‰æ˜¯C++ä¸­çš„é‡è¦ç‰¹æ€§ï¼Œå¯ç”¨äºæé«˜æ€§èƒ½å’Œèµ„æºç®¡ç†çš„æ•ˆç‡ã€‚ ä»€ä¹ˆæ˜¯RAIIï¼ˆèµ„æºè·å–å³åˆå§‹åŒ–ï¼‰ï¼Ÿå®ƒåœ¨C++ä¸­æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿå›ç­”ï¼š RAIIï¼ˆResource Acquisition Is Initializationï¼‰æ˜¯C++ä¸­ä¸€ç§ç¼–ç¨‹æƒ¯ä¾‹ï¼Œå¼ºè°ƒåœ¨å¯¹è±¡çš„æ„é€ æœŸé—´è·å–èµ„æºï¼Œå¹¶åœ¨å¯¹è±¡çš„ææ„æœŸé—´é‡Šæ”¾èµ„æºã€‚RAIIçš„æ ¸å¿ƒæ€æƒ³æ˜¯åˆ©ç”¨æ ˆä¸Šå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸæ¥ç®¡ç†èµ„æºï¼Œä»¥ç¡®ä¿èµ„æºåœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½ä¼šå¾—åˆ°æ­£ç¡®é‡Šæ”¾ï¼Œ é¿å…èµ„æºæ³„æ¼ã€‚ RAIIçš„åº”ç”¨åŒ…æ‹¬ï¼š å†…å­˜ç®¡ç†ï¼š ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆï¼ˆå¦‚std::shared_ptrå’Œstd::unique_ptrï¼‰æ¥ç®¡ç†åŠ¨æ€åˆ†é…çš„å†…å­˜ï¼Œç¡®ä¿åœ¨å¯¹è±¡ç”Ÿå‘½å‘¨æœŸç»“æŸæ—¶è‡ªåŠ¨é‡Šæ”¾å†…å­˜ã€‚ 1234&#123; std::shared_ptr&lt;int&gt; ptr = std::make_shared&lt;int&gt;(42); // è·å–å†…å­˜èµ„æº // åœ¨æ­¤ä½œç”¨åŸŸç»“æŸæ—¶ï¼Œèµ„æºä¼šè‡ªåŠ¨é‡Šæ”¾&#125; æ–‡ä»¶å’Œèµ„æºç®¡ç†ï¼š ä½¿ç”¨RAIIå¯¹è±¡ç®¡ç†æ–‡ä»¶å¥æŸ„ã€æ•°æ®åº“è¿æ¥ã€é”ç­‰èµ„æºï¼Œä»¥ç¡®ä¿åœ¨ç¦»å¼€ä½œç”¨åŸŸæ—¶èµ„æºä¼šè¢«æ­£ç¡®é‡Šæ”¾ã€‚ 1234&#123; std::ofstream file(&quot;example.txt&quot;); // æ‰“å¼€æ–‡ä»¶ // åœ¨æ­¤ä½œç”¨åŸŸç»“æŸæ—¶ï¼Œæ–‡ä»¶ä¼šè‡ªåŠ¨å…³é—­&#125; å¼‚å¸¸å®‰å…¨æ€§ï¼š RAIIå¯ä»¥ç¡®ä¿åœ¨å‘ç”Ÿå¼‚å¸¸æ—¶èµ„æºä¼šè¢«æ­£ç¡®é‡Šæ”¾ï¼Œä»è€Œä¿è¯ç¨‹åºçš„å¼‚å¸¸å®‰å…¨æ€§ã€‚ RAIIæ˜¯C++ä¸­è®¸å¤šæ ‡å‡†åº“å’Œç”¨æˆ·å®šä¹‰ç±»å‹çš„è®¾è®¡åŸåˆ™ï¼Œå®ƒç®€åŒ–äº†èµ„æºç®¡ç†å’Œæé«˜äº†ç¨‹åºçš„å¯ç»´æŠ¤æ€§å’Œå¯é æ€§ã€‚ ä»€ä¹ˆæ˜¯STLï¼ˆStandard Template Libraryï¼‰ï¼Ÿå®ƒåŒ…æ‹¬å“ªäº›å¸¸è§ç»„ä»¶ï¼Ÿå›ç­”ï¼š STLï¼ˆStandard Template Libraryï¼‰æ˜¯C++æ ‡å‡†åº“çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒæä¾›äº†ä¸€ç»„é€šç”¨çš„æ¨¡æ¿ç±»å’Œå‡½æ•°ï¼Œç”¨äºå®ç°å¸¸è§çš„æ•°æ®ç»“æ„å’Œç®—æ³•ã€‚STLçš„ç›®æ ‡æ˜¯æä¾›é«˜æ€§èƒ½ã€å¯é‡ç”¨çš„ç»„ä»¶ï¼Œä»¥ä¾¿å¼€å‘äººå‘˜å¯ä»¥æ›´å®¹æ˜“åœ°ç¼–å†™é«˜æ•ˆä¸”å¯ç»´æŠ¤çš„C++ä»£ç ã€‚ STLåŒ…æ‹¬ä»¥ä¸‹å¸¸è§ç»„ä»¶ï¼š å®¹å™¨ï¼ˆContainersï¼‰ï¼š å®¹å™¨æ˜¯ç”¨äºå­˜å‚¨å’Œç»„ç»‡æ•°æ®çš„æ•°æ®ç»“æ„ï¼ŒSTLæä¾›äº†å¤šç§å®¹å™¨ï¼ŒåŒ…æ‹¬vectorã€listã€mapã€setç­‰ã€‚æ¯ç§å®¹å™¨éƒ½æœ‰ç‰¹å®šçš„ç”¨é€”å’Œæ€§èƒ½ç‰¹æ€§ã€‚ ç®—æ³•ï¼ˆAlgorithmsï¼‰ï¼š STLæä¾›äº†ä¸€ç»„å¼ºå¤§çš„ç®—æ³•ï¼Œç”¨äºåœ¨å®¹å™¨ä¸Šæ‰§è¡Œå„ç§æ“ä½œï¼Œå¦‚æ’åºã€æŸ¥æ‰¾ã€éå†ç­‰ã€‚è¿™äº›ç®—æ³•å¯ä»¥ä¸ä¸åŒç±»å‹çš„å®¹å™¨ä¸€èµ·ä½¿ç”¨ï¼Œæä¾›äº†é€šç”¨çš„æ¥å£ã€‚ è¿­ä»£å™¨ï¼ˆIteratorsï¼‰ï¼š è¿­ä»£å™¨ç”¨äºéå†å®¹å™¨ä¸­çš„å…ƒç´ ï¼ŒSTLå®šä¹‰äº†å¤šç§ç±»å‹çš„è¿­ä»£å™¨ï¼ŒåŒ…æ‹¬è¾“å…¥è¿­ä»£å™¨ã€è¾“å‡ºè¿­ä»£å™¨ã€æ­£å‘è¿­ä»£å™¨ã€åŒå‘è¿­ä»£å™¨å’Œéšæœºè®¿é—®è¿­ä»£å™¨ã€‚ å‡½æ•°å¯¹è±¡ï¼ˆFunction Objectsï¼‰ï¼š å‡½æ•°å¯¹è±¡æ˜¯å¯è°ƒç”¨å¯¹è±¡ï¼Œå®ƒä»¬å¯ä»¥åƒå‡½æ•°ä¸€æ ·è¢«è°ƒç”¨ï¼Œå¹¶ä¸”å¯ä»¥åœ¨STLç®—æ³•ä¸­ä½¿ç”¨ã€‚STLæä¾›äº†ä¸€äº›å†…ç½®çš„å‡½æ•°å¯¹è±¡ï¼Œä¹Ÿå…è®¸ç”¨æˆ·å®šä¹‰è‡ªå·±çš„å‡½æ•°å¯¹è±¡ã€‚ é€‚é…å™¨ï¼ˆAdaptersï¼‰ï¼š é€‚é…å™¨ç”¨äºä¿®æ”¹æˆ–æ‰©å±•å®¹å™¨å’Œè¿­ä»£å™¨çš„è¡Œä¸ºï¼Œå¦‚stackã€queueã€priority_queueç­‰ã€‚ STLçš„è®¾è®¡åŸåˆ™åŒ…æ‹¬é€šç”¨æ€§ã€é«˜æ€§èƒ½å’Œå¯å¤ç”¨æ€§ï¼Œä½¿å…¶æˆä¸ºC++ç¼–ç¨‹ä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥å¤§å¤§ç®€åŒ–æ•°æ®ç»“æ„å’Œç®—æ³•çš„å®ç°ã€‚ ä»€ä¹ˆæ˜¯å¤šæ€æ€§ï¼ˆPolymorphismï¼‰ï¼Ÿåœ¨C++ä¸­å¦‚ä½•å®ç°å¤šæ€æ€§ï¼Ÿå›ç­”ï¼š å¤šæ€æ€§æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ ¸å¿ƒæ¦‚å¿µä¹‹ä¸€ï¼Œå®ƒå…è®¸ä¸åŒç±»çš„å¯¹è±¡å¯¹ç›¸åŒçš„æ¶ˆæ¯ä½œå‡ºä¸åŒçš„å“åº”ã€‚å¤šæ€æ€§æœ‰ä¸¤ç§ä¸»è¦å½¢å¼ï¼šç¼–è¯‘æ—¶å¤šæ€æ€§å’Œè¿è¡Œæ—¶å¤šæ€æ€§ã€‚ åœ¨C++ä¸­ï¼Œè¿è¡Œæ—¶å¤šæ€æ€§é€šå¸¸é€šè¿‡è™šå‡½æ•°å’ŒåŸºç±»æŒ‡é’ˆ&#x2F;å¼•ç”¨å®ç°ã€‚ä»¥ä¸‹æ˜¯å¤šæ€æ€§çš„å…³é”®æ¦‚å¿µå’Œå®ç°æ–¹å¼ï¼š è™šå‡½æ•°ï¼ˆVirtual Functionï¼‰ï¼š è™šå‡½æ•°æ˜¯åœ¨åŸºç±»ä¸­å£°æ˜çš„å‡½æ•°ï¼Œå¯ä»¥åœ¨æ´¾ç”Ÿç±»ä¸­è¢«é‡å†™ï¼ˆè¦†ç›–ï¼‰ã€‚é€šè¿‡åœ¨å‡½æ•°å£°æ˜å‰é¢åŠ ä¸Švirtualå…³é”®å­—æ¥å®šä¹‰è™šå‡½æ•°ã€‚ 123456class Base &#123;public: virtual void myFunction() &#123; // åŸºç±»è™šå‡½æ•°çš„å®ç° &#125;&#125;; å‡½æ•°é‡å†™ï¼ˆFunction Overridingï¼‰ï¼š æ´¾ç”Ÿç±»å¯ä»¥é‡å†™åŸºç±»ä¸­çš„è™šå‡½æ•°ï¼Œæä¾›è‡ªå·±çš„å®ç°ã€‚ 123456class Derived : public Base &#123;public: void myFunction() override &#123; // æ´¾ç”Ÿç±»è¦†ç›–çš„è™šå‡½æ•°å®ç° &#125;&#125;; åŸºç±»æŒ‡é’ˆå’Œå¼•ç”¨ï¼š åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨å¯ä»¥æŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡ï¼Œå¹¶åœ¨è¿è¡Œæ—¶è°ƒç”¨æ´¾ç”Ÿç±»çš„è™šå‡½æ•°ã€‚ 12Base* ptr = new Derived();ptr-&gt;myFunction(); // è°ƒç”¨Derivedç±»çš„å®ç° å¤šæ€æ€§çš„ä¼˜ç‚¹åŒ…æ‹¬ä»£ç çš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ï¼Œå› ä¸ºå¯ä»¥æ ¹æ®éœ€è¦è½»æ¾æ·»åŠ æ–°çš„æ´¾ç”Ÿç±»ï¼Œè€Œæ— éœ€ä¿®æ”¹ç°æœ‰ä»£ç ã€‚å¤šæ€æ€§è¿˜æ”¯æŒé¢å‘æ¥å£ç¼–ç¨‹ï¼Œå…è®¸æ ¹æ®å¯¹è±¡çš„è¡Œä¸ºè€Œä¸æ˜¯å…·ä½“ç±»å‹è¿›è¡Œç¼–ç¨‹ã€‚ ä»€ä¹ˆæ˜¯å•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰ï¼Ÿåœ¨C++ä¸­å¦‚ä½•å®ç°å•ä¾‹æ¨¡å¼ï¼Ÿå›ç­”ï¼š å•ä¾‹æ¨¡å¼æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œå®ƒç¡®ä¿ç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ç§å…¨å±€è®¿é—®è¯¥å®ä¾‹çš„æ–¹å¼ã€‚å•ä¾‹æ¨¡å¼é€šå¸¸ç”¨äºé‚£äº›éœ€è¦åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­å…±äº«ä¸€ä¸ªèµ„æºæˆ–çŠ¶æ€çš„æƒ…å†µã€‚åœ¨C++ä¸­ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å®ç°å•ä¾‹æ¨¡å¼ï¼š 1234567891011121314151617181920212223class Singleton &#123;public: // è·å–å•ä¾‹å®ä¾‹çš„é™æ€æ–¹æ³• static Singleton&amp; getInstance() &#123; static Singleton instance; // åœ¨é¦–æ¬¡è°ƒç”¨æ—¶åˆ›å»ºå•ä¾‹ return instance; &#125; // é˜»æ­¢æ‹·è´æ„é€ å’Œèµ‹å€¼æ“ä½œ Singleton(Singleton const&amp;) = delete; void operator=(Singleton const&amp;) = delete; // å…¶ä»–æˆå‘˜å‡½æ•° void someFunction() &#123; // å•ä¾‹çš„æˆå‘˜å‡½æ•°å®ç° &#125;private: // ç§æœ‰æ„é€ å‡½æ•°ï¼Œé˜²æ­¢å¤–éƒ¨åˆ›å»ºå®ä¾‹ Singleton() &#123; // åˆå§‹åŒ–å•ä¾‹ &#125;&#125;; ä¸Šè¿°ä»£ç ä¸­ï¼ŒSingletonç±»çš„æ„é€ å‡½æ•°æ˜¯ç§æœ‰çš„ï¼Œåªèƒ½åœ¨ç±»çš„å†…éƒ¨è®¿é—®ï¼Œä»è€Œé˜²æ­¢å¤–éƒ¨ä»£ç åˆ›å»ºå¤šä¸ªå®ä¾‹ã€‚getInstanceæ–¹æ³•è¿”å›å•ä¾‹çš„å¼•ç”¨ï¼Œé¦–æ¬¡è°ƒç”¨æ—¶åˆ›å»ºå®ä¾‹ã€‚ æ­¤å¤–ï¼Œé€šè¿‡åˆ é™¤æ‹·è´æ„é€ å‡½æ•°å’Œèµ‹å€¼æ“ä½œç¬¦ï¼Œå¯ä»¥é˜²æ­¢é€šè¿‡å¤åˆ¶åˆ›å»ºå¤šä¸ªå®ä¾‹ã€‚ å•ä¾‹æ¨¡å¼ç¡®ä¿åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå› æ­¤å¯ä»¥å…¨å±€å…±äº«çŠ¶æ€å’Œèµ„æºï¼Œä½†ä¹Ÿè¦å°å¿ƒå…¨å±€çŠ¶æ€å¯èƒ½å¯¼è‡´çš„é—®é¢˜ã€‚ ä»€ä¹ˆæ˜¯æ¨¡æ¿ï¼ˆTemplateï¼‰ï¼Ÿåœ¨C++ä¸­å¦‚ä½•ä½¿ç”¨æ¨¡æ¿ï¼Ÿå›ç­”ï¼š æ¨¡æ¿æ˜¯C++ä¸­çš„ä¸€ç§æœºåˆ¶ï¼Œå…è®¸ç¼–å†™é€šç”¨ä»£ç ï¼Œä¸å—ç‰¹å®šæ•°æ®ç±»å‹çš„é™åˆ¶ã€‚æ¨¡æ¿ä½¿å¾—å¯ä»¥ç¼–å†™å…·æœ‰ç±»å‹å‚æ•°çš„å‡½æ•°å’Œç±»ï¼Œè¿™äº›ç±»å‹å‚æ•°å¯ä»¥åœ¨ä½¿ç”¨æ¨¡æ¿æ—¶è¿›è¡Œæ›¿æ¢ã€‚ åœ¨C++ä¸­ï¼Œæœ‰ä¸¤ç§ä¸»è¦ç±»å‹çš„æ¨¡æ¿ï¼š å‡½æ•°æ¨¡æ¿ï¼ˆFunction Templateï¼‰ï¼š å‡½æ•°æ¨¡æ¿å…è®¸ç¼–å†™å¯ä»¥å¤„ç†ä¸åŒç±»å‹çš„å‡½æ•°ï¼Œé€šè¿‡å°†ç±»å‹å‚æ•°ä½œä¸ºå‡½æ•°å‚æ•°è¿›è¡Œé€šç”¨åŒ–ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªé€šç”¨çš„maxå‡½æ•°æ¨¡æ¿ï¼š 1234template &lt;typename T&gt;T max(T a, T b) &#123; return a &gt; b ? a : b;&#125; ç±»æ¨¡æ¿ï¼ˆClass Templateï¼‰ï¼š ç±»æ¨¡æ¿å…è®¸ç¼–å†™å¯ä»¥å¤„ç†ä¸åŒç±»å‹çš„ç±»ï¼Œé€šè¿‡å°†ç±»å‹å‚æ•°ä½œä¸ºç±»æˆå‘˜æˆ–æˆå‘˜å‡½æ•°å‚æ•°è¿›è¡Œé€šç”¨åŒ–ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªé€šç”¨çš„å †æ ˆï¼ˆStackï¼‰ç±»æ¨¡æ¿ï¼š 12345678template &lt;typename T&gt;class Stack &#123;public: // ç±»æ¨¡æ¿æˆå‘˜å’Œæˆå‘˜å‡½æ•° void push(T item); T pop(); // ...&#125;; ä½¿ç”¨æ¨¡æ¿æ—¶ï¼Œå¯ä»¥æä¾›å…·ä½“çš„ç±»å‹å‚æ•°ï¼Œä»è€Œç”Ÿæˆç‰¹å®šç±»å‹çš„ä»£ç å®ä¾‹ã€‚ä¾‹å¦‚ï¼š 1234567int main() &#123; int a = 5, b = 10; int result = max(a, b); // ä½¿ç”¨å‡½æ•°æ¨¡æ¿ Stack&lt;double&gt; doubleStack; // ä½¿ç”¨ç±»æ¨¡æ¿ // ... return 0;&#125; æ¨¡æ¿ä½¿å¾—å¯ä»¥ç¼–å†™é«˜åº¦ é€šç”¨å’Œå¯é‡ç”¨çš„ä»£ç ï¼Œé€‚ç”¨äºå„ç§æ•°æ®ç±»å‹ã€‚å®ƒåœ¨STLï¼ˆæ ‡å‡†æ¨¡æ¿åº“ï¼‰ä¸­å¹¿æ³›åº”ç”¨ï¼Œç”¨äºå®ç°é€šç”¨æ•°æ®ç»“æ„å’Œç®—æ³•ã€‚ ä»€ä¹ˆæ˜¯ææ„å‡½æ•°ï¼ˆDestructorï¼‰ï¼Ÿä¸ºä»€ä¹ˆå®ƒé‡è¦ï¼Ÿå›ç­”ï¼š ææ„å‡½æ•°æ˜¯C++ä¸­çš„ä¸€ä¸ªç‰¹æ®Šæˆå‘˜å‡½æ•°ï¼Œç”¨äºå¯¹è±¡çš„æ¸…ç†å’Œèµ„æºé‡Šæ”¾ã€‚ææ„å‡½æ•°çš„åç§°ä¸ç±»åç›¸åŒï¼Œå‰é¢åŠ ä¸Š~ç¬¦å·ã€‚ææ„å‡½æ•°åœ¨ä»¥ä¸‹æƒ…å†µä¸‹é‡è¦ï¼š èµ„æºé‡Šæ”¾ï¼š ææ„å‡½æ•°ç”¨äºé‡Šæ”¾å¯¹è±¡åœ¨å…¶ç”Ÿå‘½å‘¨æœŸä¸­åˆ†é…çš„èµ„æºï¼Œå¦‚å†…å­˜ã€æ–‡ä»¶å¥æŸ„ã€æ•°æ®åº“è¿æ¥ç­‰ã€‚è¿™æœ‰åŠ©äºé¿å…èµ„æºæ³„æ¼ã€‚ å¯¹è±¡ç”Ÿå‘½å‘¨æœŸæ§åˆ¶ï¼š ææ„å‡½æ•°ç¡®å®šäº†å¯¹è±¡åœ¨é”€æ¯æ—¶åº”é‡‡å–çš„è¡ŒåŠ¨ï¼Œä¾‹å¦‚å…³é—­æ–‡ä»¶æˆ–é‡Šæ”¾é”å®šã€‚ å¼‚å¸¸å¤„ç†ï¼š ææ„å‡½æ•°å¯ä»¥ç”¨äºå¤„ç†å¯¹è±¡ç”Ÿå‘½å‘¨æœŸä¸­çš„å¼‚å¸¸æƒ…å†µï¼Œç¡®ä¿èµ„æºåœ¨å¼‚å¸¸æ—¶å¾—åˆ°é‡Šæ”¾ã€‚ å­ç±»ææ„å‡½æ•°ï¼š åœ¨ç»§æ‰¿ä¸­ï¼ŒåŸºç±»çš„ææ„å‡½æ•°é€šå¸¸æ˜¯è™šçš„ï¼Œä»¥ç¡®ä¿åœ¨é”€æ¯å­ç±»å¯¹è±¡æ—¶æ­£ç¡®è°ƒç”¨åŸºç±»ææ„å‡½æ•°ï¼Œä»è€Œå®ç°å¤šæ€çš„ææ„ã€‚ ç¤ºä¾‹ï¼š 123456789class MyClass &#123;public: MyClass() &#123; // æ„é€ å‡½æ•°çš„ä»£ç  &#125; ~MyClass() &#123; // ææ„å‡½æ•°çš„ä»£ç ï¼Œç”¨äºé‡Šæ”¾èµ„æº &#125;&#125;; ç¡®ä¿åœ¨éœ€è¦æ—¶æ­£ç¡®å®ç°ææ„å‡½æ•°ï¼Œä»¥é¿å…èµ„æºæ³„æ¼å’Œä¸ç¨³å®šçš„ç¨‹åºè¡Œä¸ºã€‚ ä»€ä¹ˆæ˜¯é¢„å¤„ç†å™¨ï¼ˆPreprocessorï¼‰ï¼Ÿå®ƒåœ¨C&#x2F;C++ä¸­æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿå›ç­”ï¼š é¢„å¤„ç†å™¨æ˜¯Cå’ŒC++ç¼–è¯‘è¿‡ç¨‹ä¸­çš„ä¸€ä¸ªç‹¬ç«‹é˜¶æ®µï¼Œç”¨äºåœ¨å®é™…ç¼–è¯‘ä¹‹å‰å¤„ç†æºä»£ç ã€‚é¢„å¤„ç†å™¨çš„ä¸»è¦ä½œç”¨åŒ…æ‹¬ï¼š å®æ›¿æ¢ï¼š é¢„å¤„ç†å™¨å¯ä»¥æ›¿æ¢æºä»£ç ä¸­çš„å®å®šä¹‰ï¼Œä¾‹å¦‚ä½¿ç”¨#defineå®šä¹‰çš„å®å¸¸é‡æˆ–å®å‡½æ•°ã€‚ æ–‡ä»¶åŒ…å«ï¼š é¢„å¤„ç†å™¨ä½¿ç”¨#includeæŒ‡ä»¤å°†å…¶ä»–æ–‡ä»¶çš„å†…å®¹æ’å…¥æºæ–‡ä»¶ä¸­ï¼Œå…è®¸ä»£ç çš„æ¨¡å—åŒ–ç»„ç»‡ã€‚ æ¡ä»¶ç¼–è¯‘ï¼š é¢„å¤„ç†å™¨ä½¿ç”¨æ¡ä»¶ç¼–è¯‘æŒ‡ä»¤ï¼Œå¦‚#ifdefå’Œ#ifndefï¼Œå¯ä»¥æ ¹æ®æ¡ä»¶é€‰æ‹©æ€§åœ°åŒ…å«æˆ–æ’é™¤ä»£ç å—ã€‚ æ³¨é‡Šåˆ é™¤ï¼š é¢„å¤„ç†å™¨åˆ é™¤æºä»£ç ä¸­çš„æ³¨é‡Šï¼Œä»¥å‡å°ç¼–è¯‘åçš„å¯æ‰§è¡Œæ–‡ä»¶çš„å¤§å°ã€‚ å®å±•å¼€ï¼š é¢„å¤„ç†å™¨å±•å¼€å®ï¼Œå°†å®è°ƒç”¨æ›¿æ¢ä¸ºå®å®šä¹‰çš„å®é™…å†…å®¹ã€‚ ç¤ºä¾‹ï¼š 1234567891011#define MAX_VALUE 100 // å®å®šä¹‰#include &lt;iostream&gt; // æ–‡ä»¶åŒ…å«#ifdef DEBUG // è°ƒè¯•ä»£ç #endifint main() &#123; int value = MAX_VALUE; // å®æ›¿æ¢ return 0;&#125; é¢„å¤„ç†å™¨é€šè¿‡ç”Ÿæˆç»è¿‡å¤„ç†çš„æºä»£ç ï¼Œç„¶åå°†å…¶ä¼ é€’ç»™ç¼–è¯‘å™¨è¿›è¡Œç¼–è¯‘ï¼Œèµ·åˆ°äº†ä»£ç é¢„å¤„ç†å’Œæ¡ä»¶ç¼–è¯‘çš„ä½œç”¨ã€‚ ä»€ä¹ˆæ˜¯é™æ€å¤šæ€æ€§ï¼ˆStatic Polymorphismï¼‰å’ŒåŠ¨æ€å¤šæ€æ€§ï¼ˆDynamic Polymorphismï¼‰ï¼Ÿå®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå›ç­”ï¼š é™æ€å¤šæ€æ€§ï¼ˆStatic Polymorphismï¼‰ï¼š é™æ€å¤šæ€æ€§ä¹Ÿç§°ä¸ºç¼–è¯‘æ—¶å¤šæ€æ€§ï¼Œæ˜¯åœ¨ç¼–è¯‘æ—¶ç¡®å®šå‡½æ•°è°ƒç”¨çš„æ–¹å¼ã€‚å®ƒé€šå¸¸ä¸å‡½æ•°é‡è½½ï¼ˆFunction Overloadingï¼‰ç›¸å…³ï¼Œå…¶ä¸­ç¼–è¯‘å™¨æ ¹æ®å‡½æ•°åç§°ã€å‚æ•°ç±»å‹å’Œä¸ªæ•°æ¥é€‰æ‹©æ­£ç¡®çš„å‡½æ•°ç‰ˆæœ¬ã€‚é™æ€å¤šæ€æ€§çš„ä¼˜ç‚¹åœ¨äºæ•ˆç‡é«˜ï¼Œå› ä¸ºå‡½æ•°è°ƒç”¨åœ¨ç¼–è¯‘æ—¶å°±å·²ç»è§£æï¼Œä¸éœ€è¦é¢å¤–çš„è¿è¡Œæ—¶å¼€é”€ã€‚ 1234567891011121314151617void print(int x) &#123; std::cout &lt;&lt; &quot;Printing integer: &quot; &lt;&lt; x &lt;&lt; std::endl;&#125;void print(double y) &#123; std::cout &lt;&lt; &quot;Printing double: &quot; &lt;&lt; y &lt;&lt; std::endl;&#125;int main() &#123; int a = 42; double b = 3.14; print(a); // ç¼–è¯‘æ—¶ç¡®å®šè°ƒç”¨ print(int) print(b); // ç¼–è¯‘æ—¶ç¡®å®šè°ƒç”¨ print(double) return 0;&#125; åŠ¨æ€å¤šæ€æ€§ï¼ˆDynamic Polymorphismï¼‰ï¼š åŠ¨æ€å¤šæ€æ€§ä¹Ÿç§°ä¸ºè¿è¡Œæ—¶å¤šæ€æ€§ï¼Œæ˜¯åœ¨è¿è¡Œæ—¶æ ¹æ®å¯¹è±¡çš„å®é™…ç±»å‹æ¥ç¡®å®šå‡½æ•°è°ƒç”¨çš„æ–¹å¼ã€‚å®ƒé€šå¸¸ä¸è™šå‡½æ•°ï¼ˆVirtual Functionï¼‰å’Œç»§æ‰¿ç›¸å…³ã€‚é€šè¿‡è™šå‡½æ•°ï¼ŒåŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨å¯ä»¥è°ƒç”¨æ´¾ç”Ÿç±»çš„å‡½æ•°ï¼Œè€Œå…·ä½“çš„å‡½æ•°å®ç°æ˜¯åœ¨è¿è¡Œæ—¶æ ¹æ®å¯¹è±¡çš„ç±»å‹æ¥é€‰æ‹©çš„ã€‚åŠ¨æ€å¤šæ€æ€§çš„ä¼˜ç‚¹åœ¨äºå®ƒæ”¯æŒå¤šæ€è¡Œä¸ºï¼Œå…è®¸åŸºç±»æ¥å£å¤„ç†æ´¾ç”Ÿç±»å¯¹è±¡ã€‚ 123456789101112131415161718192021class Shape &#123;public: virtual void draw() &#123; std::cout &lt;&lt; &quot;Drawing a shape&quot; &lt;&lt; std::endl; &#125;&#125;;class Circle : public Shape &#123;public: void draw() override &#123; std::cout &lt;&lt; &quot;Drawing a circle&quot; &lt;&lt; std::endl; &#125;&#125;;int main() &#123; Shape* shapePtr = new Circle(); shapePtr-&gt;draw(); // è¿è¡Œæ—¶ç¡®å®šè°ƒç”¨ Circle çš„ draw å‡½æ•° delete shapePtr; return 0;&#125; åŒºåˆ«ï¼š é™æ€å¤šæ€æ€§åœ¨ç¼–è¯‘æ—¶ç¡®å®šå‡½æ•°è°ƒç”¨ï¼Œæ•ˆç‡é«˜ï¼Œä½†ä¸æ”¯æŒå¤šæ€è¡Œä¸ºã€‚ åŠ¨æ€å¤šæ€æ€§åœ¨è¿è¡Œæ—¶ç¡®å®šå‡½æ•°è°ƒç”¨ï¼Œæ”¯æŒå¤šæ€è¡Œä¸ºï¼Œä½†å¯èƒ½å¸¦æ¥ä¸€äº›è¿è¡Œæ—¶å¼€é”€ã€‚ é€šå¸¸ï¼ŒC++å¼€å‘ä¸­æ ¹æ®éœ€è¦é€‰æ‹©ä½¿ç”¨é™æ€å¤šæ€æ€§æˆ–åŠ¨æ€å¤šæ€æ€§ï¼Œä»¥æ»¡è¶³ç‰¹å®šçš„è®¾è®¡éœ€æ±‚ã€‚ ä»€ä¹ˆæ˜¯æ™ºèƒ½æŒ‡é’ˆï¼ˆSmart Pointerï¼‰ï¼Ÿåœ¨C++ä¸­æœ‰å“ªäº›æ™ºèƒ½æŒ‡é’ˆï¼Ÿå›ç­”ï¼š æ™ºèƒ½æŒ‡é’ˆæ˜¯C++ä¸­çš„ä¸€ç§æ•°æ®ç±»å‹ï¼Œç”¨äºç®¡ç†åŠ¨æ€åˆ†é…çš„å†…å­˜ï¼Œä»¥å¸®åŠ©é¿å…å†…å­˜æ³„æ¼å’Œæ‚¬æŒ‚æŒ‡é’ˆç­‰é—®é¢˜ã€‚C++æ ‡å‡†åº“æä¾›äº†ä»¥ä¸‹å‡ ç§æ™ºèƒ½æŒ‡é’ˆï¼š std::unique_ptrï¼š std::unique_ptrè¡¨ç¤ºç‹¬å æ‰€æœ‰æƒçš„æ™ºèƒ½æŒ‡é’ˆï¼Œç¡®ä¿åªæœ‰ä¸€ä¸ªæŒ‡é’ˆå¯ä»¥æ‹¥æœ‰å’Œç®¡ç†ç‰¹å®šå†…å­˜å—ã€‚ ç§»åŠ¨è¯­ä¹‰å…è®¸å°†æ‰€æœ‰æƒä»ä¸€ä¸ªunique_ptrè½¬ç§»ç»™å¦ä¸€ä¸ªã€‚ é€šå¸¸ç”¨äºå®ç°ç‹¬å æ‹¥æœ‰çš„æƒ…å†µã€‚ 1std::unique_ptr&lt;int&gt; ptr = std::make_unique&lt;int&gt;(42); std::shared_ptrï¼š std::shared_ptrè¡¨ç¤ºå¤šä¸ªæ™ºèƒ½æŒ‡é’ˆå¯ä»¥å…±äº«ç›¸åŒå†…å­˜å—çš„æ‰€æœ‰æƒã€‚ ä½¿ç”¨å¼•ç”¨è®¡æ•°æ¥è·Ÿè¸ªå…±äº«å¯¹è±¡çš„å¼•ç”¨æ•°ï¼Œå½“å¼•ç”¨è®¡æ•°ä¸ºé›¶æ—¶ï¼Œè‡ªåŠ¨é‡Šæ”¾å†…å­˜ã€‚ é€‚ç”¨äºå¤šä¸ªæŒ‡é’ˆéœ€è¦è®¿é—®ç›¸åŒå¯¹è±¡çš„æƒ…å†µã€‚ 12std::shared_ptr&lt;int&gt; ptr1 = std::make_shared&lt;int&gt;(42);std::shared_ptr&lt;int&gt; ptr2 = ptr1; // å…±äº«æ‰€æœ‰æƒ std::weak_ptrï¼š std::weak_ptræ˜¯ä¸€ç§å¼±å¼•ç”¨æ™ºèƒ½æŒ‡é’ˆï¼Œå®ƒå…è®¸å…±äº«å¯¹è±¡çš„å¼•ç”¨ä½†ä¸å¢åŠ å¼•ç”¨è®¡æ•°ã€‚ ä¸»è¦ç”¨äºè§£å†³std::shared_ptrçš„å¾ªç¯å¼•ç”¨é—®é¢˜ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼ã€‚ å¯ä»¥é€šè¿‡std::shared_ptrè½¬æ¢ä¸ºstd::weak_ptrã€‚ 12std::shared_ptr&lt;int&gt; shared = std::make_shared&lt;int&gt;(42);std::weak_ptr&lt;int&gt; weak = shared; æ™ºèƒ½æŒ‡é’ˆçš„ä¸»è¦ä½œç”¨åœ¨äºè‡ªåŠ¨ç®¡ç†åŠ¨æ€åˆ†é…çš„å†…å­˜ï¼Œé¿å…æ‰‹åŠ¨è°ƒç”¨newå’Œdeleteï¼Œä»è€Œæé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå®‰å…¨æ€§ã€‚ ä»€ä¹ˆæ˜¯å¼‚å¸¸å¤„ç†ï¼ˆException Handlingï¼‰ï¼Ÿåœ¨C++ä¸­å¦‚ä½•è¿›è¡Œå¼‚å¸¸å¤„ç†ï¼Ÿå›ç­”ï¼š å¼‚å¸¸å¤„ç†æ˜¯ä¸€ç§ç¨‹åºè®¾è®¡å’Œé”™è¯¯å¤„ç†çš„æ–¹æ³•ï¼Œç”¨äºå¤„ç†ç¨‹åºåœ¨è¿è¡Œæ—¶é‡åˆ°çš„å¼‚å¸¸æƒ…å†µã€‚å¼‚å¸¸æ˜¯æŒ‡ä¸å¯»å¸¸çš„ã€ä¸æ­£å¸¸çš„æƒ…å†µï¼Œå¯èƒ½å¯¼è‡´ç¨‹åºä¸­æ–­æˆ–ä¸æ­£å¸¸è¡Œä¸ºã€‚åœ¨C++ä¸­ï¼Œå¼‚å¸¸å¤„ç†å¯ä»¥é€šè¿‡ä»¥ä¸‹å…³é”®å­—å’Œæœºåˆ¶æ¥å®ç°ï¼š tryï¼š ä½¿ç”¨tryå…³é”®å­—æ¥å®šä¹‰ä¸€ä¸ªåŒ…å«å¯èƒ½å¼•å‘å¼‚å¸¸çš„ä»£ç å—ã€‚ 123456789try &#123; // å¯èƒ½å¼•å‘å¼‚å¸¸çš„ä»£ç &#125; catch (ExceptionType1 e1) &#123; // å¤„ç† ExceptionType1 å¼‚å¸¸çš„ä»£ç &#125; catch (ExceptionType2 e2) &#123; // å¤„ç† ExceptionType2 å¼‚å¸¸çš„ä»£ç &#125; catch (...) &#123; // å¤„ç†å…¶ä»–å¼‚å¸¸çš„ä»£ç &#125; throwï¼š ä½¿ç”¨throwå…³é”®å­—æ¥å¼•å‘å¼‚å¸¸ã€‚å¯ä»¥å¼•å‘å„ç§ç±»å‹çš„å¼‚å¸¸ï¼ŒåŒ…æ‹¬å†…ç½®ç±»å‹ã€è‡ªå®šä¹‰ç±»å‹ã€æ ‡å‡†åº“å¼‚å¸¸ç­‰ã€‚ 123if (error_condition) &#123; throw MyException(&quot;An error occurred&quot;);&#125; catchï¼š ä½¿ç”¨catchå…³é”®å­—æ¥æ•è·å¹¶å¤„ç†ç‰¹å®šç±»å‹çš„å¼‚å¸¸ã€‚ä¸€ä¸ªtryå—å¯ä»¥æœ‰å¤šä¸ªcatchå—ï¼Œç”¨äºå¤„ç†ä¸åŒç±»å‹çš„å¼‚å¸¸ã€‚ è‡ªå®šä¹‰å¼‚å¸¸ç±»å‹ï¼š å¯ä»¥è‡ªå®šä¹‰å¼‚å¸¸ç±»å‹ï¼Œé€šè¿‡ç»§æ‰¿è‡ªstd::exceptionæˆ–å…¶æ´¾ç”Ÿç±»ï¼Œæ¥è¡¨ç¤ºç‰¹å®šçš„å¼‚å¸¸æƒ…å†µï¼Œå¹¶æä¾›å¼‚å¸¸ä¿¡æ¯ã€‚ 1234567891011class MyException : public std::exception &#123;public: MyException(const char* message) : message_(message) &#123;&#125; const char* what() const noexcept override &#123; return message_.c_str(); &#125;private: std::string message_;&#125;; std::exceptionï¼š std::exceptionæ˜¯C++æ ‡å‡†åº“ä¸­å®šä¹‰çš„ åŸºæœ¬å¼‚å¸¸ç±»ï¼Œå¯ä»¥ç”¨ä½œè‡ªå®šä¹‰å¼‚å¸¸ç±»å‹çš„åŸºç±»ã€‚ å¼‚å¸¸å¤„ç†å…è®¸ç¨‹åºåœ¨é‡åˆ°å¼‚å¸¸æƒ…å†µæ—¶ä»å½“å‰æ‰§è¡Œè·¯å¾„è·³è½¬åˆ°å¼‚å¸¸å¤„ç†ä»£ç ï¼Œä»è€Œå®ç°é”™è¯¯å¤„ç†å’Œç¨‹åºç¨³å®šæ€§ã€‚åˆç†çš„å¼‚å¸¸å¤„ç†å¯ä»¥ç¡®ä¿ç¨‹åºåœ¨å‘ç”Ÿå¼‚å¸¸æ—¶ä¸ä¼šå´©æºƒï¼Œå¹¶æä¾›æœ‰å…³å¼‚å¸¸åŸå› çš„ä¿¡æ¯ï¼Œä»¥ä¾¿è¿›è¡Œæ•…éšœæ’é™¤å’Œä¿®å¤ã€‚ ä»€ä¹ˆæ˜¯é™æ€å¤šæ€æ€§ï¼ˆStatic Polymorphismï¼‰å’ŒåŠ¨æ€å¤šæ€æ€§ï¼ˆDynamic Polymorphismï¼‰ï¼Ÿå®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå›ç­”ï¼š é™æ€å¤šæ€æ€§ï¼ˆStatic Polymorphismï¼‰ï¼š é™æ€å¤šæ€æ€§ä¹Ÿç§°ä¸ºç¼–è¯‘æ—¶å¤šæ€æ€§ï¼Œæ˜¯åœ¨ç¼–è¯‘æ—¶ç¡®å®šå‡½æ•°è°ƒç”¨çš„æ–¹å¼ã€‚å®ƒé€šå¸¸ä¸å‡½æ•°é‡è½½ï¼ˆFunction Overloadingï¼‰ç›¸å…³ï¼Œå…¶ä¸­ç¼–è¯‘å™¨æ ¹æ®å‡½æ•°åç§°ã€å‚æ•°ç±»å‹å’Œä¸ªæ•°æ¥é€‰æ‹©æ­£ç¡®çš„å‡½æ•°ç‰ˆæœ¬ã€‚é™æ€å¤šæ€æ€§çš„ä¼˜ç‚¹åœ¨äºæ•ˆç‡é«˜ï¼Œå› ä¸ºå‡½æ•°è°ƒç”¨åœ¨ç¼–è¯‘æ—¶å°±å·²ç»è§£æï¼Œä¸éœ€è¦é¢å¤–çš„è¿è¡Œæ—¶å¼€é”€ã€‚ 1234567891011121314151617void print(int x) &#123; std::cout &lt;&lt; &quot;Printing integer: &quot; &lt;&lt; x &lt;&lt; std::endl;&#125;void print(double y) &#123; std::cout &lt;&lt; &quot;Printing double: &quot; &lt;&lt; y &lt;&lt; std::endl;&#125;int main() &#123; int a = 42; double b = 3.14; print(a); // ç¼–è¯‘æ—¶ç¡®å®šè°ƒç”¨ print(int) print(b); // ç¼–è¯‘æ—¶ç¡®å®šè°ƒç”¨ print(double) return 0;&#125; åŠ¨æ€å¤šæ€æ€§ï¼ˆDynamic Polymorphismï¼‰ï¼š åŠ¨æ€å¤šæ€æ€§ä¹Ÿç§°ä¸ºè¿è¡Œæ—¶å¤šæ€æ€§ï¼Œæ˜¯åœ¨è¿è¡Œæ—¶æ ¹æ®å¯¹è±¡çš„å®é™…ç±»å‹æ¥ç¡®å®šå‡½æ•°è°ƒç”¨çš„æ–¹å¼ã€‚å®ƒé€šå¸¸ä¸è™šå‡½æ•°ï¼ˆVirtual Functionï¼‰å’Œç»§æ‰¿ç›¸å…³ã€‚é€šè¿‡è™šå‡½æ•°ï¼ŒåŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨å¯ä»¥è°ƒç”¨æ´¾ç”Ÿç±»çš„å‡½æ•°ï¼Œè€Œå…·ä½“çš„å‡½æ•°å®ç°æ˜¯åœ¨è¿è¡Œæ—¶æ ¹æ®å¯¹è±¡çš„ç±»å‹æ¥é€‰æ‹©çš„ã€‚åŠ¨æ€å¤šæ€æ€§çš„ä¼˜ç‚¹åœ¨äºå®ƒæ”¯æŒå¤šæ€è¡Œä¸ºï¼Œå…è®¸åŸºç±»æ¥å£å¤„ç†æ´¾ç”Ÿç±»å¯¹è±¡ã€‚ 123456789101112131415161718192021class Shape &#123;public: virtual void draw() &#123; std::cout &lt;&lt; &quot;Drawing a shape&quot; &lt;&lt; std::endl; &#125;&#125;;class Circle : public Shape &#123;public: void draw() override &#123; std::cout &lt;&lt; &quot;Drawing a circle&quot; &lt;&lt; std::endl; &#125;&#125;;int main() &#123; Shape* shapePtr = new Circle(); shapePtr-&gt;draw(); // è¿è¡Œæ—¶ç¡®å®šè°ƒç”¨ Circle çš„ draw å‡½æ•° delete shapePtr; return 0;&#125; åŒºåˆ«ï¼š é™æ€å¤šæ€æ€§åœ¨ç¼–è¯‘æ—¶ç¡®å®šå‡½æ•°è°ƒç”¨ï¼Œæ•ˆç‡é«˜ï¼Œä½†ä¸æ”¯æŒå¤šæ€è¡Œä¸ºã€‚ åŠ¨æ€å¤šæ€æ€§åœ¨è¿è¡Œæ—¶ç¡®å®šå‡½æ•°è°ƒç”¨ï¼Œæ”¯æŒå¤šæ€è¡Œä¸ºï¼Œä½†å¯èƒ½å¸¦æ¥ä¸€äº›è¿è¡Œæ—¶å¼€é”€ã€‚ é€šå¸¸ï¼ŒC++å¼€å‘ä¸­æ ¹æ®éœ€è¦é€‰æ‹©ä½¿ç”¨é™æ€å¤šæ€æ€§æˆ–åŠ¨æ€å¤šæ€æ€§ï¼Œä»¥æ»¡è¶³ç‰¹å®šçš„è®¾è®¡éœ€æ±‚ã€‚ æˆ‘æ˜ç™½äº†ï¼Œè®©æˆ‘ä¸ºæ‚¨æä¾›ä¸€äº›æ–°çš„é—®é¢˜å’Œç­”æ¡ˆï¼Œä»¥é¿å…é‡å¤ï¼š ä»€ä¹ˆæ˜¯C++ä¸­çš„å¼•ç”¨ï¼ˆReferenceï¼‰ï¼Ÿå›ç­”ï¼š å¼•ç”¨æ˜¯C++ä¸­çš„ä¸€ç§æ•°æ®ç±»å‹ï¼Œå®ƒå…è®¸ä¸€ä¸ªå˜é‡å¼•ç”¨ï¼ˆåˆ«åï¼‰å¦ä¸€ä¸ªå˜é‡ã€‚å¼•ç”¨æä¾›äº†å¯¹å˜é‡çš„é—´æ¥è®¿é—®æ–¹å¼ï¼Œä½¿å¾—å¯ä»¥é€šè¿‡ä¸åŒçš„åå­—è®¿é—®ç›¸åŒçš„å†…å­˜ä½ç½®ã€‚å¼•ç”¨çš„ä¸»è¦ç‰¹ç‚¹åŒ…æ‹¬ï¼š å¼•ç”¨å¿…é¡»åœ¨å®šä¹‰æ—¶åˆå§‹åŒ–ï¼Œå¹¶ä¸”ä¸€æ—¦åˆå§‹åŒ–ï¼Œå°±ä¸èƒ½å†å¼•ç”¨å…¶ä»–å¯¹è±¡ã€‚ å¼•ç”¨åœ¨ä½¿ç”¨æ—¶ä¸éœ€è¦è§£å¼•ç”¨æ“ä½œï¼ˆä½¿ç”¨*ç¬¦å·ï¼‰ï¼Œå› ä¸ºå®ƒä»¬æœ¬èº«å°±æ˜¯åˆ«åã€‚ å¼•ç”¨é€šå¸¸ç”¨äºå‡½æ•°å‚æ•°ï¼Œä»¥ä¾¿é€šè¿‡å¼•ç”¨ä¼ é€’å‚æ•°ï¼Œä»è€Œé¿å…å¤åˆ¶å¤§é‡æ•°æ®ã€‚ ç¤ºä¾‹ï¼š 1234int x = 42;int&amp; ref = x; // å¼•ç”¨ xï¼Œref æˆä¸º x çš„åˆ«åref = 10; // ä¿®æ”¹ x çš„å€¼ï¼Œref ä¹Ÿä¼šè·Ÿç€å˜æˆ 10 å¼•ç”¨åœ¨C++ä¸­å¹¿æ³›ç”¨äºå‡½æ•°å‚æ•°ä¼ é€’ã€æ“ä½œç¬¦é‡è½½å’ŒSTLä¸­ï¼Œä»¥æä¾›æ›´é«˜æ•ˆçš„ä»£ç å’Œæ›´è‡ªç„¶çš„è¯­æ³•ã€‚ ä»€ä¹ˆæ˜¯C++ä¸­çš„ææ„å‡½æ•°ï¼ˆDestructorï¼‰ï¼Ÿå›ç­”ï¼š ææ„å‡½æ•°æ˜¯C++ä¸­çš„ä¸€ç§ç‰¹æ®Šæˆå‘˜å‡½æ•°ï¼Œå®ƒç”¨äºåœ¨å¯¹è±¡ç”Ÿå‘½å‘¨æœŸç»“æŸæ—¶æ‰§è¡Œå¿…è¦çš„æ¸…ç†å’Œèµ„æºé‡Šæ”¾æ“ä½œã€‚ææ„å‡½æ•°çš„åç§°ä¸ç±»åç›¸åŒï¼Œä½†å‰é¢åŠ ä¸Šæ³¢æµªå·ï¼ˆ~ï¼‰ã€‚ ææ„å‡½æ•°çš„ä¸»è¦ä½œç”¨åŒ…æ‹¬ï¼š é‡Šæ”¾å¯¹è±¡åœ¨å…¶ç”Ÿå‘½å‘¨æœŸä¸­åˆ†é…çš„èµ„æºï¼Œå¦‚å†…å­˜ã€æ–‡ä»¶å¥æŸ„ã€æ•°æ®åº“è¿æ¥ç­‰ã€‚ æ§åˆ¶å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œç¡®ä¿åœ¨å¯¹è±¡é”€æ¯æ—¶æ‰§è¡Œå¿…è¦çš„æ“ä½œã€‚ å¤„ç†å¯¹è±¡ç”Ÿå‘½å‘¨æœŸä¸­çš„å¼‚å¸¸æƒ…å†µï¼Œä»¥ç¡®ä¿èµ„æºä¸ä¼šæ³„æ¼ã€‚ ç¤ºä¾‹ï¼š 12345678910111213141516171819class FileHandler &#123;public: FileHandler(const std::string&amp; filename) &#123; file = std::fopen(filename.c_str(), &quot;r&quot;); if (!file) &#123; throw std::runtime_error(&quot;Failed to open file&quot;); &#125; &#125; ~FileHandler() &#123; if (file) &#123; std::fclose(file); &#125; &#125; // å…¶ä»–æˆå‘˜å‡½æ•°ï¼Œç”¨äºæ–‡ä»¶æ“ä½œprivate: std::FILE* file;&#125;; åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼ŒFileHandlerç±»çš„ææ„å‡½æ•°ç”¨äºå…³é—­æ–‡ä»¶å¥æŸ„ï¼Œç¡®ä¿æ–‡ä»¶åœ¨å¯¹è±¡ç”Ÿå‘½å‘¨æœŸç»“æŸæ—¶è¢«æ­£ç¡®å…³é—­ã€‚ C++ä¸­çš„å¤šé‡ç»§æ‰¿æ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰ä»€ä¹ˆç‰¹ç‚¹å’Œæ½œåœ¨çš„é—®é¢˜ï¼Ÿå›ç­”ï¼š å¤šé‡ç»§æ‰¿æ˜¯C++ä¸­çš„ä¸€ç§é¢å‘å¯¹è±¡ç¼–ç¨‹æ¦‚å¿µï¼Œå®ƒå…è®¸ä¸€ä¸ªç±»ä»å¤šä¸ªåŸºç±»ç»§æ‰¿å±æ€§å’Œè¡Œä¸ºã€‚å¤šé‡ç»§æ‰¿çš„ç‰¹ç‚¹å’Œæ½œåœ¨é—®é¢˜åŒ…æ‹¬ï¼š ç‰¹ç‚¹ï¼š ä¸€ä¸ªæ´¾ç”Ÿç±»å¯ä»¥ç»§æ‰¿å¤šä¸ªåŸºç±»çš„æˆå‘˜ï¼ŒåŒ…æ‹¬æ•°æ®æˆå‘˜å’Œæˆå‘˜å‡½æ•°ã€‚ å¯ä»¥å®ç°ä¸åŒç±»ä¹‹é—´çš„å¤æ‚å…³ç³»ï¼Œä¾‹å¦‚æ··åˆå¤šä¸ªä¸åŒç±»å‹çš„åŠŸèƒ½ã€‚ æ½œåœ¨é—®é¢˜ï¼š è±å½¢ç»§æ‰¿é—®é¢˜ï¼ˆDiamond Inheritance Problemï¼‰ï¼š å½“ä¸€ä¸ªç±»é€šè¿‡å¤šæ¡è·¯å¾„ç»§æ‰¿åŒä¸€ä¸ªåŸºç±»æ—¶ï¼Œå¯èƒ½å¯¼è‡´åŒä¸€åŸºç±»çš„å¤šä¸ªå®ä¾‹è¢«åˆ›å»ºï¼Œå¼•å‘äºŒä¹‰æ€§ã€‚ å‡½æ•°åå†²çªï¼š å¦‚æœå¤šä¸ªåŸºç±»å…·æœ‰ç›¸åŒåç§°çš„æˆå‘˜å‡½æ•°ï¼Œå¯èƒ½å¯¼è‡´å‡½æ•°åå†²çªï¼Œéœ€è¦ä½¿ç”¨ä½œç”¨åŸŸè§£æè¿ç®—ç¬¦ï¼ˆ::ï¼‰æ¥è§£å†³ã€‚ å¤æ‚æ€§å¢åŠ ï¼š å¤šé‡ç»§æ‰¿ä¼šå¢åŠ ç±»ä¹‹é—´çš„å¤æ‚æ€§ï¼Œä½¿å¾—ä»£ç æ›´éš¾ç†è§£å’Œç»´æŠ¤ã€‚ è§£å†³å¤šé‡ç»§æ‰¿é—®é¢˜çš„æ–¹æ³•åŒ…æ‹¬è™šç»§æ‰¿ï¼ˆä½¿ç”¨virtualç»§æ‰¿æ¥è§£å†³è±å½¢ç»§æ‰¿é—®é¢˜ï¼‰ã€ä½œç”¨åŸŸè§£æè¿ç®—ç¬¦ï¼ˆ::ï¼‰ã€ä»¥åŠåˆç†çš„è®¾è®¡ï¼Œé¿å…æ·±å±‚æ¬¡å’Œå¤æ‚çš„ç»§æ‰¿ç»“æ„ã€‚ å¤šé‡ç»§æ‰¿åº”æ…é‡ä½¿ç”¨ï¼Œé€šå¸¸åœ¨éœ€è¦æ—¶æ‰ä½¿ç”¨ï¼Œä»¥é¿å…å¼•å‘æ½œåœ¨é—®é¢˜ã€‚","categories":[{"name":"ç¼–ç¨‹","slug":"ç¼–ç¨‹","permalink":"http://ycx81.github.io/categories/%E7%BC%96%E7%A8%8B/"}],"tags":[{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://ycx81.github.io/tags/%E9%9D%A2%E8%AF%95/"},{"name":"C/C++","slug":"C-C","permalink":"http://ycx81.github.io/tags/C-C/"},{"name":"çŸ¥è¯†æ‰‹å†Œ","slug":"çŸ¥è¯†æ‰‹å†Œ","permalink":"http://ycx81.github.io/tags/%E7%9F%A5%E8%AF%86%E6%89%8B%E5%86%8C/"}]},{"title":"hexoå¸¸ç”¨å‘½ä»¤","slug":"hexoå¸¸ç”¨å‘½ä»¤","date":"2023-01-23T05:42:39.000Z","updated":"2023-08-23T11:10:19.099Z","comments":true,"path":"2023/01/23/hexoå¸¸ç”¨å‘½ä»¤/","link":"","permalink":"http://ycx81.github.io/2023/01/23/hexo%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/","excerpt":"Hexo å¸¸ç”¨å‘½ä»¤æ‰‹å†Œæœ¬åŠŸèƒ½æ‰‹å†Œæä¾›äº†Hexoé™æ€ç½‘ç«™ç”Ÿæˆå™¨çš„å¸¸ç”¨å‘½ä»¤åˆ—è¡¨ï¼Œä»¥åŠå®ƒä»¬çš„åŠŸèƒ½å’Œç”¨æ³•è¯´æ˜ã€‚","text":"Hexo å¸¸ç”¨å‘½ä»¤æ‰‹å†Œæœ¬åŠŸèƒ½æ‰‹å†Œæä¾›äº†Hexoé™æ€ç½‘ç«™ç”Ÿæˆå™¨çš„å¸¸ç”¨å‘½ä»¤åˆ—è¡¨ï¼Œä»¥åŠå®ƒä»¬çš„åŠŸèƒ½å’Œç”¨æ³•è¯´æ˜ã€‚ 1. hexo init &lt;folder&gt;åŠŸèƒ½ï¼š åˆå§‹åŒ–æ–°çš„Hexoç«™ç‚¹ã€‚ ç”¨æ³•ï¼š åˆå§‹åŒ–Hexoç«™ç‚¹æ—¶ï¼Œéœ€æŒ‡å®šä¸€ä¸ªæ–‡ä»¶å¤¹åç§°ä½œä¸ºå‚æ•°ã€‚æ­¤å‘½ä»¤ä¼šåœ¨æŒ‡å®šæ–‡ä»¶å¤¹å†…ç”Ÿæˆç«™ç‚¹æ–‡ä»¶ç»“æ„å’Œé…ç½®ã€‚ 2. hexo new &lt;title&gt;åŠŸèƒ½ï¼š åˆ›å»ºæ–°çš„åšå®¢æ–‡ç« ã€‚ ç”¨æ³•ï¼š ä½¿ç”¨æ­¤å‘½ä»¤åˆ›å»ºåšå®¢æ–‡ç« ï¼Œéœ€æä¾›æ–‡ç« æ ‡é¢˜ä½œä¸ºå‚æ•°ã€‚Hexoä¼šè‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„Markdownæ–‡ä»¶ï¼Œä¾›ç¼–å†™æ–‡ç« å†…å®¹ã€‚ 3. hexo generate æˆ– hexo gåŠŸèƒ½ï¼š ç”Ÿæˆé™æ€ç½‘ç«™æ–‡ä»¶ã€‚ ç”¨æ³•ï¼š ä½¿ç”¨æ­¤å‘½ä»¤å°†sourceæ–‡ä»¶å¤¹ä¸­çš„Markdownæ–‡ä»¶è½¬åŒ–æˆHTMLï¼Œç”Ÿæˆé™æ€é¡µé¢ã€‚ç”Ÿæˆçš„æ–‡ä»¶å­˜å‚¨åœ¨publicæ–‡ä»¶å¤¹ä¸­ã€‚ 4. hexo server æˆ– hexo såŠŸèƒ½ï¼š å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ï¼Œä»¥ä¾¿æœ¬åœ°é¢„è§ˆåšå®¢ã€‚ ç”¨æ³•ï¼š é»˜è®¤æƒ…å†µä¸‹ï¼Œæ­¤å‘½ä»¤åœ¨æœ¬åœ°å¯åŠ¨æœåŠ¡å™¨ï¼Œå¯é€šè¿‡æµè§ˆå™¨è®¿é—®http://localhost:4000æŸ¥çœ‹ç”Ÿæˆçš„ç½‘ç«™ã€‚ 5. hexo deployåŠŸèƒ½ï¼š éƒ¨ç½²ç”Ÿæˆçš„é™æ€ç½‘ç«™åˆ°æ‰˜ç®¡å¹³å°ã€‚ ç”¨æ³•ï¼š åœ¨Hexoé…ç½®æ–‡ä»¶ä¸­è®¾ç½®éƒ¨ç½²ä¿¡æ¯ï¼Œä½¿ç”¨æ­¤å‘½ä»¤å°†ç½‘ç«™å†…å®¹ä¸Šä¼ è‡³æ‰˜ç®¡å¹³å°ï¼Œå¦‚GitHub Pagesæˆ–è‡ªå®šä¹‰æœåŠ¡å™¨ã€‚ 6. hexo cleanåŠŸèƒ½ï¼š æ¸…é™¤Hexoç”Ÿæˆçš„ä¸´æ—¶æ–‡ä»¶å’Œç¼“å­˜ã€‚ ç”¨æ³•ï¼š é€šå¸¸ç”¨äºè§£å†³é—®é¢˜æˆ–é‡æ–°ç”Ÿæˆæ•´ä¸ªç½‘ç«™ã€‚æ¸…ç†åï¼Œå¯å†æ¬¡è¿è¡Œhexo generateé‡æ–°ç”Ÿæˆç½‘ç«™ã€‚ 7. hexo new page &lt;name&gt;åŠŸèƒ½ï¼š åˆ›å»ºæ–°çš„é¡µé¢ã€‚ ç”¨æ³•ï¼š ç±»ä¼¼äºåˆ›å»ºæ–‡ç« ï¼Œä½†é¡µé¢é€šå¸¸ç”¨äºé™æ€å†…å®¹ï¼Œå¦‚â€œå…³äºâ€æˆ–â€œè”ç³»â€é¡µé¢ã€‚å®ƒä»¬å­˜å‚¨åœ¨source/_pagesç›®å½•ä¸­ã€‚ 8. hexo liståŠŸèƒ½ï¼š åˆ—å‡ºæ‰€æœ‰å·²åˆ›å»ºçš„æ–‡ç« å’Œé¡µé¢ã€‚ ç”¨æ³•ï¼š å¯æŸ¥çœ‹å½“å‰ç«™ç‚¹çš„æ‰€æœ‰å†…å®¹ã€‚ 9. hexo publish &lt;title&gt;åŠŸèƒ½ï¼š å‘å¸ƒä¸€ç¯‡è‰ç¨¿ã€‚ ç”¨æ³•ï¼š æä¾›æ–‡ç« æ ‡é¢˜ä½œä¸ºå‚æ•°ï¼ŒHexoå°†è‰ç¨¿æ–‡ä»¶ä»source/_draftsç§»åŠ¨åˆ°source/_postsç›®å½•ï¼Œå‘å¸ƒæ–‡ç« ã€‚ 10. hexo draft &lt;title&gt;åŠŸèƒ½ï¼š åˆ›å»ºæ–°çš„è‰ç¨¿æ–‡ç« ã€‚ ç”¨æ³•ï¼š è‰ç¨¿æ˜¯æœªå‘å¸ƒçš„æ–‡ç« ï¼Œå­˜å‚¨åœ¨source/_draftsç›®å½•ä¸­ï¼Œä»¥åå¯ä½¿ç”¨hexo publishå‘½ä»¤å‘å¸ƒã€‚ 11. hexo new draft &lt;title&gt;åŠŸèƒ½ï¼š åˆ›å»ºå¹¶åŒæ—¶å‘å¸ƒä¸€ç¯‡è‰ç¨¿æ–‡ç« ã€‚ ç”¨æ³•ï¼š ä¸ä¸Šè¿°å‘½ä»¤ä¸åŒï¼Œæ­¤å‘½ä»¤åˆ›å»ºæ–‡ç« åå°†å…¶ç§»åŠ¨åˆ°source/_postsç›®å½•ï¼Œå³å‘å¸ƒçŠ¶æ€ã€‚ 12. hexo server -d æˆ– hexo s -dåŠŸèƒ½ï¼š å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨å¹¶ç›‘å¬æ–‡ä»¶å˜åŒ–ã€‚ ç”¨æ³•ï¼š ç¼–è¾‘åšå®¢å†…å®¹æ—¶ï¼ŒHexoæ£€æµ‹æ–‡ä»¶æ›´æ”¹ï¼Œå¹¶è‡ªåŠ¨é‡æ–°ç”Ÿæˆç½‘ç«™ï¼Œå¯å®æ—¶é¢„è§ˆä¿®æ”¹ã€‚ 13. hexo generate â€“watch æˆ– hexo g â€“watchåŠŸèƒ½ï¼š ç”Ÿæˆé™æ€ç½‘ç«™å¹¶ç›‘å¬æ–‡ä»¶å˜åŒ–ã€‚ ç”¨æ³•ï¼š ç±»ä¼¼äºä¸Šä¸€ä¸ªå‘½ä»¤ï¼Œä½†åªç”Ÿæˆç½‘ç«™ï¼Œä¸å¯åŠ¨æœåŠ¡å™¨ã€‚é€‚ç”¨äºç”Ÿæˆåæ‰‹åŠ¨åˆ·æ–°é¢„è§ˆçš„æƒ…å†µã€‚ è¿™äº›æ˜¯Hexoé™æ€ç½‘ç«™ç”Ÿæˆå™¨çš„å¸¸ç”¨å‘½ä»¤ï¼Œç”¨äºåˆ›å»ºã€ç®¡ç†å’Œéƒ¨ç½²é™æ€åšå®¢ç½‘ç«™ã€‚æ ¹æ®éœ€æ±‚ï¼Œå¯è¿›ä¸€æ­¥æ¢ç´¢Hexoæ–‡æ¡£ä»¥è·å–å…³äºé…ç½®å’Œé«˜çº§å‘½ä»¤çš„ä¿¡æ¯ã€‚","categories":[{"name":"ç¼–ç¨‹","slug":"ç¼–ç¨‹","permalink":"http://ycx81.github.io/categories/%E7%BC%96%E7%A8%8B/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://ycx81.github.io/tags/hexo/"},{"name":"çŸ¥è¯†æ‰‹å†Œ","slug":"çŸ¥è¯†æ‰‹å†Œ","permalink":"http://ycx81.github.io/tags/%E7%9F%A5%E8%AF%86%E6%89%8B%E5%86%8C/"}]},{"title":"ä¸ºä»€ä¹ˆæ˜¯127.0.0.1","slug":"ä¸ºä»€ä¹ˆæ˜¯127-0-0-1","date":"2022-10-12T10:56:20.000Z","updated":"2023-08-23T07:59:43.519Z","comments":true,"path":"2022/10/12/ä¸ºä»€ä¹ˆæ˜¯127-0-0-1/","link":"","permalink":"http://ycx81.github.io/2022/10/12/%E4%B8%BA%E4%BB%80%E4%B9%88%E6%98%AF127-0-0-1/","excerpt":"0x00 å‰è¨€ åˆšå­¦ä¹ ç½‘ç»œæ—¶ï¼Œæ€»çœ‹åˆ°ä¹¦ä¸Šé…ç½®çš„ipåœ°å€æ€»æ˜¯127.0.0.1ï¼Œé‚æŸ¥æ‰¾ç½‘ç»œè¿›è¡Œæ‰«ç›²ã€‚","text":"0x00 å‰è¨€ åˆšå­¦ä¹ ç½‘ç»œæ—¶ï¼Œæ€»çœ‹åˆ°ä¹¦ä¸Šé…ç½®çš„ipåœ°å€æ€»æ˜¯127.0.0.1ï¼Œé‚æŸ¥æ‰¾ç½‘ç»œè¿›è¡Œæ‰«ç›²ã€‚ IPåœ°å€ 127.0.0.1 æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„åœ°å€ï¼Œé€šå¸¸è¢«ç§°ä¸ºâ€æœ¬åœ°ä¸»æœºâ€æˆ–â€å›ç¯åœ°å€â€ï¼ˆLoopback Addressï¼‰ã€‚è¿™ä¸ªåœ°å€æ˜¯ä¸ºäº†åœ¨è®¡ç®—æœºä¸Šè¿›è¡Œè‡ªæˆ‘æµ‹è¯•å’Œæœ¬åœ°é€šä¿¡è€Œè®¾è®¡çš„ï¼Œå…·æœ‰ä»¥ä¸‹é‡è¦ç‰¹ç‚¹ï¼š åªåœ¨æœ¬åœ°ä½¿ç”¨ï¼šIPåœ°å€ 127.0.0.1 åªèƒ½åœ¨åŒä¸€å°è®¡ç®—æœºå†…éƒ¨ä½¿ç”¨ï¼Œä¸èƒ½è¢«ç”¨äºè·¨è®¡ç®—æœºçš„ç½‘ç»œé€šä¿¡ã€‚è¿™æ˜¯å› ä¸ºå®ƒè¢«ç”¨äºå›é€åˆ°è®¡ç®—æœºæœ¬èº«çš„ç½‘ç»œæ•°æ®ã€‚ è‡ªæˆ‘æµ‹è¯•ï¼šå¼€å‘äººå‘˜å¯ä»¥åœ¨æœ¬åœ°ä¸»æœºä¸Šæµ‹è¯•ç½‘ç»œåº”ç”¨ç¨‹åºï¼Œè€Œæ— éœ€è¿æ¥åˆ°å¤–éƒ¨ç½‘ç»œæˆ–ä¾èµ–å¤–éƒ¨æœåŠ¡å™¨ã€‚è¿™æœ‰åŠ©äºç¡®ä¿åº”ç”¨ç¨‹åºåœ¨æ²¡æœ‰ç½‘ç»œè¿æ¥çš„æƒ…å†µä¸‹ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œã€‚ æ— éœ€ç½‘ç»œç¡¬ä»¶ï¼šä½¿ç”¨å›ç¯åœ°å€ï¼Œæ‚¨å¯ä»¥åœ¨æ²¡æœ‰ç½‘ç»œè¿æ¥çš„æƒ…å†µä¸‹æµ‹è¯•åº”ç”¨ç¨‹åºï¼Œå› ä¸ºæ•°æ®ä¸ä¼šç¦»å¼€è®¡ç®—æœºã€‚ ç®€å•çš„é…ç½®ï¼šå›ç¯åœ°å€ä¸éœ€è¦ä»»ä½•ç‰¹æ®Šé…ç½®æˆ–ç¡¬ä»¶æ”¯æŒã€‚å®ƒé€šå¸¸åœ¨ä»»ä½•æ”¯æŒTCP&#x2F;IPåè®®çš„è®¡ç®—æœºä¸Šéƒ½å¯ç”¨ã€‚ æ ‡å‡†åŒ–ï¼šå›ç¯åœ°å€ 127.0.0.1 æ˜¯ä¸€ä¸ªæ ‡å‡†åŒ–çš„IPv4å›ç¯åœ°å€ã€‚IPv6çš„å›ç¯åœ°å€æ˜¯ â€œ::1â€ã€‚ ç”¨é€”å¹¿æ³›ï¼šå›ç¯åœ°å€åœ¨æœ¬åœ°å¼€å‘ã€æµ‹è¯•ç½‘ç»œåº”ç”¨ç¨‹åºã€è¯Šæ–­ç½‘ç»œé—®é¢˜ç­‰æ–¹é¢è¢«å¹¿æ³›ä½¿ç”¨ã€‚å®ƒä¹Ÿåœ¨ç³»ç»Ÿä¸­çš„æŸäº›æœ¬åœ°æœåŠ¡ä¸­ä½¿ç”¨ï¼Œä»¥ä¾¿è¿™äº›æœåŠ¡å¯ä»¥åœ¨ä¸æ¶‰åŠç½‘ç»œçš„æƒ…å†µä¸‹ä¸å…¶ä»–åº”ç”¨ç¨‹åºé€šä¿¡ã€‚ æ€»ä¹‹ï¼ŒIPåœ°å€ 127.0.0.1 æ˜¯ä¸ºäº†åœ¨è®¡ç®—æœºä¸Šè¿›è¡Œæœ¬åœ°æµ‹è¯•å’Œé€šä¿¡è€Œè®¾è®¡çš„ï¼Œå®ƒå…è®¸åº”ç”¨ç¨‹åºåœ¨ä¸éœ€è¦å¤–éƒ¨ç½‘ç»œè¿æ¥çš„æƒ…å†µä¸‹è¿›è¡Œè‡ªæˆ‘æµ‹è¯•å’Œå¼€å‘ã€‚å®ƒåœ¨å¼€å‘å’Œè°ƒè¯•ç½‘ç»œåº”ç”¨ç¨‹åºæ—¶éå¸¸æœ‰ç”¨ã€‚","categories":[{"name":"ç¼–ç¨‹","slug":"ç¼–ç¨‹","permalink":"http://ycx81.github.io/categories/%E7%BC%96%E7%A8%8B/"}],"tags":[{"name":"ç½‘ç»œ","slug":"ç½‘ç»œ","permalink":"http://ycx81.github.io/tags/%E7%BD%91%E7%BB%9C/"}]}],"categories":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://ycx81.github.io/categories/%E9%9A%8F%E7%AC%94/"},{"name":"æ—¥è®°","slug":"æ—¥è®°","permalink":"http://ycx81.github.io/categories/%E6%97%A5%E8%AE%B0/"},{"name":"ç¼–ç¨‹","slug":"ç¼–ç¨‹","permalink":"http://ycx81.github.io/categories/%E7%BC%96%E7%A8%8B/"}],"tags":[{"name":"åƒ","slug":"åƒ","permalink":"http://ycx81.github.io/tags/%E5%90%83/"},{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://ycx81.github.io/tags/%E9%9D%A2%E8%AF%95/"},{"name":"C/C++","slug":"C-C","permalink":"http://ycx81.github.io/tags/C-C/"},{"name":"çŸ¥è¯†æ‰‹å†Œ","slug":"çŸ¥è¯†æ‰‹å†Œ","permalink":"http://ycx81.github.io/tags/%E7%9F%A5%E8%AF%86%E6%89%8B%E5%86%8C/"},{"name":"redis","slug":"redis","permalink":"http://ycx81.github.io/tags/redis/"},{"name":"C++","slug":"C","permalink":"http://ycx81.github.io/tags/C/"},{"name":"åšå®¢æ­å»º","slug":"åšå®¢æ­å»º","permalink":"http://ycx81.github.io/tags/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"},{"name":"hexo","slug":"hexo","permalink":"http://ycx81.github.io/tags/hexo/"},{"name":"ç½‘ç»œ","slug":"ç½‘ç»œ","permalink":"http://ycx81.github.io/tags/%E7%BD%91%E7%BB%9C/"}]}